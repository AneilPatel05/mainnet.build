webpackJsonp([1],{

/***/ 100:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Timer = __webpack_require__(1833);

var _Timer2 = _interopRequireDefault(_Timer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Timer = (_dec = (0, _reactCssModules2.default)(_Timer2.default), _dec(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Timer, _React$Component);

  function Timer(_ref) {
    var lockTime = _ref.lockTime;
    (0, _classCallCheck3.default)(this, Timer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Timer.__proto__ || (0, _getPrototypeOf2.default)(Timer)).call(this));

    _this.timer = null;

    _this.tick = function () {
      var timeLeft = _this.state.timeLeft;

      var newTimeLeft = timeLeft - 1000;

      if (newTimeLeft <= 0) {
        _this.props.enabledButton();
      } else {
        _this.timer = setTimeout(_this.tick, 1000);
        _this.setState({
          timeLeft: newTimeLeft
        });
      }
    };

    _this.state = {
      lockTime: lockTime,
      timeLeft: null
    };
    return _this;
  }

  (0, _createClass3.default)(Timer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.tick();
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      var lockTime = this.state.lockTime;

      console.log(lockTime);

      var dateNow = new Date().getTime();
      var timeLeft = lockTime - dateNow;

      this.setState({
        timeLeft: timeLeft
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var timeLeft = this.state.timeLeft;

      var min = Math.ceil(timeLeft / 1000 / 60);

      return _react2.default.createElement(
        'div',
        { styleName: 'timer' },
        min > 0 ? min + ' minute left for refund' : 'refund ready'
      );
    }
  }]);
  return Timer;
}(_react2.default.Component), _class2.propTypes = {
  lockTime: _propTypes2.default.number
}, _temp)) || _class);
exports.default = Timer;

/***/ }),

/***/ 101:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Select = exports.TextArea = exports.Radio = exports.Checkbox = exports.NumberInput = exports.Input = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _tags = __webpack_require__(1904);

Object.defineProperty(exports, 'Input', {
  enumerable: true,
  get: function get() {
    return _tags.Input;
  }
});
Object.defineProperty(exports, 'NumberInput', {
  enumerable: true,
  get: function get() {
    return _tags.NumberInput;
  }
});
Object.defineProperty(exports, 'Checkbox', {
  enumerable: true,
  get: function get() {
    return _tags.Checkbox;
  }
});
Object.defineProperty(exports, 'Radio', {
  enumerable: true,
  get: function get() {
    return _tags.Radio;
  }
});
Object.defineProperty(exports, 'TextArea', {
  enumerable: true,
  get: function get() {
    return _tags.TextArea;
  }
});
Object.defineProperty(exports, 'Select', {
  enumerable: true,
  get: function get() {
    return _tags.Select;
  }
});

var _valuelink = __webpack_require__(1907);

var _valuelink2 = _interopRequireDefault(_valuelink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// this.state = { foo: '', bar: '' }  =>   Link.all(this, 'foo', 'bar')
_valuelink2.default.allFields = function (component) {
  return _valuelink2.default.all.apply(_valuelink2.default, [component].concat((0, _toConsumableArray3.default)((0, _keys2.default)(component.state))));
};

exports.default = _valuelink2.default;

/***/ }),

/***/ 1230:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey) {
  var storageKey = _swap2.default.network + ':btc:privateKey';
  var privateKey = _privateKey || _swap2.default.env.storage.getItem(storageKey);
  var account = void 0;

  var network = _swap2.default.isMainNet() ? _swap2.default.env.bitcoin.networks.bitcoin : _swap2.default.env.bitcoin.networks.testnet;

  if (!privateKey) {
    privateKey = _swap2.default.env.bitcoin.ECPair.makeRandom({ network: network }).toWIF();
  }

  account = new _swap2.default.env.bitcoin.ECPair.fromWIF(privateKey, network);

  account.getPublicKey = function () {
    return account.getPublicKeyBuffer().toString('hex');
  };
  account.getPrivateKey = function () {
    return privateKey;
  };

  if (!_privateKey) {
    _swap2.default.env.storage.setItem(storageKey, privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.getAddress(),
    publicKey: account.getPublicKey()
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1231:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(accountNameKey) {
  return accountNameKey;
};
var getPublicData = function getPublicData(accountNameKey) {
  return {
    address: window.localStorage.getItem(accountNameKey)
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1232:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey) {
  var storageKey = _swap2.default.network + ':eth:privateKey';
  var privateKey = _privateKey || _swap2.default.env.storage.getItem(storageKey);
  var account = void 0;

  if (privateKey) {
    account = _swap2.default.env.web3.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    account = _swap2.default.env.web3.eth.accounts.create();
  }

  _swap2.default.env.web3.eth.accounts.wallet.add(account.privateKey);

  if (!_privateKey) {
    _swap2.default.env.storage.setItem(storageKey, account.privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.address,
    publicKey: null
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey) {
  var storageKey = _swap2.default.network + ':ltc:privateKey';
  var privateKey = _privateKey || _swap2.default.env.storage.getItem(storageKey);
  var account = void 0;

  var network = (_swap2.default.isMainNet() ? _swap2.default.env.coininfo.litecoin.main : _swap2.default.env.coininfo.litecoin.test).toBitcoinJS();

  if (!privateKey) {
    privateKey = _swap2.default.env.bitcoin.ECPair.makeRandom({ network: network }).toWIF();
  }

  account = new _swap2.default.env.bitcoin.ECPair.fromWIF(privateKey, network);

  account.getPublicKey = function () {
    return account.getPublicKeyBuffer().toString('hex');
  };
  account.getPrivateKey = function () {
    return privateKey;
  };

  if (!_privateKey) {
    _swap2.default.env.storage.setItem(storageKey, privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.getAddress(),
    publicKey: account.getPublicKey()
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1235:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(34);

exports.default = new _swap.Events();
module.exports = exports['default'];

/***/ }),

/***/ 1244:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

var bitcoin = __webpack_require__(134);

var toPaddedHexString = function toPaddedHexString(num, len) {
  var str = num.toString(16);
  return "0".repeat(len - str.length) + str;
};

module.exports = function (amount) {
  var coin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 31;


  var simple_send = ["6f6d6e69", // omni
  "0000", // tx type
  "0000", // version
  // "0000001f", // 31 for Tether
  toPaddedHexString(coin, 8),
  // "000000003B9ACA00" // amount = 10 * 100 000 000 in HEX
  toPaddedHexString(Math.floor(amount * 100000000), 16)].join('');

  var data = Buffer.from(simple_send, "hex");

  var omniOutput = bitcoin.script.compile([bitcoin.opcodes.OP_RETURN,
  // payload for OMNI PROTOCOL:
  data]);

  return omniOutput;
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1245:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

var bitcoin = __webpack_require__(134);
var net = Object({"NODE_ENV":"production","ENTRY":"mainnet","LOCAL":"online","TESTNET":false,"MAINNET":true,"EXTENSION":false}).NETWORK === 'testnet' ? bitcoin.networks.testnet : bitcoin.networks.bitcoin;

/**
* creates an atomic swap bitcoin script
* @param swap_secret_hash hex with secret
* @param Bob_pubkey publicKey
* @param Alice_pubkey publicKey
* @param locktime Int
*/
var createScript = function createScript(swap_secret_hash, Alice_pubkey, Bob_pubkey, locktime) {
  /*
  operation::list SwapScript;
  SwapScript.push_back( operation(opcode::ripemd160) );
  SwapScript.push_back( operation(swap_secret_hash) );
  SwapScript.push_back( operation(opcode::equalverify) );
   SwapScript.push_back( operation(to_chunk(Bob_pubkey)) );
  SwapScript.push_back( operation(opcode::equal) );
   SwapScript.push_back( operation(opcode::if_) );
   SwapScript.push_back( operation(to_chunk(Bob_pubkey)) );
  SwapScript.push_back( operation(opcode::checksig) );
   SwapScript.push_back( operation(opcode::else_) );
  SwapScript.push_back( operation(uint32_to_data_chunk(locktime)) );
  SwapScript.push_back( operation(opcode::checklocktimeverify) );
  SwapScript.push_back( operation(opcode::drop) );
  SwapScript.push_back( operation(to_chunk(Alice_private.to_public().point() )) );
  SwapScript.push_back( operation(opcode::checksig) );
   SwapScript.push_back( operation(opcode::endif) );
  */

  var script = bitcoin.script.compile([bitcoin.opcodes.OP_RIPEMD160, Buffer.from(swap_secret_hash, 'hex'), bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(Bob_pubkey, 'hex'), bitcoin.opcodes.OP_EQUAL, bitcoin.opcodes.OP_IF, Buffer.from(Bob_pubkey, 'hex'), bitcoin.opcodes.OP_CHECKSIG, bitcoin.opcodes.OP_ELSE, bitcoin.script.number.encode(locktime), bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, bitcoin.opcodes.OP_DROP, Buffer.from(Alice_pubkey, 'hex'), bitcoin.opcodes.OP_CHECKSIG, bitcoin.opcodes.OP_ENDIF]);

  console.log(script);

  var scriptPubKey = bitcoin.script.scriptHash.output.encode(bitcoin.crypto.hash160(script));
  var scriptAddress = bitcoin.address.fromOutputScript(scriptPubKey, net);

  return {
    script: script,
    scriptPubKey: scriptPubKey,
    scriptAddress: scriptAddress
  };
};

module.exports = createScript;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1246:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "71af1b68ea0f662eb88996ea7a25bf8a.mp4";

/***/ }),

/***/ 1247:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _reactRouter = __webpack_require__(165);

var _UserTooltip = __webpack_require__(3245);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _arrowRight = __webpack_require__(3246);

var _arrowRight2 = _interopRequireDefault(_arrowRight);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserTooltip = (_dec = (0, _redaction.connect)({
  feeds: 'feeds.items',
  peer: 'ipfs.peer'
}), _dec2 = (0, _reactCssModules2.default)(_UserTooltip2.default), (0, _reactRouter.withRouter)(_class = _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(UserTooltip, _Component);

  function UserTooltip() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, UserTooltip);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = UserTooltip.__proto__ || (0, _getPrototypeOf2.default)(UserTooltip)).call.apply(_ref, [this].concat(args))), _this), _this.declineRequest = function (orderId, participantPeer) {
      _actions2.default.core.declineRequest(orderId, participantPeer);
      _actions2.default.core.updateCore();
    }, _this.acceptRequest = function (orderId, participantPeer) {
      var toggle = _this.props.toggle;


      _actions2.default.core.acceptRequest(orderId, participantPeer);
      _actions2.default.core.updateCore();

      if (typeof toggle === 'function') {
        toggle();
      }
    }, _this.autoAcceptRequest = function (orderId, participantPeer, link) {
      _this.acceptRequest(orderId, participantPeer);
      _this.props.history.push(link);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(UserTooltip, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          feeds = _props.feeds,
          mePeer = _props.peer;


      return !!feeds.length && _react2.default.createElement(
        'div',
        { styleName: 'column' },
        feeds.length < 3 ? feeds.map(function (row) {
          var request = row.request,
              _row$content = row.content,
              buyAmount = _row$content.buyAmount,
              buyCurrency = _row$content.buyCurrency,
              sellAmount = _row$content.sellAmount,
              sellCurrency = _row$content.sellCurrency,
              id = row.id,
              ownerPeer = row.peer;


          return mePeer === ownerPeer && request.map(function (_ref2) {
            var peer = _ref2.peer,
                reputation = _ref2.reputation;
            return _react2.default.createElement(
              'div',
              { styleName: 'userTooltip' },
              _react2.default.createElement(
                'div',
                { key: peer },
                _react2.default.createElement(
                  'div',
                  { styleName: 'title' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'userTooltip68', defaultMessage: 'User with' }),
                  _react2.default.createElement(
                    'b',
                    null,
                    reputation
                  ),
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'userTooltip72', defaultMessage: 'reputation wants to swap' })
                ),
                _react2.default.createElement(
                  'div',
                  { styleName: 'currency' },
                  _react2.default.createElement(
                    'span',
                    null,
                    buyAmount.toFixed(5),
                    ' ',
                    _react2.default.createElement(
                      'span',
                      { styleName: 'coin' },
                      buyCurrency
                    )
                  ),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'arrow' },
                    _react2.default.createElement('img', { src: _arrowRight2.default, alt: '' })
                  ),
                  _react2.default.createElement(
                    'span',
                    null,
                    sellAmount.toFixed(5),
                    ' ',
                    _react2.default.createElement(
                      'span',
                      { styleName: 'coin' },
                      sellCurrency
                    )
                  )
                )
              ),
              _react2.default.createElement('span', { styleName: 'decline', onClick: function onClick() {
                  return _this2.declineRequest(id, peer);
                } }),
              _react2.default.createElement(
                _reactRouterDom.Link,
                { to: _helpers.links.swap + '/' + sellCurrency + '-' + buyCurrency + '/' + id },
                _react2.default.createElement('div', { styleName: 'checked', onClick: function onClick() {
                    return _this2.acceptRequest(id, peer);
                  } })
              ),
              _react2.default.createElement(_controls.TimerButton, { isButton: false, onClick: function onClick() {
                  return _this2.autoAcceptRequest(id, peer, _helpers.links.swap + '/' + sellCurrency + '-' + buyCurrency + '/' + id);
                } })
            );
          });
        }) : _react2.default.createElement(
          'div',
          { styleName: 'feed' },
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: _helpers.links.feed },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'QUESTION15', defaultMessage: 'Go to the feed page' })
          )
        )
      );
    }
  }]);
  return UserTooltip;
}(_react.Component), _class2.propTypes = {
  toggle: _propTypes2.default.func.isRequired,
  feeds: _propTypes2.default.array.isRequired,
  peer: _propTypes2.default.string.isRequired
}, _temp2)) || _class) || _class) || _class);
exports.default = UserTooltip;

/***/ }),

/***/ 1250:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _helpers = __webpack_require__(20);

var _modals = __webpack_require__(3266);

var _modals2 = _interopRequireDefault(_modals);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ModalConductor = __webpack_require__(3322);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ModalConductor = (_dec = (0, _redaction.connect)({
  modals: 'modals'
}), _dec2 = (0, _reactCssModules2.default)(_ModalConductor2.default), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ModalConductor, _Component);

  function ModalConductor() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ModalConductor);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ModalConductor.__proto__ || (0, _getPrototypeOf2.default)(ModalConductor)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      offsetTop: 0
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ModalConductor, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(_ref2) {
      var modals = _ref2.modals;
      var offsetTop = this.state.offsetTop;


      var myOffsetTop = (0, _helpers.getPageOffset)().y;

      // When modal is showing add overflow: hidden to body and padding-right: ${scrollWidth}
      // to prevent screen from blinking
      if ((0, _keys2.default)(modals).length) {
        document.body.classList.add('withOpenedModal');
        document.body.style.paddingRight = (0, _helpers.getScrollBarWidth)() + 'px';

        if (myOffsetTop > 0) {
          this.setState({
            offsetTop: myOffsetTop
          });
        }
      } else {
        document.body.classList.remove('withOpenedModal');
        document.body.style.paddingRight = '0px';

        if (offsetTop > 0) {
          window.scrollTo(0, offsetTop);

          this.setState({
            offsetTop: 0
          });
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var modals = this.props.modals;


      var modalNames = (0, _keys2.default)(modals);
      var areModalsExist = Boolean(modalNames.length);

      return areModalsExist && _react2.default.createElement(
        'div',
        { styleName: 'modalConductor' },
        modalNames.map(function (key) {
          var _modals$key = modals[key],
              name = _modals$key.name,
              _modals$key$data = _modals$key.data,
              data = _modals$key$data === undefined ? {} : _modals$key$data,
              zIndex = _modals$key.zIndex;


          return _react2.default.createElement(_modals2.default[name], {
            key: name,
            name: name,
            data: data,
            style: { zIndex: zIndex }
          });
        })
      );
    }
  }]);
  return ModalConductor;
}(_react.Component), _class2.propTypes = {
  modals: _propTypes2.default.object
}, _temp2)) || _class) || _class);
exports.default = ModalConductor;

/***/ }),

/***/ 1251:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Group = __webpack_require__(3286);

var _Group2 = _interopRequireDefault(_Group);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(284);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Group = function Group(_ref) {
  var className = _ref.className,
      disabled = _ref.disabled,
      label = _ref.label,
      id = _ref.id,
      inputValueLink = _ref.inputValueLink,
      _ref$isInteger = _ref.isInteger,
      isInteger = _ref$isInteger === undefined ? false : _ref$isInteger,
      placeholder = _ref.placeholder,
      children = _ref.children;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      _FieldLabel2.default,
      { inRow: true },
      label
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'groupField', className: className },
      _react2.default.createElement(_Input2.default, {
        styleName: 'inputRoot',
        inputContainerClassName: 'inputContainer',
        valueLink: inputValueLink,
        type: 'number',
        pattern: isInteger ? '0-9' : '0-9.',
        id: id,
        placeholder: placeholder,
        disabled: disabled
      }),
      children
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Group, _Group2.default);

/***/ }),

/***/ 1254:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(327);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _routes = __webpack_require__(1263);

var _routes2 = _interopRequireDefault(_routes);

var _store = __webpack_require__(456);

var _store2 = _interopRequireDefault(_store);

var _Root = __webpack_require__(2036);

var _Root2 = _interopRequireDefault(_Root);

var _Loader = __webpack_require__(655);

var _Loader2 = _interopRequireDefault(_Loader);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_reactDom2.default.render(_react2.default.createElement(_Loader2.default, { showTips: true }), document.getElementById('root'));

(0, _helpers.migrate)().finally(function () {
  return setTimeout(function () {
    _reactDom2.default.render(_react2.default.createElement(_Root2.default, { history: _store.history, store: _store2.default, routes: _routes2.default }), document.getElementById('root'));
  }, 1000);
});

/***/ }),

/***/ 1263:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__(165);

var _reactRouterDom = __webpack_require__(62);

var _helpers = __webpack_require__(20);

var _Swap = __webpack_require__(1641);

var _Swap2 = _interopRequireDefault(_Swap);

var _Home = __webpack_require__(1918);

var _Home2 = _interopRequireDefault(_Home);

var _Wallet = __webpack_require__(1982);

var _Wallet2 = _interopRequireDefault(_Wallet);

var _Listing = __webpack_require__(2009);

var _Listing2 = _interopRequireDefault(_Listing);

var _History = __webpack_require__(2012);

var _History2 = _interopRequireDefault(_History);

var _NotFound = __webpack_require__(2024);

var _NotFound2 = _interopRequireDefault(_NotFound);

var _About = __webpack_require__(2025);

var _About2 = _interopRequireDefault(_About);

var _Currency = __webpack_require__(2026);

var _Currency2 = _interopRequireDefault(_Currency);

var _PartialClosure = __webpack_require__(2029);

var _PartialClosure2 = _interopRequireDefault(_PartialClosure);

var _CurrencyWallet = __webpack_require__(2034);

var _CurrencyWallet2 = _interopRequireDefault(_CurrencyWallet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var routes = _react2.default.createElement(
  _reactRouterDom.Switch,
  null,
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.swap + '/:buy-:sell/:orderId', component: _Swap2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: '/:fullName-wallet', component: _CurrencyWallet2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.home + ':buy-:sell/:orderId', component: _Home2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.home + ':buy-:sell', component: _Home2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.exchange, component: _Home2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.partial, component: _PartialClosure2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.aboutus, component: _About2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.listing, component: _Listing2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.history, component: _History2.default }),
  _react2.default.createElement(_reactRouter.Route, { path: _helpers.links.home + ':currency', component: _Currency2.default }),
  _react2.default.createElement(_reactRouter.Route, { exact: true, path: _helpers.links.home, component: _Wallet2.default }),
  _react2.default.createElement(_reactRouter.Route, { component: _NotFound2.default })
);

exports.default = routes;

/***/ }),

/***/ 1341:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hide = exports.show = exports.initialState = undefined;

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {};

var show = exports.show = function show(state, _ref) {
  var name = _ref.name,
      _ref$data = _ref.data,
      data = _ref$data === undefined ? {} : _ref$data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({}, name, {
    name: name,
    data: data
  }));
};

var hide = function hide(state, name) {
  var closingNotification = state[name],
      otherNotifications = (0, _objectWithoutProperties3.default)(state, [name]);

  return otherNotifications;
};
exports.hide = hide;

/***/ }),

/***/ 1344:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.close = exports.open = exports.initialState = undefined;

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// this is necessary to arrange the modals in the opening order, not alphabetical
var zIndex = 305;

var initialState = exports.initialState = {};

var open = exports.open = function open(state, _ref) {
  var name = _ref.name,
      _ref$data = _ref.data,
      data = _ref$data === undefined ? {} : _ref$data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({}, name, {
    name: name,
    data: data,
    zIndex: ++zIndex
  }));
};

var close = function close(state, name) {
  var closingModal = state[name],
      otherModals = (0, _objectWithoutProperties3.default)(state, [name]);


  zIndex -= 1;

  return otherModals;
};
exports.close = close;

/***/ }),

/***/ 1345:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setSwapHistory = exports.setTransactions = exports.setFilter = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  transactions: [],
  filter: 'all',
  swapHistory: {}
};

var setFilter = exports.setFilter = function setFilter(state, payload) {
  return (0, _assign2.default)({}, state, {
    filter: payload
  });
};

var setTransactions = exports.setTransactions = function setTransactions(state, payload) {
  return (0, _assign2.default)({}, state, {
    transactions: [].concat((0, _toConsumableArray3.default)(payload))
  });
};

var setSwapHistory = exports.setSwapHistory = function setSwapHistory(state, payload) {
  return (0, _assign2.default)({}, state, {
    swapHistory: payload
  });
};

/***/ }),

/***/ 1350:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setVisibility = exports.initialState = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isVisible: false,
  data: {}
};

var setVisibility = exports.setVisibility = function setVisibility(state, payload) {
  return (0, _assign2.default)({}, state, {
    isVisible: payload.isVisible,
    data: {
      text: payload.text,
      txId: payload.txId
    }
  });
};

/***/ }),

/***/ 1351:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setTokenApprove = exports.setTokenBalance = exports.setBalance = exports.setTokenAuthData = exports.setAuthData = exports.initialState = undefined;

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  ethData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'ETH',
    fullName: 'Ethereum'
  },
  btcData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'BTC',
    fullName: 'Bitcoin'
  },
  bchData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'BCH',
    fullName: 'BitcoinCash'
  },
  ltcData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'LTC',
    fullName: 'Litecoin'
  },
  usdtData: {
    address: '0x0',
    publicKey: '0x0',
    balance: 0,
    isBalanceFetched: false,
    currency: 'USDT',
    fullName: 'USDT'
  },
  nimData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'NIM',
    fullName: 'Nimiq'
  },
  eosData: {
    balance: 0,
    address: '',
    isBalanceFetched: true,
    currency: 'EOS',
    fullName: 'Eos'
  },
  telosData: {
    balance: 0,
    address: '',
    isBalanceFetched: true,
    currency: 'TLOS',
    fullName: 'Telos'
  },
  tokensData: {}
};

var setAuthData = exports.setAuthData = function setAuthData(state, _ref) {
  var name = _ref.name,
      data = _ref.data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({
    tokensData: (0, _assign2.default)({}, state.tokensData)
  }, name, (0, _assign2.default)({}, state[name], data)));
};

var setTokenAuthData = exports.setTokenAuthData = function setTokenAuthData(state, _ref2) {
  var name = _ref2.name,
      data = _ref2.data;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state[name], data)))
  });
};

var setBalance = exports.setBalance = function setBalance(state, _ref3) {
  var name = _ref3.name,
      amount = _ref3.amount,
      unconfirmedBalance = _ref3.unconfirmedBalance;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({
    tokensData: (0, _assign2.default)({}, state.tokensData)
  }, name, (0, _assign2.default)({}, state[name], {
    balance: Number(amount),
    unconfirmedBalance: unconfirmedBalance,
    isBalanceFetched: true
  })));
};

var setTokenBalance = exports.setTokenBalance = function setTokenBalance(state, _ref4) {
  var name = _ref4.name,
      amount = _ref4.amount;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], {
      balance: Number(amount),
      isBalanceFetched: true
    })))
  });
};

var setTokenApprove = exports.setTokenApprove = function setTokenApprove(state, _ref5) {
  var name = _ref5.name,
      approve = _ref5.approve;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], {
      approve: approve
    })))
  });
};

/***/ }),

/***/ 1352:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.deleteItems = exports.addItems = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  items: []
};

var addItems = exports.addItems = function addItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    items: [].concat((0, _toConsumableArray3.default)(payload))
  });
};

var deleteItems = exports.deleteItems = function deleteItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    items: payload
  });
};

/***/ }),

/***/ 1353:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.markCoinAsVisible = exports.markCoinAsHidden = exports.setFilter = exports.getOrders = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  orders: [],
  filter: 'btc-swap',
  hiddenCoinsList: JSON.parse(localStorage.getItem('hiddenCoinsList')) || []
};

var getOrders = exports.getOrders = function getOrders(state, _ref) {
  var orders = _ref.orders;
  return (0, _assign2.default)({}, state, {
    orders: orders
  });
};

var setFilter = exports.setFilter = function setFilter(state, _ref2) {
  var filter = _ref2.filter;
  return (0, _assign2.default)({}, state, {
    orders: [].concat((0, _toConsumableArray3.default)(state.orders)),
    filter: filter
  });
};

var markCoinAsHidden = exports.markCoinAsHidden = function markCoinAsHidden(state, coin) {
  return (0, _assign2.default)({}, state, {
    hiddenCoinsList: [].concat((0, _toConsumableArray3.default)(state.hiddenCoinsList), [coin])
  });
};
var markCoinAsVisible = exports.markCoinAsVisible = function markCoinAsVisible(state, coin) {
  return (0, _assign2.default)({}, state, {
    hiddenCoinsList: state.hiddenCoinsList.filter(function (c) {
      return c !== coin;
    })
  });
};

/***/ }),

/***/ 1354:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.userLeft = exports.userJoined = exports.set = exports.initialState = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isOnline: false,
  onlineUsers: 0,
  serverAddress: _appConfig2.default.ipfs.server,
  peer: ''
};

var set = exports.set = function set(state, payload) {
  return (0, _assign2.default)({}, state, payload);
};

/**
 * Событие "Пользователь вошел в сеть".
 */
var userJoined = exports.userJoined = function userJoined(state) {
  return (0, _assign2.default)({}, state, {
    onlineUsers: state.onlineUsers + 1
  });
};

/**
 * Событие "Пользователь вышел из сети".
 */
var userLeft = exports.userLeft = function userLeft(state) {
  return (0, _assign2.default)({}, state, {
    onlineUsers: state.onlineUsers - 1
  });
};

/***/ }),

/***/ 1355:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setApiServer = exports.setErrors = exports.setChecked = exports.initialState = undefined;

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  servers: _appConfig2.default.api,
  checked: false,
  errors: null
};

var setChecked = exports.setChecked = function setChecked(state, checked) {
  return (0, _assign2.default)({}, state, {
    checked: checked
  });
};

var setErrors = exports.setErrors = function setErrors(state, errors) {
  return (0, _assign2.default)({}, state, {
    errors: errors,
    checked: true
  });
};

var setApiServer = exports.setApiServer = function setApiServer(state, _ref) {
  var provider = _ref.provider,
      server = _ref.server;
  return (0, _assign2.default)({}, state, {
    servers: (0, _assign2.default)({}, state.servers, (0, _defineProperty3.default)({}, provider, server))
  });
};

/***/ }),

/***/ 1356:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initialState = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = {
  items: [{
    name: 'EOS',
    title: 'EOS',
    icon: 'eos',
    value: 'eos',
    fullTitle: 'EOS'
  }, {
    name: 'ETH',
    title: 'ETH',
    icon: 'eth',
    value: 'eth',
    fullTitle: 'ethereum'
  }, {
    name: 'LTC',
    title: 'LTC',
    icon: 'ltc',
    value: 'ltc',
    fullTitle: 'litecoin'
  }, {
    name: 'BTC',
    title: 'BTC',
    icon: 'btc',
    value: 'btc',
    fullTitle: 'bitcoin'
  }].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
    return {
      name: key.toUpperCase(),
      title: key.toUpperCase(),
      icon: key,
      value: key,
      fullTitle: key
    };
  })))

  // eslint-disable-next-line
};true && initialState.items.unshift({
  name: 'USDT',
  title: 'USDT',
  icon: 'usdt',
  value: 'usdt',
  fullTitle: 'USD Tether'
});

exports.initialState = initialState;

/***/ }),

/***/ 1359:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setIsDisplayingTable = exports.initialState = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isDisplayingTable: false
};

var setIsDisplayingTable = exports.setIsDisplayingTable = function setIsDisplayingTable(state, payload) {
  return (0, _assign2.default)({}, state, {
    isDisplayingTable: payload
  });
};

/***/ }),

/***/ 1379:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1381:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1401:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1404:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var network =  true ? _bitcoinjsLib2.default.networks.bitcoin : _bitcoinjsLib2.default.networks.testnet;

exports.default = {
  network: network
};

/***/ }),

/***/ 1430:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _bitcoincashjs = __webpack_require__(729);

var _bitcoincashjs2 = _interopRequireDefault(_bitcoincashjs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var network =  true ? _bitcoincashjs2.default.Networks.livenet : _bitcoincashjs2.default.Networks.testnet;

exports.default = {
  network: network
};

/***/ }),

/***/ 1435:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1531:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _coininfo = __webpack_require__(753);

var _coininfo2 = _interopRequireDefault(_coininfo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var networkCoininfo =  true ? _coininfo2.default.litecoin.main : _coininfo2.default.litecoin.test;
var network = networkCoininfo.toBitcoinJS();

exports.default = {
  network: network
};

/***/ }),

/***/ 154:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SubTitle = __webpack_require__(1923);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SubTitle = function SubTitle(_ref) {
  var children = _ref.children;
  return _react2.default.createElement(
    'h1',
    { styleName: 'subTitle' },
    children
  );
};

exports.default = (0, _reactCssModules2.default)(SubTitle, _SubTitle2.default);

/***/ }),

/***/ 1618:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _superagent = __webpack_require__(1619);

var _superagent2 = _interopRequireDefault(_superagent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createResponseHandler = function createResponseHandler(req, opts) {
  var debug = opts.method.toUpperCase() + ' ' + opts.endpoint;

  return new _promise2.default(function (fulfill, reject) {
    return req.end(function (err, res) {
      var serverError = void 0;

      // Errors

      if (!res && !err) {
        serverError = 'Connection failed: ' + debug;
      } else if (!res || res.statusCode >= 500) {
        serverError = 'We`re having technical issues at that moment. Please try again later';
      }

      if (serverError) {
        throw new Error('Connection failed: ' + debug + ', server error:' + serverError);
      }

      if (err) {
        // TODO write Error notifier
        opts.onComplete();
        return reject({ resData: err, res: res });
      }

      var body = res.body;


      if (!body) {
        try {
          body = JSON.parse(res.text);
        } catch (err) {
          return reject(err);
        }
      }

      var resData = opts.modifyResult(body);

      // Resolve

      fulfill(resData, res);
      opts.onComplete();
    });
  });
};

var defaultOptions = {
  sameOrigin: false,
  modifyResult: function modifyResult(resData) {
    return resData;
  },
  onComplete: function onComplete() {}

  /**
   *
   * @param {Object} options
   * @param {String} options.endpoint
   * @param {String} options.method
   * @param {Object} options.headers
   * @param {Object} options.query
   * @param {Object} options.body
   * @param {number} options.delay
   */
};var sendRequest = function sendRequest(options) {
  var opts = (0, _assign2.default)({}, defaultOptions, options);
  var req = _superagent2.default[opts.method](opts.endpoint);

  // req.set({
  //   'Content-Type': opts.formData ? 'application/x-www-form-urlencoded; charset=UTF-8' : 'application/json',
  //   ...(opts.headers || {}),
  // })

  if (opts.timeout) {
    req.timeout((0, _assign2.default)({
      response: 5000, // Wait 5 seconds for the server to start sending,
      deadline: 60000 }, opts.timeout));
  }

  if (opts.query) {
    req.query(opts.query);
  }

  if (opts.body) {
    req.send(opts.body);
  }

  if (opts.sameOrigin) {
    req.withCredentials();
  }

  var responseHandler = createResponseHandler(req, opts);

  responseHandler.abort = req.abort.bind(req);

  return responseHandler;
};

var requestByMethod = function requestByMethod(method) {
  return function (endpoint, opts) {
    return sendRequest((0, _assign2.default)({}, opts, { endpoint: endpoint, method: method }));
  };
};

exports.default = {
  get: requestByMethod('get'),
  post: requestByMethod('post'),
  patch: requestByMethod('patch'),
  put: requestByMethod('put'),
  delete: requestByMethod('delete')
};

/***/ }),

/***/ 1624:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  privateKeysSaved: 'privateKeysSaved',
  demoMoneyReceived: 'demoMoneyReceived',
  activeTabId: 'activeTabId',
  hiddenCoinsList: 'hiddenCoinsList',
  testnetSkip: 'testnetSkip',
  storageRevision: '_revision',
  eosActivationPayment: "mainnet" + ':eos:activationPayment',
  eosAccountActivated: "mainnet" + ':eos:activationFlag',
  telosAccountActivated: "mainnet" + ':telos:activationFlag'
};

/***/ }),

/***/ 1625:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eth: "mainnet" + ":eth:privateKey",
  btc: "mainnet" + ":btc:privateKey",
  bch: "mainnet" + ":bch:privateKey",
  ltc: "mainnet" + ":ltc:privateKey",
  eosPrivateKey: "mainnet" + ":eos:privateKey",
  eosPublicKey: "mainnet" + ":eos:publicKey",
  eosAccount: "mainnet" + ":eos:account",
  telosPrivateKey: "mainnet" + ":telos:privateKey",
  telosPublicKey: "mainnet" + ":telos:publicKey",
  telosAccount: "mainnet" + ":telos:account"
};

/***/ }),

/***/ 1626:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  SuccessWithdraw: 'SuccessWithdraw',
  Message: 'Message',
  ErrorNotification: 'ErrorNotification'
};

/***/ }),

/***/ 1627:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  Withdraw: 'WithdrawModal',
  Offer: 'OfferModal',
  PrivateKeys: 'PrivateKeysModal',
  EosRegister: 'EosRegisterModal',
  EosBuyAccount: 'EosBuyAccountModal',
  TelosRegister: 'TelosRegisterModal',
  Approve: 'Approve',
  ImportKeys: 'ImportKeys',
  ShowMoreCoins: 'ShowMoreCoins',
  EthChecker: 'EthChecker',
  ReceiveModal: 'ReceiveModal'
};

/***/ }),

/***/ 1631:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isLocalStorageEnabled = void 0;

try {
  window.localStorage.setItem('test', 'test');
  window.localStorage.removeItem('test');
  isLocalStorageEnabled = true;
} catch (e) {
  isLocalStorageEnabled = false;
}

var setItem = function setItem(key, value) {
  if (isLocalStorageEnabled) {
    window.localStorage.setItem(key, (0, _stringify2.default)(value));
  }
};

var getItem = function getItem(key) {
  if (isLocalStorageEnabled) {
    var value = window.localStorage.getItem(key);

    try {
      return JSON.parse(value);
    } catch (err) {
      return value;
    }
  }
  return undefined;
};

var removeItem = function removeItem(key) {
  if (isLocalStorageEnabled) {
    return window.localStorage.removeItem(key);
  }
};

var clear = function clear() {
  if (isLocalStorageEnabled) {
    window.localStorage.clear();
  }
};

var subscribe = function subscribe(key, originalListener) {
  var listener = function listener(event) {
    if (event.storageArea === window.localStorage && event.key === key) {
      originalListener(event.newValue, event.oldValue);
    }
  };
  window.addEventListener('storage', listener, false);
  return listener;
};

var unsubscribe = function unsubscribe(listener) {
  window.removeEventListener('storage', listener, false);
};

exports.default = {
  setItem: setItem,
  getItem: getItem,
  removeItem: removeItem,
  clear: clear,
  subscribe: subscribe,
  unsubscribe: unsubscribe
};

/***/ }),

/***/ 1633:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(91);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getApiServer = function getApiServer(provider) {
  var _getState = (0, _core.getState)(),
      servers = _getState.api.servers;

  return (servers || {})[provider] || _appConfig2.default.api[provider];
};

exports.default = {
  getApiServer: getApiServer
};

/***/ }),

/***/ 1634:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var tips = {
  loader: ['Do not forget to save your private keys!', '"Wow, this is awesome!" – @dexx7y Maintainer of Omni Core about our USDT swaps', '"That is great news" – Roger Ver, CEO of bitcoin.com, about connecting Bitcoin Cash to swap.online']
};

var getRandomTip = function getRandomTip(sectionName) {
  return tips[sectionName][Math.floor(Math.random() * tips[sectionName].length)];
};

exports.default = getRandomTip;

/***/ }),

/***/ 1635:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createRepo = exports.capitalize = exports.exitListener = exports.removeRepo = undefined;

var _getIterator2 = __webpack_require__(1253);

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _path = __webpack_require__(152);

var _path2 = _interopRequireDefault(_path);

var _fs = __webpack_require__(775);

var _fs2 = _interopRequireDefault(_fs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */
var removeRepo = exports.removeRepo = function removeRepo(pathToRepo) {
  /**
   * Check NODE_ENV if env = test or window === undefined
   * return this function
   * else delete REPO directory
   */
  if (typeof window !== 'undefined' || !_fs2.default.existsSync(pathToRepo)) {
    console.log('ENV === test or start with browser or file not exists with path');
    return;
  }

  try {
    /**
     * check files in directory
     * and call functions for each of them
     */
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = (0, _getIterator3.default)(_fs2.default.readdirSync(pathToRepo)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var file = _step.value;

        /**
         * Create path to file inner directory
         */
        var curPath = _path2.default.join(pathToRepo, file);

        /**
         * if file or directory not exist
         * then missing this path
         */
        if (!_fs2.default.existsSync(curPath)) {
          continue;
        }

        /**
         * if check path on directory then
         * recursive call else delete file
         */
        _fs2.default.lstatSync(curPath).isDirectory() ? removeRepo(curPath) : _fs2.default.unlinkSync(curPath);
      }

      /** If not files then remove directory */
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    _fs2.default.rmdirSync(pathToRepo);
  } catch (err) {
    console.error(err);
    process.exit(1);
  }
};

var exitListener = exports.exitListener = function exitListener() {
  /**
   * listening for array signalls
   * and call funct wich argument
   */
  ['SIGINT', 'SIGTERM', 'SIGBREAK'].forEach(function (SIGNAL) {
    process.on(SIGNAL, function () {
      console.log('Process out...');
      process.kill(0, 'SIGKILL');
      process.exit();
    });
  });
};

var capitalize = exports.capitalize = function capitalize(s) {
  return s.charAt(0).toUpperCase() + s.substr(1);
};

var createRepo = exports.createRepo = function createRepo() {
  var dirpath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : './data/';

  // dirpath += Math.ceil(Math.random() * 10000)
  return _path2.default.resolve(dirpath);
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))

/***/ }),

/***/ 1636:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ignoreProps = function ignoreProps() {
  for (var _len = arguments.length, ignored = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    ignored[_key - 1] = arguments[_key];
  }

  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var list = {};

  (0, _keys2.default)(props).forEach(function (key) {
    if (!ignored.includes(key)) {
      list[key] = props[key];
    }
  });

  return list;
};

exports.default = ignoreProps;

/***/ }),

/***/ 1637:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getPageOffset = function getPageOffset() {
  // isCSS1Compat for old browsers support like IE < 9,
  // which do not have window.pageYOffset and window.scrollY
  // For more info check https://developer.mozilla.org/ru/docs/Web/API/Window/scrollY
  var isCSS1Compat = (document.compatMode || '') === 'CSS1Compat';
  var isSupportPageOffset = window.pageXOffset !== undefined;

  if (isSupportPageOffset) {

    return {
      x: window.pageXOffset,
      y: window.pageYOffset
    };
  }

  return {
    x: isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,
    y: isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop
  };
};

exports.default = getPageOffset;

/***/ }),

/***/ 1638:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getScrollBarWidth = function getScrollBarWidth() {
  var outer = document.createElement('div');

  outer.style.visibility = 'hidden';
  outer.style.width = '100px';
  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps

  document.body.appendChild(outer);

  var widthNoScroll = outer.offsetWidth;

  // force scrollbars
  outer.style.overflow = 'scroll';

  // add innerdiv
  var inner = document.createElement('div');

  inner.style.width = '100%';
  outer.appendChild(inner);

  var widthWithScroll = inner.offsetWidth;

  // remove divs
  outer.parentNode.removeChild(outer);

  return widthNoScroll - widthWithScroll;
};

exports.default = getScrollBarWidth;

/***/ }),

/***/ 1639:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.migrate = undefined;

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _helpers = __webpack_require__(20);

var _initMigration = __webpack_require__(1640);

var _initMigration2 = _interopRequireDefault(_initMigration);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var migrations = [_initMigration2.default];

var migrate = exports.migrate = function migrate() {
  var revision = parseInt(_helpers.localStorage.getItem(_helpers.constants.localStorage.storageRevision), 10) || 0;
  if (migrations.length === revision) {
    console.log('Your storage is up-to-date');
    return _promise2.default.resolve();
  }
  console.log('Your current storage revision is ' + revision + ', need to run ' + (migrations.length - revision) + ' migrations');
  return migrations.splice(revision).reduce(function (queue, migration) {
    return queue.then(function () {
      return new _promise2.default(function (resolve, reject) {
        try {
          migration.run().then(function () {
            console.log('Migration "' + migration.name + '" (#' + (revision + 1) + ') successfully done.');
            revision++;
            resolve();
          }).catch(function (e) {
            console.error(e);
            reject('Migration "' + migration.name + '" (#' + (revision + 1) + ') is failed.');
          });
        } catch (e) {
          console.error(e);
          reject('Migration "' + migration.name + '" (#' + (revision + 1) + ') is failed.');
        }
      });
    });
  }, _promise2.default.resolve()).then(function () {
    console.log('All migrations done.');
  }).catch(function (e) {
    return console.error(e);
  }).finally(function () {
    _helpers.localStorage.setItem(_helpers.constants.localStorage.storageRevision, revision);
  });
};

/***/ }),

/***/ 1640:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var name = 'Initial migration';
var run = function run() {
  _helpers.localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, []);
  return _promise2.default.resolve();
};

exports.default = {
  name: name,
  run: run
};

/***/ }),

/***/ 1641:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swap = __webpack_require__(99);

var _swap2 = _interopRequireDefault(_swap);

var _redaction = __webpack_require__(47);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swaps = __webpack_require__(1722);

var _Share = __webpack_require__(1914);

var _Share2 = _interopRequireDefault(_Share);

var _EmergencySave = __webpack_require__(1916);

var _EmergencySave2 = _interopRequireDefault(_EmergencySave);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapComponent = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      usdtData = _ref$user.usdtData,
      ltcData = _ref$user.ltcData;
  return {
    items: [ethData, btcData, eosData, telosData, bchData, ltcData, usdtData /* nimData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    errors: 'api.errors',
    checked: 'api.checked'
  };
}), _dec(_class = function (_PureComponent) {
  (0, _inherits3.default)(SwapComponent, _PureComponent);

  function SwapComponent() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SwapComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = SwapComponent.__proto__ || (0, _getPrototypeOf2.default)(SwapComponent)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      swap: null,
      SwapComponent: null,
      currencyData: null
    }, _this.setSaveSwapId = function (orderId) {
      var swapsId = JSON.parse(localStorage.getItem('swapId'));

      if (swapsId === null || swapsId.length === 0) {
        swapsId = [];
      }

      if (!swapsId.includes(orderId)) {
        swapsId.push(orderId);
      }

      localStorage.setItem('swapId', (0, _stringify2.default)(swapsId));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SwapComponent, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props = this.props,
          items = _props.items,
          tokenItems = _props.tokenItems;
      var _props2 = this.props,
          orderId = _props2.match.params.orderId,
          history = _props2.history;


      if (!orderId) {
        history.push(_helpers.links.exchange);
        return;
      }

      try {
        var swap = new _swap2.default(orderId);
        var _SwapComponent = _swaps.swapComponents[swap.flow._flowName];
        var currencyData = items.concat(tokenItems).filter(function (item) {
          return item.currency === swap.sellCurrency.toUpperCase();
        })[0];

        window.swap = swap;

        this.setState({
          SwapComponent: _SwapComponent,
          swap: swap,
          currencyData: currencyData
        });
      } catch (error) {
        _actions2.default.notifications.show(_helpers.constants.notifications.ErrorNotification, { error: 'Sorry, but this order do not exsit already' });
        this.props.history.push(_helpers.links.exchange);
      }

      this.setSaveSwapId(orderId);
    }

    // componentWillMount() {
    //   actions.api.checkServers()
    //     .then(() => {
    //
    //     })
    // }

  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          swap = _state.swap,
          SwapComponent = _state.SwapComponent,
          currencyData = _state.currencyData;


      if (!swap || !SwapComponent) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { style: { paddingLeft: '30px', paddingTop: '30px' } },
        _react2.default.createElement(
          SwapComponent,
          { swap: swap, currencyData: currencyData },
          _react2.default.createElement(_Share2.default, { flow: swap.flow }),
          _react2.default.createElement(_EmergencySave2.default, { flow: swap.flow })
        )
      );
    }
  }]);
  return SwapComponent;
}(_react.PureComponent)) || _class);
exports.default = SwapComponent;

/***/ }),

/***/ 1651:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _Room = __webpack_require__(777);

var _Room2 = _interopRequireDefault(_Room);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Swap = function () {
  function Swap(id, order) {
    var _this = this;

    (0, _classCallCheck3.default)(this, Swap);

    this.id = null;
    this.isMy = null;
    this.owner = null;
    this.participant = null;
    this.buyCurrency = null;
    this.sellCurrency = null;
    this.buyAmount = null;
    this.sellAmount = null;
    this.ownerSwap = null;
    this.participantSwap = null;
    this.destinationBuyAddress = null;
    this.destinationSellAddress = null;

    var data = _swap2.default.env.storage.getItem('swap.' + id);

    if (!data) {
      order = order || _swap2.default.services.orders.getByKey(id);

      data = this._getDataFromOrder(order);
    }

    this.update(data);

    this.events = new _swap.Events();

    this.room = new _Room2.default({
      swapId: id,
      participantPeer: this.participant.peer
    });

    this.ownerSwap = _swap2.default.swaps[data.buyCurrency.toUpperCase()];
    this.participantSwap = _swap2.default.swaps[data.sellCurrency.toUpperCase()];

    var Flow = _swap2.default.flows[data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase()];

    if (!Flow) {
      throw new Error('Flow with name "' + data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase() + '" not found in SwapApp.flows');
    }

    this.flow = new Flow(this);

    // Change destination address on run time
    this.room.on('set destination buy address', function (data) {
      console.log("Other side change destination buy address", data);
      _this.update({
        destinationSellAddress: data.address
      });
    });
    this.room.on('set destination sell address', function (data) {
      console.log("Other side change destination sell address", data);
      _this.update({
        destinationBuyAddress: data.address
      });
    });
  }

  (0, _createClass3.default)(Swap, [{
    key: '_getDataFromOrder',
    value: function _getDataFromOrder(order) {
      // TODO add check order format (typeforce)

      var data = _swap.util.pullProps(order, 'id', 'isMy', 'owner', 'participant', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destinationBuyAddress', 'destinationSellAddress');

      var isMy = data.isMy,
          buyCurrency = data.buyCurrency,
          sellCurrency = data.sellCurrency,
          buyAmount = data.buyAmount,
          sellAmount = data.sellAmount,
          destinationBuyAddress = data.destinationBuyAddress,
          destinationSellAddress = data.destinationSellAddress,
          rest = (0, _objectWithoutProperties3.default)(data, ['isMy', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destinationBuyAddress', 'destinationSellAddress']);


      var swap = (0, _extends3.default)({}, rest, {
        isMy: isMy,
        buyCurrency: isMy ? buyCurrency : sellCurrency,
        sellCurrency: isMy ? sellCurrency : buyCurrency,
        buyAmount: isMy ? buyAmount : sellAmount,
        sellAmount: isMy ? sellAmount : buyAmount,
        destinationBuyAddress: isMy ? destinationBuyAddress : destinationSellAddress,
        destinationSellAddress: isMy ? destinationSellAddress : destinationBuyAddress
      });

      if (!swap.participant && !isMy) {
        swap.participant = swap.owner;
      }

      return swap;
    }
  }, {
    key: '_pullRequiredData',
    value: function _pullRequiredData(data) {
      return _swap.util.pullProps(data, 'id', 'isMy', 'owner', 'participant', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destinationBuyAddress', 'destinationSellAddress');
    }
  }, {
    key: '_saveState',
    value: function _saveState() {
      var data = this._pullRequiredData(this);

      _swap2.default.env.storage.setItem('swap.' + this.id, data);
    }
  }, {
    key: 'setDestinationBuyAddress',
    value: function setDestinationBuyAddress(address) {
      this.update({
        destinationBuyAddress: address
      });

      this.room.sendMessage({
        event: 'set destination buy address',
        data: {
          address: address
        }
      });
    }
  }, {
    key: 'setDestinationSellAddress',
    value: function setDestinationSellAddress(address) {
      this.update({
        destinationSellAddress: address
      });

      this.room.sendMessage({
        event: 'set destination sell address',
        data: {
          address: address
        }
      });
    }
  }, {
    key: 'update',
    value: function update(values) {
      var _this2 = this;

      (0, _keys2.default)(values).forEach(function (key) {
        if (key === 'buyAmount' || key === 'sellAmount') {
          _this2[key] = new _bignumber2.default(String(values[key]));
        } else {
          _this2[key] = values[key];
        }
      });
      this._saveState();
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      this.events.subscribe(eventName, handler);
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      this.events.unsubscribe(eventName, handler);
    }
  }]);
  return Swap;
}();

exports.default = Swap;
module.exports = exports['default'];

/***/ }),

/***/ 1655:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eth: 'ETH',
  btc: 'BTC',
  ltc: 'LTC',
  eos: 'EOS',
  nim: 'NIM',
  usdt: 'USDT',

  // ETH Tokens
  noxon: 'NOXON',
  jot: 'JOT',
  swap: 'SWAP',
  btrm: 'BTRM',
  syc: 'SYC',
  drt: 'DRT',
  yup: 'YUP',
  lev: 'LEV',
  arn: 'ARN',
  gusd: 'GUSD',
  kn: 'KN',
  bxb: 'BXB',
  dcn: 'DCN',
  mbrs: 'MBRS',
  sct: 'SCT',
  nexo: 'NEXO',
  bnty: 'BNTY',
  syc2: 'SYC2',
  pbl: 'PBL',
  senc: 'SENC',
  mth: 'MTH',
  xnk: 'XNK',
  xyo: 'XYO',
  star: 'STAR',
  loc: 'LOC',
  key: 'KEY',
  dai: 'DAI',
  tnt: 'TNT',
  avt: 'AVT',
  hbt: 'HBT',
  deb: 'DEB',
  trn: 'TRN',
  view: 'VIEW',
  cs: 'CS',
  pix: 'PIX',
  gen: 'GEN',
  data: 'DATA',
  emtv: 'EMTV',
  gai: 'GAI',
  cgs: 'CGC'
};
module.exports = exports['default'];

/***/ }),

/***/ 1656:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eos: 'eos',
  web3: 'web3',
  bitcoin: 'bitcoin',
  coininfo: 'coininfo',
  Ipfs: 'Ipfs',
  IpfsRoom: 'IpfsRoom',
  storage: 'storage'
};
module.exports = exports['default'];

/***/ }),

/***/ 1657:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  auth: 'auth',
  room: 'room',
  orders: 'orders',
  swaps: 'swaps'
};
module.exports = exports['default'];

/***/ }),

/***/ 1658:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  MAINNET: 'mainnet',
  TESTNET: 'testnet',
  LOCALNET: 'localnet'
};
module.exports = exports['default'];

/***/ }),

/***/ 1659:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StorageFactory = function () {
  function StorageFactory(storage) {
    (0, _classCallCheck3.default)(this, StorageFactory);

    this.prefix = 'swap:';
    this.storage = storage || global.localStorage;

    try {
      this.storage.setItem('test', 'test');
      this.storage.getItem('test');
      this.storage.removeItem('test');
    } catch (err) {
      throw new Error('SwapApp.env.StorageFactory: ' + err);
    }
  }

  (0, _createClass3.default)(StorageFactory, [{
    key: 'setItem',
    value: function setItem(key, value) {
      this.storage.setItem('' + this.prefix + key, (0, _stringify2.default)(value));
    }
  }, {
    key: 'getItem',
    value: function getItem(key) {
      var value = this.storage.getItem('' + this.prefix + key);

      try {
        return JSON.parse(value);
      } catch (err) {
        console.error('SwapApp.env.storage.getItem(' + key + ') parse error. Looks like the value was created w/o setItem method');
        console.error(err);
        return undefined;
      }
    }
  }, {
    key: 'removeItem',
    value: function removeItem(key) {
      return this.storage.removeItem('' + this.prefix + key);
    }
  }]);
  return StorageFactory;
}();

exports.default = StorageFactory;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))

/***/ }),

/***/ 1660:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _SwapApp = __webpack_require__(776);

var _SwapApp2 = _interopRequireDefault(_SwapApp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ServiceInterface = function () {
  (0, _createClass3.default)(ServiceInterface, [{
    key: '_constructor',


    // _constructor for aggregation
    value: function _constructor() {
      // service name, within it will be stored in SwapApp.services
      this._serviceName = null;
      this._dependsOn = null;
      this._spyHandlers = [];
    }
  }]);

  function ServiceInterface() {
    (0, _classCallCheck3.default)(this, ServiceInterface);

    this._constructor();
  }

  (0, _createClass3.default)(ServiceInterface, [{
    key: '_waitRelationsResolve',
    value: function _waitRelationsResolve() {
      var _this = this;

      if (this._dependsOn && this._dependsOn.length) {
        var dependsOnMap = {};

        this._dependsOn.forEach(function (Service) {
          dependsOnMap[Service.name] = {
            initialized: false
          };

          _SwapApp2.default.services[Service.name]._addWaitRelationHandler(function () {
            dependsOnMap[Service.name].initialized = true;

            var areAllExpectsInitialized = (0, _keys2.default)(dependsOnMap).every(function (serviceName) {
              return dependsOnMap[serviceName].initialized;
            });

            if (areAllExpectsInitialized) {
              _this.initService();
            }
          });
        });
      }
    }
  }, {
    key: '_addWaitRelationHandler',
    value: function _addWaitRelationHandler(handler) {
      this._spyHandlers.push(handler);
    }
  }, {
    key: '_tryInitService',
    value: function _tryInitService() {
      if (!this._dependsOn || !this._dependsOn.length) {
        this.initService();
        this._spyHandlers.forEach(function (handler) {
          return handler();
        });
        this._spyHandlers = [];
      }
    }
  }, {
    key: 'initService',
    value: function initService() {
      // init service on SwapApp mounting
    }
  }]);
  return ServiceInterface;
}();

exports.default = ServiceInterface;
module.exports = exports['default'];

/***/ }),

/***/ 1661:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapInterface = function () {
  function SwapInterface() {
    (0, _classCallCheck3.default)(this, SwapInterface);

    // service name, within it will be stored in SwapApp.swaps
    this._swapName = null;
  }

  (0, _createClass3.default)(SwapInterface, [{
    key: "_initSwap",
    value: function _initSwap() {
      // init service on SwapApp mounting
    }
  }]);
  return SwapInterface;
}();

exports.default = SwapInterface;
module.exports = exports["default"];

/***/ }),

/***/ 1662:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Collection = function () {
  (0, _createClass3.default)(Collection, [{
    key: "_constructor",


    // _constructor for aggregation
    value: function _constructor() {
      this.items = [];
      this.itemIds = {};
    }
  }]);

  function Collection() {
    (0, _classCallCheck3.default)(this, Collection);

    this._constructor();
  }

  /**
   * Add item at the start of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */


  (0, _createClass3.default)(Collection, [{
    key: "prepend",
    value: function prepend(item, key) {
      this.items.unshift(item);
      if (key) {
        for (var _key in this.itemIds) {
          if (this.itemIds.hasOwnProperty(_key)) {
            this.itemIds[_key] += 1;
          }
        }
        this.itemIds[key] = 0;
      }
      return item;
    }

    /**
     * Add item at the end of current collection
     * @param item
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "append",
    value: function append(item, key) {
      this.items.push(item);
      if (key) {
        this.itemIds[key] = this.items.length - 1;
      }
      return item;
    }

    /**
     * Remove item by index from current collection
     * @param index
     * @returns {*}
     */

  }, {
    key: "removeByIndex",
    value: function removeByIndex(index) {
      this.items = this.items.splice(index, 1);
    }

    /**
     * Remove item by key [id] from current collection
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "removeByKey",
    value: function removeByKey(key) {
      var _this = this;

      var index = this.itemIds[key];

      if (index !== undefined) {
        this.items.splice(index, 1);
        delete this.itemIds[key];

        (0, _keys2.default)(this.itemIds).forEach(function (key) {
          if (_this.itemIds[key] > index) {
            _this.itemIds[key]--;
          }
        });
      }
    }

    /**
     * Get index of item in current collection
     * @param item
     * @returns {number}
     */

  }, {
    key: "indexOf",
    value: function indexOf(item) {
      return this.items.indexOf(item);
    }

    /**
     * Get item by index from current collection
     * @param index
     * @returns {*}
     */

  }, {
    key: "getByIndex",
    value: function getByIndex(index) {
      return this.items[index];
    }

    /**
     * Get item by key [id] from current collection
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "getByKey",
    value: function getByKey(key) {
      return this.items[this.itemIds[key]];
    }
  }, {
    key: "isExist",
    value: function isExist(item) {
      return this.items.includes(item);
    }

    /**
     * Check if item with such name exists in current collection
     * @param key {string|number}
     * @returns {boolean}
     */

  }, {
    key: "isExistByKey",
    value: function isExistByKey(key) {
      return Boolean(this.getByKey(key));
    }
  }]);
  return Collection;
}();

exports.default = Collection;
module.exports = exports["default"];

/***/ }),

/***/ 1663:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.events = undefined;

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Event = function () {

  /**
   *
   * @param name {string}
   */
  function Event(name) {
    (0, _classCallCheck3.default)(this, Event);

    this.name = name;
    this.handlers = [];
  }

  /**
   * Add handler to current Event
   *
   * @param handler {function}
   */


  (0, _createClass3.default)(Event, [{
    key: 'addHandler',
    value: function addHandler(handler) {
      var _this = this;

      this.handlers.push(handler.bind({
        unsubscribe: function unsubscribe() {
          _this.removeHandler(handler);
        }
      }));
    }

    /**
     * Remove handler from current Event
     *
     * @param handler {function}
     * @returns {Array.<T>|*}
     */

  }, {
    key: 'removeHandler',
    value: function removeHandler(handler) {
      var handlerIndex = this.handlers.indexOf(handler);

      this.handlers.splice(handlerIndex, 1);
    }

    /**
     * Call all handlers in all priorities of current Event
     *
     * @param eventArgs {...array}
     */

  }, {
    key: 'call',
    value: function call() {
      for (var _len = arguments.length, eventArgs = Array(_len), _key = 0; _key < _len; _key++) {
        eventArgs[_key] = arguments[_key];
      }

      this.handlers.forEach(function (handler) {
        try {
          handler.apply(undefined, eventArgs);
        } catch (err) {
          console.error(err);
        }
      });
    }
  }]);
  return Event;
}();

var EventAggregator = function () {
  function EventAggregator() {
    (0, _classCallCheck3.default)(this, EventAggregator);

    this.events = {};
  }

  /**
   * Get Event by name
   *
   * @param name
   * @returns {*}
   */


  (0, _createClass3.default)(EventAggregator, [{
    key: 'getEvent',
    value: function getEvent(name) {
      var event = this.events[name];

      if (!event) {
        event = new Event(name);
        this.events[name] = event;
      }

      return event;
    }

    /**
     *
     * @param name {string}
     * @param handler {function}
     * @returns {{ event: *, handler: * }}
     */

  }, {
    key: 'subscribe',
    value: function subscribe(name, handler) {
      var event = this.getEvent(name);

      event.addHandler(handler);

      return { event: event, handler: handler };
    }

    /**
     *
     * @param eventName {string}
     * @param handler {function}
     */

  }, {
    key: 'unsubscribe',
    value: function unsubscribe(eventName, handler) {
      var event = this.getEvent(eventName);

      event.removeHandler(handler);
    }

    /**
     *
     * @param name {string}
     * @param eventArgs {...array}
     */

  }, {
    key: 'dispatch',
    value: function dispatch(name) {
      var event = this.getEvent(name);

      if (event) {
        var _console;

        for (var _len2 = arguments.length, eventArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          eventArgs[_key2 - 1] = arguments[_key2];
        }

        (_console = console).log.apply(_console, ['event', name].concat(eventArgs));
        event.call.apply(event, eventArgs);
      }
    }

    /**
     * Subscribe to Event and unsubscribe after call
     *
     * @param eventName {string}
     * @param handler {function}
     * @returns {{ event: *, handlerWrapper: (function(...[*])) }}
     */

  }, {
    key: 'once',
    value: function once(eventName, handler) {
      var event = this.getEvent(eventName);

      var handlerWrapper = function handlerWrapper() {
        var result = handler.apply(undefined, arguments);
        if (result) {
          event.removeHandler(handlerWrapper);
        }
      };

      event.addHandler(handlerWrapper);

      return { event: event, handlerWrapper: handlerWrapper };
    }
  }]);
  return EventAggregator;
}();

var events = new EventAggregator();

exports.default = EventAggregator;
exports.events = events;

/***/ }),

/***/ 1664:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pullProps = __webpack_require__(1665);

var _pullProps2 = _interopRequireDefault(_pullProps);

var _ignoreProps = __webpack_require__(1666);

var _ignoreProps2 = _interopRequireDefault(_ignoreProps);

var _typeforce = __webpack_require__(1667);

var _typeforce2 = _interopRequireDefault(_typeforce);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  pullProps: _pullProps2.default,
  ignoreProps: _ignoreProps2.default,
  typeforce: _typeforce2.default
};
module.exports = exports['default'];

/***/ }),

/***/ 1665:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var pullProps = function pullProps(obj) {
  for (var _len = arguments.length, props = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    props[_key - 1] = arguments[_key];
  }

  var result = {};

  props.forEach(function (propName) {
    result[propName] = obj[propName];
  });

  return result;
};

exports.default = pullProps;
module.exports = exports["default"];

/***/ }),

/***/ 1666:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ignoreProps = function ignoreProps() {
  for (var _len = arguments.length, ignored = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    ignored[_key - 1] = arguments[_key];
  }

  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var list = {};

  (0, _keys2.default)(props).forEach(function (key) {
    if (!ignored.includes(key)) {
      list[key] = props[key];
    }
  });

  return list;
};

exports.default = ignoreProps;
module.exports = exports["default"];

/***/ }),

/***/ 1667:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _values = __webpack_require__(355);

var _values2 = _interopRequireDefault(_values);

var _isCoinAddress, _isPublicKey;

var _typeforce = __webpack_require__(49);

var _typeforce2 = _interopRequireDefault(_typeforce);

var _constants = __webpack_require__(492);

var _constants2 = _interopRequireDefault(_constants);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var check = function check() {
  try {
    return _typeforce2.default.apply(undefined, arguments);
  } catch (err) {
    console.error(err);
    return false;
  }
};

var isNumeric = function isNumeric(value) {
  return !isNaN(parseFloat(value)) && isFinite(value);
};

var isCoinName = function isCoinName(value) {
  return (0, _values2.default)(_constants2.default.COINS).map(function (v) {
    return v.toLowerCase();
  }).includes(value.toLowerCase());
};

var isCoinAddress = (_isCoinAddress = {}, (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.eos, '?String'), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.eth, function (value) {
  return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.btc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{34}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.ltc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{34}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.nim, function (value) {
  return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.noxon, function (value) {
  return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.swap, function (value) {
  return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.usdt, function (value) {
  return typeof value === 'string';
}), _isCoinAddress);

var isPublicKey = (_isPublicKey = {}, (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.eos, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.eth, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.btc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value);
}), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.ltc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value);
}), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.nim, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.noxon, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.swap, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.usdt, '?String'), _isPublicKey);

exports.default = {
  t: _typeforce2.default,
  check: check,
  isNumeric: isNumeric,
  isCoinName: isCoinName,
  isCoinAddress: isCoinAddress,
  isPublicKey: isPublicKey
};
module.exports = exports['default'];

/***/ }),

/***/ 1668:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _swap2 = __webpack_require__(34);

var _swap3 = _interopRequireDefault(_swap2);

var _Room = __webpack_require__(777);

var _Room2 = _interopRequireDefault(_Room);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Flow = function () {
  function Flow(swap) {
    (0, _classCallCheck3.default)(this, Flow);

    this.swap = swap;
    this.steps = [];

    this.stepNumbers = {};

    this.state = {
      step: 0,
      isWaitingForOwner: false
    };
  }

  (0, _createClass3.default)(Flow, [{
    key: '_persistState',
    value: function _persistState() {
      var _this = this;

      var state = _swap3.default.env.storage.getItem('flow.' + this.swap.id);

      if (state) {
        this.state = (0, _extends3.default)({}, this.state, state);
      }

      this.swap.room.on('persist state', function (values) {
        _this.setState(values, true);
      });
    }
  }, {
    key: '_persistSteps',
    value: function _persistSteps() {
      var _this2 = this;

      this.steps = [].concat((0, _toConsumableArray3.default)(this._getInitialSteps()), (0, _toConsumableArray3.default)(this._getSteps()));

      // wait events placed
      setTimeout(function () {
        if (_this2.state.step >= _this2.steps.length) return;else _this2.goStep(_this2.state.step);
      }, 0);
    }
  }, {
    key: '_getInitialSteps',
    value: function _getInitialSteps() {
      var _this3 = this;

      var flow = this;

      return [

      // Check if order exists

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _swap, orderId, owner;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _swap = _this3.swap, orderId = _swap.id, owner = _swap.owner;

                // TODO how can we don't know who is participant???
                // TODO if there is no participant in `order` then no need to create Flow...
                // if there is no order it orderCollection that means owner is offline, so `swap.owner` will be undefined

                if (!owner) {
                  flow.setState({
                    isWaitingForOwner: true
                  });

                  _swap3.default.services.room.on('new orders', function (_ref2) {
                    var orders = _ref2.orders;

                    var order = orders.find(function (_ref3) {
                      var id = _ref3.id;
                      return id === orderId;
                    });

                    if (order) {
                      this.unsubscribe();

                      var _order = orders.getByKey(orderId);

                      // TODO move this to Swap.js
                      flow.swap.room = new _Room2.default({
                        participantPeer: _order.owner.peer
                      });
                      flow.swap.update((0, _extends3.default)({}, _order, {
                        participant: _order.owner
                      }));
                      flow.finishStep({
                        isWaitingForOwner: false
                      });
                    }
                  });
                } else {
                  flow.finishStep();
                }

              case 2:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this3);
      }))];
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      return [];
    }
  }, {
    key: '_saveState',
    value: function _saveState() {
      _swap3.default.env.storage.setItem('flow.' + this.swap.id, this.state);
    }
  }, {
    key: 'finishStep',
    value: function finishStep(data, constraints) {
      console.log('on step ' + this.state.step + ', constraints =', constraints);

      if (constraints) {
        var step = constraints.step,
            silentError = constraints.silentError;


        var n_step = this.stepNumbers[step];
        console.log('trying to finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);

        if (step && this.state.step != n_step) {
          if (silentError) {
            console.error('Cant finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);
            return;
          } else {
            throw new Error('Cant finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);
            return;
          }
        }
      }

      console.log('proceed to step ' + (this.state.step + 1) + ', data=', data);

      this.goNextStep(data);
    }
  }, {
    key: 'goNextStep',
    value: function goNextStep(data) {
      var step = this.state.step;

      var newStep = step + 1;

      this.swap.events.dispatch('leave step', step);

      this.setState((0, _extends3.default)({
        step: newStep
      }, data || {}), true);

      if (this.steps.length > newStep) this.goStep(newStep);
    }
  }, {
    key: 'goStep',
    value: function goStep(index) {
      this.swap.events.dispatch('enter step', index);
      this.steps[index]();
    }
  }, {
    key: 'setState',
    value: function setState(values, save) {
      this.state = (0, _extends3.default)({}, this.state, values);

      if (save) {
        this._saveState();
      }

      this.swap.events.dispatch('state update', this.state, values);
    }
  }]);
  return Flow;
}();

exports.default = Flow;
module.exports = exports['default'];

/***/ }),

/***/ 1669:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var open = function open(name, data) {
  return _reducers2.default.modals.open({ name: name, data: data });
};

var close = function close(name) {
  return _reducers2.default.modals.close(name);
};

exports.default = {
  open: open,
  close: close
};

/***/ }),

/***/ 1670:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var show = function show(isVisible, text, txId) {
  return _reducers2.default.loader.setVisibility({ isVisible: isVisible, text: text, txId: txId });
};
var hide = function hide() {
  return _reducers2.default.loader.setVisibility({});
};

exports.default = {
  show: show,
  hide: hide
};

/***/ }),

/***/ 1671:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var show = function show(name, data) {
  return _reducers2.default.notifications.show({ name: name, data: data });
};

var hide = function hide(name) {
  return _reducers2.default.notifications.hide(name);
};

exports.default = {
  show: show,
  hide: hide
};

/***/ }),

/***/ 1672:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _moment = __webpack_require__(778);

var _moment2 = _interopRequireDefault(_moment);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sign = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var btcPrivateKey, bchPrivateKey, ltcPrivateKey, ethPrivateKey, _ethPrivateKey, eosSign, telosSign;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            btcPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.btc);
            bchPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.bch);
            ltcPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.ltc);
            ethPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.eth);
            _ethPrivateKey = _actions2.default.eth.login(ethPrivateKey);


            _actions2.default.btc.login(btcPrivateKey);
            _actions2.default.bch.login(bchPrivateKey);
            _actions2.default.usdt.login(btcPrivateKey);
            _actions2.default.ltc.login(ltcPrivateKey);

            (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
              _actions2.default.token.login(_ethPrivateKey, _appConfig2.default.erc20[name].address, name, _appConfig2.default.erc20[name].decimals, _appConfig2.default.erc20[name].fullName);
            });
            // await actions.nimiq.login(_ethPrivateKey)

            eosSign = function () {
              var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                var eosActivePrivateKey, eosActivePublicKey, eosAccount, eosAccountActivated;
                return _regenerator2.default.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        eosActivePrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.eosPrivateKey);
                        eosActivePublicKey = localStorage.getItem(_helpers.constants.privateKeyNames.eosPublicKey);
                        eosAccount = localStorage.getItem(_helpers.constants.privateKeyNames.eosAccount);
                        eosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.eosAccountActivated) === "true";

                        if (!(eosActivePrivateKey && eosActivePublicKey && eosAccount)) {
                          _context.next = 12;
                          break;
                        }

                        _context.next = 7;
                        return _actions2.default.eos.login(eosAccount, eosActivePrivateKey, eosActivePublicKey);

                      case 7:
                        if (eosAccountActivated) {
                          _context.next = 10;
                          break;
                        }

                        _context.next = 10;
                        return _actions2.default.eos.updateActivationStatus();

                      case 10:
                        _context.next = 14;
                        break;

                      case 12:
                        _context.next = 14;
                        return _actions2.default.eos.loginWithNewAccount();

                      case 14:
                        _context.next = 16;
                        return _actions2.default.eos.getBalance();

                      case 16:
                      case 'end':
                        return _context.stop();
                    }
                  }
                }, _callee, undefined);
              }));

              return function eosSign() {
                return _ref2.apply(this, arguments);
              };
            }();

            telosSign = function () {
              var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                var telosActivePrivateKey, telosActivePublicKey, telosAccount, telosAccountActivated, _ref4, accountName, activePrivateKey, activePublicKey;

                return _regenerator2.default.wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        telosActivePrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPrivateKey);
                        telosActivePublicKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPublicKey);
                        telosAccount = localStorage.getItem(_helpers.constants.privateKeyNames.telosAccount);
                        telosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.telosAccountActivated) === "true";

                        if (!(telosActivePrivateKey && telosActivePublicKey && telosAccount)) {
                          _context2.next = 11;
                          break;
                        }

                        _actions2.default.tlos.login(telosAccount, telosActivePrivateKey, telosActivePublicKey);

                        if (telosAccountActivated) {
                          _context2.next = 9;
                          break;
                        }

                        _context2.next = 9;
                        return _actions2.default.tlos.activateAccount(telosAccount, telosActivePrivateKey, telosActivePublicKey);

                      case 9:
                        _context2.next = 19;
                        break;

                      case 11:
                        _context2.next = 13;
                        return _actions2.default.tlos.loginWithNewAccount();

                      case 13:
                        _ref4 = _context2.sent;
                        accountName = _ref4.accountName;
                        activePrivateKey = _ref4.activePrivateKey;
                        activePublicKey = _ref4.activePublicKey;
                        _context2.next = 19;
                        return _actions2.default.tlos.activateAccount(accountName, activePrivateKey, activePublicKey);

                      case 19:
                        _context2.next = 21;
                        return _actions2.default.tlos.getBalance();

                      case 21:
                      case 'end':
                        return _context2.stop();
                    }
                  }
                }, _callee2, undefined);
              }));

              return function telosSign() {
                return _ref3.apply(this, arguments);
              };
            }();

            eosSign();
            telosSign();

          case 14:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function sign() {
    return _ref.apply(this, arguments);
  };
}();

var getBalances = function getBalances() {
  _actions2.default.eth.getBalance();
  _actions2.default.btc.getBalance();
  _actions2.default.bch.getBalance();
  _actions2.default.ltc.getBalance();
  _actions2.default.usdt.getBalance();
  _actions2.default.eos.getBalance();
  _actions2.default.tlos.getBalance();

  (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
    _actions2.default.token.getBalance(name);
  });
  // actions.nimiq.getBalance()
};
var getDemoMoney =  true ? function () {} : function () {
  _helpers.request.get('https://swap.wpmix.net/demokeys.php', {}).then(function (r) {
    window.localStorage.clear();
    localStorage.setItem(_helpers.constants.privateKeyNames.btc, r[0]);
    localStorage.setItem(_helpers.constants.privateKeyNames.eth, r[1]);
    localStorage.setItem(_helpers.constants.localStorage.demoMoneyReceived, true);
    window.location.reload();
  });
};

var getExchangeRate = function getExchangeRate(sellCurrency, buyCurrency) {
  return new _promise2.default(function (resolve, reject) {
    var url = 'https://api.cryptonator.com/api/full/' + sellCurrency + '-' + buyCurrency;

    _helpers.request.get(url).then(function (_ref5) {
      var exchangeRate = _ref5.ticker.price;

      resolve(exchangeRate);
    }).catch(function () {
      resolve(1);
    });
  });
};

var setTransactions = function setTransactions() {
  return _promise2.default.all([_actions2.default.btc.getTransaction(), _actions2.default.eth.getTransaction(), _actions2.default.ltc.getTransaction()].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (name) {
    return _actions2.default[name].getTransaction(name);
  })))).then(function (transactions) {
    var _ref6;

    var data = (_ref6 = []).concat.apply(_ref6, [[]].concat((0, _toConsumableArray3.default)(transactions))).sort(function (a, b) {
      return b.date - a.date;
    });
    _reducers2.default.history.setTransactions(data);
  });
};

var getText = function getText() {
  var _getState = (0, _core.getState)(),
      _getState$user = _getState.user,
      ethData = _getState$user.ethData,
      btcData = _getState$user.btcData,
      eosData = _getState$user.eosData,
      telosData = _getState$user.telosData,
      bchData = _getState$user.bchData,
      ltcData = _getState$user.ltcData;

  var text = '\n  You will need this instruction only in case of emergency (if you lost your keys) \r\n\n  please do NOT waste your time and go back to swap.online\r\n\n  \r\n\n  \r\n\n  \r\n\n  \r\n\n' + window.location.hostname + ' emergency only instruction\n\r\n\n#ETHEREUM\n\r\n\nEthereum address: ' + ethData.address + '  \r\n\nPrivate key: ' + ethData.privateKey + '\r\n\n\r\n\nHow to access tokens and ethers: \r\n\n1. Go here https://www.myetherwallet.com/#send-transaction \r\n\n2. Select \'Private key\'\r\n\n3. paste private key to input and click "unlock"\r\n\n\r\n\n# BITCOIN\r\n\n\r\n\nBitcoin address: ' + btcData.address + '\r\n\nPrivate key: ' + btcData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\r\n\n2. login\r\n\n3. Go to settings > addresses > import\r\n\n4. paste private key and click "Ok"\r\n\n\r\n\n* We don`t store your private keys and will not be able to restore them!\n\r\n\n# EOS\r\n\n\r\n\nEOS Master Private Key: ' + eosData.masterPrivateKey + '\r\n\nAccount name: ' + eosData.address + '\r\n\n\r\n\n# TELOS\r\n\n\r\n\nTELOS Active Private Key: ' + telosData.activePrivateKey + '\r\n\nAccount name: ' + telosData.address + '\r\n\n\n#BITCOIN CASH\r\n\n\r\n\nBitcoinCash address: ' + bchData.address + '  \r\n\nPrivate key: ' + bchData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\n2. login\n3. Go to settings > addresses > import\n4. paste private key and click "Ok"\n\r\n\n#LITECOIN\n\r\n\nLitecoin address: ' + ltcData.address + '  \r\n\nPrivate key: ' + ltcData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\n2. login\n3. Go to settings > addresses > import\n4. paste private key and click "Ok"\n\r\n\n';

  return text;
};

var downloadPrivateKeys = function downloadPrivateKeys() {
  var element = document.createElement('a');
  var text = getText();
  var message = 'Check your browser downloads';

  element.setAttribute('href', 'data:text/plaincharset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', window.location.hostname + '_keys_' + (0, _moment2.default)().format('DD.MM.YYYY') + '.txt');

  element.style.display = 'none';
  document.body.appendChild(element);
  element.click();
  document.body.removeChild(element);

  _actions2.default.notifications.show(_helpers.constants.notifications.Message, {
    message: message
  });
};

window.downloadPrivateKeys = downloadPrivateKeys;

exports.default = {
  sign: sign,
  getBalances: getBalances,
  getDemoMoney: getDemoMoney,
  getExchangeRate: getExchangeRate,
  setTransactions: setTransactions,
  downloadPrivateKeys: downloadPrivateKeys
};

/***/ }),

/***/ 1674:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _core = __webpack_require__(91);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var addItemToFeed = function addItemToFeed(feeds) {
  var filteredFeeds = feeds.filter(function (f) {
    return f.request.length !== 0;
  });
  _reducers2.default.feeds.addItems(filteredFeeds);
};

var deleteItemToFeed = function deleteItemToFeed(orderId) {
  var _getState = (0, _core.getState)(),
      feeds = _getState.feeds;

  var filteredFeeds = (0, _keys2.default)(feeds).map(function (k) {
    return feeds[k];
  }).filter(function (f) {
    return f.id === orderId;
  });

  _reducers2.default.feeds.deleteItems(filteredFeeds);
};

var getFeedDataFromOrder = function getFeedDataFromOrder(orders) {
  var feeds = orders.map(function (order) {
    return {
      peer: order.owner.peer,
      id: order.id,
      content: {
        sellCurrency: order.sellCurrency,
        buyCurrency: order.buyCurrency,
        sellAmount: order.sellAmount,
        buyAmount: order.buyAmount
      },
      request: order.requests
    };
  });

  addItemToFeed(feeds);
};

exports.default = {
  getFeedDataFromOrder: getFeedDataFromOrder,
  deleteItemToFeed: deleteItemToFeed
};

/***/ }),

/***/ 1675:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(91);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getOrders = function getOrders(orders) {
  _reducers2.default.core.getOrders({ orders: orders });
};

var setFilter = function setFilter(filter) {
  _reducers2.default.core.setFilter({ filter: filter });
};

var acceptRequest = function acceptRequest(orderId, participantPeer) {
  var order = _swap2.default.services.orders.getByKey(orderId);
  order.acceptRequest(participantPeer);
};

var declineRequest = function declineRequest(orderId, participantPeer) {
  var order = _swap2.default.services.orders.getByKey(orderId);
  order.declineRequest(participantPeer);
};

var removeOrder = function removeOrder(orderId) {
  _swap2.default.services.orders.remove(orderId);
  _actions2.default.feed.deleteItemToFeed(orderId);
};

var sendRequest = function sendRequest(orderId, callback) {
  var order = _swap2.default.services.orders.getByKey(orderId);

  order.sendRequest(callback);
};

var createOrder = function createOrder(data) {
  return _swap2.default.services.orders.create(data);
};

var requestToPeer = function requestToPeer(event, peer, data, callback) {
  _swap2.default.services.orders.requestToPeer(event, peer, data, callback);
};

var updateCore = function updateCore() {
  var orders = _swap2.default.services.orders.items;

  getOrders(orders);
  getSwapHistory();
  _actions2.default.feed.getFeedDataFromOrder(orders);
};

var getSwapHistory = function getSwapHistory() {
  var swapId = JSON.parse(localStorage.getItem('swapId'));

  if (swapId === null || swapId.length === 0) {
    return;
  }

  var historySwap = swapId.map(function (item) {
    return (0, _assign2.default)({}, _swap2.default.env.storage.getItem('swap.' + item), _swap2.default.env.storage.getItem('flow.' + item));
  });

  _reducers2.default.history.setSwapHistory(historySwap);
};

var markCoinAsHidden = function markCoinAsHidden(coin) {
  var list = (0, _core.getState)().core.hiddenCoinsList || [];
  if (!list.includes(coin)) {
    _reducers2.default.core.markCoinAsHidden(coin);
    localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, (0, _stringify2.default)((0, _core.getState)().core.hiddenCoinsList));
  }
};

var markCoinAsVisible = function markCoinAsVisible(coin) {
  _reducers2.default.core.markCoinAsVisible(coin);
  localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, (0, _stringify2.default)((0, _core.getState)().core.hiddenCoinsList));
};

exports.default = {
  getOrders: getOrders,
  setFilter: setFilter,
  createOrder: createOrder,
  getSwapHistory: getSwapHistory,
  updateCore: updateCore,
  sendRequest: sendRequest,
  acceptRequest: acceptRequest,
  declineRequest: declineRequest,
  removeOrder: removeOrder,
  markCoinAsHidden: markCoinAsHidden,
  markCoinAsVisible: markCoinAsVisible,
  requestToPeer: requestToPeer
};

/***/ }),

/***/ 1676:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setFilter = function setFilter(filter) {
  _reducers2.default.history.setFilter(filter);
};

var ordersFilter = function ordersFilter(filter) {
  _reducers2.default.orders.ordersFilter(filter);
};

exports.default = {
  setFilter: setFilter,
  ordersFilter: ordersFilter
};

/***/ }),

/***/ 1677:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _bigi = __webpack_require__(83);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(48);

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _bitcoinjsMessage = __webpack_require__(1678);

var _bitcoinjsMessage2 = _interopRequireDefault(_bitcoinjsMessage);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoinjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoinjsLib2.default.ECPair(d, null, { network: _helpers.btc.network });
  } else {
    console.info('Created account Bitcoin ...');
    keyPair = _bitcoinjsLib2.default.ECPair.makeRandom({ network: _helpers.btc.network });
    privateKey = keyPair.toWIF();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.btc, privateKey);

  var account = new _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.btc.network); // eslint-disable-line
  var address = account.getAddress();
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    privateKey: privateKey,
    publicKey: publicKey
  };

  window.getBtcAddress = function () {
    return data.address;
  };

  console.info('Logged in with Bitcoin', data);
  _reducers2.default.user.setAuthData({ name: 'btcData', data: data });
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.btcData.address;

  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address).then(function (_ref) {
    var balance = _ref.balance,
        unconfirmedBalance = _ref.unconfirmedBalance;

    console.log('BTC Balance: ', balance);
    console.log('BTC unconfirmedBalance Balance: ', unconfirmedBalance);
    _reducers2.default.user.setBalance({ name: 'btcData', amount: balance, unconfirmedBalance: unconfirmedBalance });
    return balance;
  }, function () {
    return _promise2.default.reject();
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address).then(function (_ref2) {
    var balance = _ref2.balance;
    return balance;
  });
};

var fetchTx = function fetchTx(hash) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/tx/' + hash);
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.btcData.address;

    var url = _helpers.api.getApiServer('bitpay') + '/txs/?address=' + address;

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.txs.map(function (item) {
        return {
          type: 'btc',
          hash: item.txid,
          confirmations: item.confirmations,
          value: item.vout.filter(function (item) {
            return item.scriptPubKey.addresses[0] === address;
          })[0].value,
          date: item.time * 1000,
          direction: address === item.vout[0].scriptPubKey.addresses[0] ? 'in' : 'out'
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var createScript = function createScript(data) {
  var secretHash = data.secretHash,
      ownerPublicKey = data.ownerPublicKey,
      recipientPublicKey = data.recipientPublicKey,
      lockTime = data.lockTime;


  var script = _bitcoinjsLib2.default.script.compile([_bitcoinjsLib2.default.opcodes.OP_RIPEMD160, Buffer.from(secretHash, 'hex'), _bitcoinjsLib2.default.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), _bitcoinjsLib2.default.opcodes.OP_EQUAL, _bitcoinjsLib2.default.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), _bitcoinjsLib2.default.opcodes.OP_CHECKSIG, _bitcoinjsLib2.default.opcodes.OP_ELSE, _bitcoinjsLib2.default.script.number.encode(lockTime), _bitcoinjsLib2.default.opcodes.OP_CHECKLOCKTIMEVERIFY, _bitcoinjsLib2.default.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), _bitcoinjsLib2.default.opcodes.OP_CHECKSIG, _bitcoinjsLib2.default.opcodes.OP_ENDIF]);

  var scriptPubKey = _bitcoinjsLib2.default.script.scriptHash.output.encode(_bitcoinjsLib2.default.crypto.hash160(script));
  var scriptAddress = _bitcoinjsLib2.default.address.fromOutputScript(scriptPubKey, { network: _helpers.btc.network });

  return {
    scriptAddress: scriptAddress
  };
};

var send = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(from, to, amount) {
    var feeValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 15000;

    var _getState3, privateKey, keyPair, tx, unspents, fundValue, totalUnspent, skipValue, txRaw;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState3 = (0, _core.getState)(), privateKey = _getState3.user.btcData.privateKey;
            keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.btc.network);
            tx = new _bitcoinjsLib2.default.TransactionBuilder(_helpers.btc.network);
            _context.next = 5;
            return fetchUnspents(from);

          case 5:
            unspents = _context.sent;
            fundValue = new _bignumber.BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber();
            totalUnspent = unspents.reduce(function (summ, _ref4) {
              var satoshis = _ref4.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;


            unspents.forEach(function (_ref5) {
              var txid = _ref5.txid,
                  vout = _ref5.vout;
              return tx.addInput(txid, vout, 0xfffffffe);
            });
            tx.addOutput(to, fundValue);

            if (skipValue > 546) {
              tx.addOutput(from, skipValue);
            }

            tx.inputs.forEach(function (input, index) {
              tx.sign(index, keyPair);
            });

            txRaw = tx.buildIncomplete();


            broadcastTx(txRaw.toHex());

            return _context.abrupt('return', txRaw);

          case 16:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function send(_x, _x2, _x3) {
    return _ref3.apply(this, arguments);
  };
}();

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address + '/utxo');
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('bitpay') + '/tx/send', {
    body: {
      rawtx: txRaw
    }
  });
};

var signMessage = function signMessage(message, encodedPrivateKey) {
  var keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(encodedPrivateKey, [_bitcoinjsLib2.default.networks.bitcoin, _bitcoinjsLib2.default.networks.testnet]);
  var privateKey = keyPair.d.toBuffer(32);

  var signature = _bitcoinjsMessage2.default.sign(message, privateKey, keyPair.compressed);

  return signature.toString('base64');
};

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  fetchUnspents: fetchUnspents,
  createScript: createScript,
  broadcastTx: broadcastTx,
  fetchTx: fetchTx,
  fetchBalance: fetchBalance,
  signMessage: signMessage
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1683:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _bitcoincashjs = __webpack_require__(729);

var _bitcoincashjs2 = _interopRequireDefault(_bitcoincashjs);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var address = void 0;

  if (privateKey) {
    address = new _bitcoincashjs2.default.PrivateKey(privateKey).toAddress(_helpers.bcash.network);
  } else {
    privateKey = new _bitcoincashjs2.default.PrivateKey(_helpers.bcash.network);
    address = privateKey.toAddress(_helpers.bcash.network);

    localStorage.setItem(_helpers.constants.privateKeyNames.bch, privateKey.toWIF());
  }

  var _bch$Address = _bitcoincashjs2.default.Address,
      BitpayFormat = _bch$Address.BitpayFormat,
      CashAddrFormat = _bch$Address.CashAddrFormat;


  var data = {
    addressBitpay: address.toString(BitpayFormat),
    address: address.toString(CashAddrFormat),
    privateKey: privateKey
  };

  _reducers2.default.user.setAuthData({ name: 'bchData', data: data });
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.bchData.address;

  var url = _helpers.api.getApiServer('bch') + '/addr/' + address;

  return _helpers.request.get(url).then(function (_ref) {
    var balance = _ref.balance;

    _reducers2.default.user.setBalance({ name: 'bchData', amount: balance });
    return balance;
  }, function () {
    return _promise2.default.reject();
  });
};

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/addr/' + address + '/utxo');
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('bch') + '/tx/send', {
    body: {
      rawtx: txRaw
    }
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/addr/' + address).then(function (_ref2) {
    var balance = _ref2.balance;
    return balance;
  });
};

exports.default = {
  login: login,
  getBalance: getBalance,
  fetchUnspents: fetchUnspents,
  broadcastTx: broadcastTx,
  fetchBalance: fetchBalance
};

/***/ }),

/***/ 1684:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _bigi = __webpack_require__(83);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(48);

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoinjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoinjsLib2.default.ECPair(d, null, { network: _helpers.ltc.network });
  } else {
    console.info('Created account Litecoin ...');
    keyPair = _bitcoinjsLib2.default.ECPair.makeRandom({ network: _helpers.ltc.network });
    privateKey = keyPair.toWIF();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.ltc, privateKey);

  var account = new _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.ltc.network); // eslint-disable-line
  var address = account.getAddress();
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    privateKey: privateKey,
    publicKey: publicKey
  };

  window.getLtcAddress = function () {
    return data.address;
  };

  console.info('Logged in with Litecoin', data);
  _reducers2.default.user.setAuthData({ name: 'ltcData', data: data });
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.ltcData.address;

  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address).then(function (_ref) {
    var balance = _ref.balance,
        unconfirmedBalance = _ref.unconfirmedBalance;

    console.log('LTC Balance: ', balance);
    console.log('LTC unconfirmedBalance Balance: ', unconfirmedBalance);
    _reducers2.default.user.setBalance({ name: 'ltcData', amount: balance, unconfirmedBalance: unconfirmedBalance });
    return balance;
  }, function () {
    return _promise2.default.reject();
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address).then(function (_ref2) {
    var balance = _ref2.balance;
    return balance;
  });
};

var fetchTx = function fetchTx(hash) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/tx/' + hash);
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.ltcData.address;

    var url = _helpers.api.getApiServer('ltc') + '/txs/?address=' + address;

    function getValue(item) {
      if (item.vin.filter(function (item) {
        return item.addr === address;
      }).length === item.vin.length && item.vout.filter(function (item) {
        return item.scriptPubKey.addresses[0] === address;
      }).length === item.vout.length) {
        return (parseFloat(item.valueIn) - parseFloat(item.valueOut)).toFixed(8);
      } else {
        return item.vin.filter(function (item) {
          return item.addr === address;
        }).length > 0 ? item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] !== address;
        }).reduce(function (sum, current) {
          return sum + parseFloat(current.value);
        }, 0) : item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] === address;
        }).reduce(function (sum, current) {
          return sum + parseFloat(current.value);
        }, 0);
      }
    }

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.txs.map(function (item) {
        return {
          type: 'ltc',
          hash: item.txid,
          confirmations: item.confirmations,
          value: getValue(item),
          date: item.time * 1000,
          direction: item.vin.filter(function (item) {
            return item.addr === address;
          }).length > 0 ? 'out' : 'in'
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(from, to, amount) {
    var _getState3, privateKey, keyPair, tx, unspents, fundValue, feeValue, totalUnspent, skipValue, txRaw;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState3 = (0, _core.getState)(), privateKey = _getState3.user.ltcData.privateKey;
            keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.ltc.network);
            tx = new _bitcoinjsLib2.default.TransactionBuilder(_helpers.ltc.network);
            _context.next = 5;
            return fetchUnspents(from);

          case 5:
            unspents = _context.sent;
            fundValue = new _bignumber.BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber();
            feeValue = 100000;
            totalUnspent = unspents.reduce(function (summ, _ref4) {
              var satoshis = _ref4.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - feeValue - fundValue;


            unspents.forEach(function (_ref5) {
              var txid = _ref5.txid,
                  vout = _ref5.vout;
              return tx.addInput(txid, vout, 0xfffffffe);
            });
            tx.addOutput(to, fundValue);
            tx.addOutput(from, skipValue);

            tx.inputs.forEach(function (input, index) {
              tx.sign(index, keyPair);
            });

            txRaw = tx.buildIncomplete();


            broadcastTx(txRaw.toHex());

          case 16:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function send(_x, _x2, _x3) {
    return _ref3.apply(this, arguments);
  };
}();

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address + '/utxo');
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('ltc') + '/tx/send', {
    body: {
      rawtx: txRaw
    }
  });
};

exports.default = {
  login: login,
  getBalance: getBalance,
  fetchTx: fetchTx,
  getTransaction: getTransaction,
  send: send,
  fetchUnspents: fetchUnspents,
  broadcastTx: broadcastTx,
  fetchBalance: fetchBalance
};

/***/ }),

/***/ 1685:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _helpers = __webpack_require__(20);

var _core = __webpack_require__(91);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _web = __webpack_require__(349);

var _web2 = _interopRequireDefault(_web);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _referral = __webpack_require__(781);

var _referral2 = _interopRequireDefault(_referral);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var data = void 0;

  if (privateKey) {
    data = _web2.default.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    console.info('Created account Ethereum ...');
    data = _web2.default.eth.accounts.create();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.eth, data.privateKey);

  _web2.default.eth.accounts.wallet.add(data.privateKey);
  _reducers2.default.user.setAuthData({ name: 'ethData', data: data });

  window.getEthAddress = function () {
    return data.address;
  };
  _referral2.default.newReferral(data.address);

  console.info('Logged in with Ethereum', data);

  return data.privateKey;
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.ethData.address;

  return _web2.default.eth.getBalance(address).then(function (result) {
    var amount = Number(_web2.default.utils.fromWei(result));

    _reducers2.default.user.setBalance({ name: 'ethData', amount: amount });
    return amount;
  }).catch(function (e) {
    console.log('Web3 doesn\'t work please again later ', e.error);
  });
};

var fetchBalance = function fetchBalance(address) {
  return _web2.default.eth.getBalance(address).then(function (result) {
    return Number(_web2.default.utils.fromWei(result));
  }).catch(function (e) {
    console.log('Web3 doesn\'t work please again later ', e.error);
  });
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.ethData.address;

    var url = _helpers.api.getApiServer('etherscan') + '?module=account&action=txlist&address=' + address + '&startblock=0&endblock=99999999&sort=asc&apikey=RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM';

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.result.filter(function (item) {
        return item.value > 0;
      }).map(function (item) {
        return {
          type: 'eth',
          confirmations: item.confirmations,
          hash: item.hash,
          status: item.blockHash != null ? 1 : 0,
          value: _web2.default.utils.fromWei(item.value),
          address: item.to,
          date: item.timeStamp * 1000,
          direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out'
        };
      });

      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function send(from, to, amount) {
  return new _promise2.default(function () {
    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(resolve, reject) {
      var _getState3, privateKey, params, txRaw, receipt;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _getState3 = (0, _core.getState)(), privateKey = _getState3.user.ethData.privateKey;
              params = {
                to: String(to).trim(),
                gasPrice: '20000000000',
                gas: '21000',
                value: _web2.default.utils.toWei(String(amount))
              };
              txRaw = void 0;
              _context.next = 5;
              return _web2.default.eth.accounts.signTransaction(params, privateKey).then(function (result) {
                txRaw = _web2.default.eth.sendSignedTransaction(result.rawTransaction);
              });

            case 5:
              _context.next = 7;
              return txRaw.on('transactionHash', function (hash) {
                var txId = _appConfig2.default.link.etherscan + '/tx/' + hash;
                _actions2.default.loader.show(true, true, txId);
              }).on('error', function (err) {
                reject(err);
              });

            case 7:
              receipt = _context.sent;


              resolve(receipt);

            case 9:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, undefined);
    }));

    return function (_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }());
};

exports.default = {
  send: send,
  login: login,
  getBalance: getBalance,
  fetchBalance: fetchBalance,
  getTransaction: getTransaction
};

/***/ }),

/***/ 1689:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parseFloat = __webpack_require__(356);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _parseInt = __webpack_require__(783);

var _parseInt2 = _interopRequireDefault(_parseInt);

var _isNan = __webpack_require__(357);

var _isNan2 = _interopRequireDefault(_isNan);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _constants = __webpack_require__(353);

var _constants2 = _interopRequireDefault(_constants);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _eos = __webpack_require__(333);

var _eosjsKeygen = __webpack_require__(784);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var generateAccountName = function generateAccountName(publicKey) {
  var account = Array.prototype.map.call(publicKey.substr(0, 12).toLowerCase(), function (char) {
    return (0, _isNan2.default)((0, _parseInt2.default)(char, 10)) || char < 5 ? char : char - 4;
  }).join('');

  return account;
};

var updateActivationStatus = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _getState, _getState$user$eosDat, address, activePublicKey, eosInstance, _ref2, permissions, accountActivePublicKey;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState = (0, _core.getState)(), _getState$user$eosDat = _getState.user.eosData, address = _getState$user$eosDat.address, activePublicKey = _getState$user$eosDat.activePublicKey;
            _context.next = 3;
            return _eos.eos.getInstance();

          case 3:
            eosInstance = _context.sent;
            _context.next = 6;
            return eosInstance.getAccount(address);

          case 6:
            _ref2 = _context.sent;
            permissions = _ref2.permissions;
            accountActivePublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;


            if (accountActivePublicKey === activePublicKey) {
              localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, true);
            } else {
              localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, false);
            }

          case 10:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function updateActivationStatus() {
    return _ref.apply(this, arguments);
  };
}();

var register = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(accountName, activePrivateKey) {
    var eosInstance, eccInstance, _ref4, permissions, activePublicKey, requiredPublicKey;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return _eos.eos.getInstance();

          case 2:
            eosInstance = _context2.sent;
            _context2.next = 5;
            return _eos.ecc.getInstance();

          case 5:
            eccInstance = _context2.sent;
            _context2.next = 8;
            return eosInstance.getAccount(accountName);

          case 8:
            _ref4 = _context2.sent;
            permissions = _ref4.permissions;
            activePublicKey = eccInstance.privateToPublic(activePrivateKey);
            requiredPublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;

            if (!(activePublicKey !== requiredPublicKey)) {
              _context2.next = 14;
              break;
            }

            throw new Error(activePublicKey + ' is not equal to ' + requiredPublicKey);

          case 14:

            localStorage.setItem(_constants2.default.privateKeyNames.eosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, true);

            _context2.next = 20;
            return login(accountName, activePrivateKey, activePublicKey);

          case 20:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function register(_x, _x2) {
    return _ref3.apply(this, arguments);
  };
}();

var loginWithNewAccount = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var keys, activePrivateKey, activePublicKey, accountName;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return _eosjsKeygen.Keygen.generateMasterKeys();

          case 2:
            keys = _context3.sent;
            activePrivateKey = keys.privateKeys.active, activePublicKey = keys.publicKeys.active;
            accountName = generateAccountName(activePublicKey);


            localStorage.setItem(_constants2.default.privateKeyNames.eosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, false);

            _context3.next = 11;
            return login(accountName, activePrivateKey, activePublicKey);

          case 11:
            return _context3.abrupt('return', { accountName: accountName, activePrivateKey: activePrivateKey, activePublicKey: activePublicKey });

          case 12:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function loginWithNewAccount() {
    return _ref5.apply(this, arguments);
  };
}();

var login = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(accountName, activePrivateKey, activePublicKey) {
    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _reducers2.default.user.setAuthData({ name: 'eosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName } });

          case 1:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, undefined);
  }));

  return function login(_x3, _x4, _x5) {
    return _ref6.apply(this, arguments);
  };
}();

var buyAccount = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var eosPrivateKey, accountName, paymentTx, eccInstance, eosPublicKey, _getState2, btcData, btcAddress, btcPrivateKey, message, signature, activationTx;

    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            eosPrivateKey = localStorage.getItem(_constants2.default.privateKeyNames.eosPrivateKey);
            accountName = localStorage.getItem(_constants2.default.privateKeyNames.eosAccount);
            paymentTx = localStorage.getItem(_constants2.default.localStorage.eosActivationPayment);
            _context5.next = 5;
            return _eos.ecc.getInstance();

          case 5:
            eccInstance = _context5.sent;
            eosPublicKey = eccInstance.privateToPublic(eosPrivateKey);
            _getState2 = (0, _core.getState)(), btcData = _getState2.user.btcData;
            btcAddress = btcData.address;
            btcPrivateKey = btcData.privateKey;

            if (paymentTx) {
              _context5.next = 15;
              break;
            }

            _context5.next = 13;
            return sendActivationPayment({ from: btcAddress });

          case 13:
            paymentTx = _context5.sent;

            localStorage.setItem(_constants2.default.localStorage.eosActivationPayment, paymentTx);

          case 15:
            message = accountName + ':' + eosPublicKey;
            _context5.next = 18;
            return _actions2.default.btc.signMessage(message, btcPrivateKey);

          case 18:
            signature = _context5.sent;
            _context5.next = 21;
            return activateAccount({
              accountName: accountName, eosPublicKey: eosPublicKey, btcAddress: btcAddress, signature: signature, paymentTx: paymentTx
            });

          case 21:
            activationTx = _context5.sent;


            if (activationTx) {
              console.log('eos account activated', activationTx);
              localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, true);
            } else {
              console.log('eos account already activated');
            }

          case 23:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function buyAccount() {
    return _ref7.apply(this, arguments);
  };
}();

var sendActivationPayment = function () {
  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_ref9) {
    var from = _ref9.from;

    var _config$api$eos, buyAccountPriceInBTC, buyAccountPaymentRecipient, feeValue, txid;

    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _config$api$eos = _appConfig2.default.api.eos, buyAccountPriceInBTC = _config$api$eos.buyAccountPriceInBTC, buyAccountPaymentRecipient = _config$api$eos.buyAccountPaymentRecipient;
            feeValue = 15000;
            _context6.next = 4;
            return _actions2.default.btc.send(from, buyAccountPaymentRecipient, buyAccountPriceInBTC, feeValue);

          case 4:
            txid = _context6.sent;
            return _context6.abrupt('return', txid.getId());

          case 6:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined);
  }));

  return function sendActivationPayment(_x6) {
    return _ref8.apply(this, arguments);
  };
}();

var activateAccount = function () {
  var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(_ref11) {
    var accountName = _ref11.accountName,
        eosPublicKey = _ref11.eosPublicKey,
        btcAddress = _ref11.btcAddress,
        signature = _ref11.signature,
        paymentTx = _ref11.paymentTx;
    var registerEndpoint, transactionId, response;
    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            registerEndpoint = _appConfig2.default.api.eos.registerEndpoint;
            transactionId = -1;
            _context7.prev = 2;
            _context7.next = 5;
            return fetch(registerEndpoint, {
              method: 'POST',
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              body: (0, _stringify2.default)({
                publicKey: eosPublicKey,
                accountName: accountName,
                address: btcAddress,
                signature: signature,
                txid: paymentTx
              })
            });

          case 5:
            response = _context7.sent;


            transactionId = response.json().transactionId;
            _context7.next = 12;
            break;

          case 9:
            _context7.prev = 9;
            _context7.t0 = _context7['catch'](2);

            console.error(_context7.t0);

          case 12:
            return _context7.abrupt('return', transactionId);

          case 13:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined, [[2, 9]]);
  }));

  return function activateAccount(_x7) {
    return _ref10.apply(this, arguments);
  };
}();

var getBalance = function () {
  var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
    var _getState3, address, eosInstance, balance, amount;

    return _regenerator2.default.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _getState3 = (0, _core.getState)(), address = _getState3.user.eosData.address;

            if (!(typeof address !== 'string')) {
              _context8.next = 3;
              break;
            }

            return _context8.abrupt('return');

          case 3:
            _context8.next = 5;
            return _eos.eos.getInstance();

          case 5:
            eosInstance = _context8.sent;
            _context8.next = 8;
            return eosInstance.getCurrencyBalance({
              code: 'eosio.token',
              symbol: 'EOS',
              account: address
            });

          case 8:
            balance = _context8.sent;
            amount = (0, _parseFloat2.default)(balance[0]) || 0;


            _reducers2.default.user.setBalance({ name: 'eosData', amount: amount });

            return _context8.abrupt('return', amount);

          case 12:
          case 'end':
            return _context8.stop();
        }
      }
    }, _callee8, undefined);
  }));

  return function getBalance() {
    return _ref12.apply(this, arguments);
  };
}();

var send = function () {
  var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(from, to, amount) {
    var _getState4, address, eosInstance, transfer;

    return _regenerator2.default.wrap(function _callee9$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            _getState4 = (0, _core.getState)(), address = _getState4.user.eosData.address;

            if (!(typeof address !== 'string')) {
              _context9.next = 3;
              break;
            }

            return _context9.abrupt('return');

          case 3:
            _context9.next = 5;
            return _eos.eos.getInstance();

          case 5:
            eosInstance = _context9.sent;
            _context9.next = 8;
            return eosInstance.transaction({
              actions: [{
                account: 'eosio.token',
                name: 'transfer',
                authorization: [{
                  actor: from,
                  permission: 'active'
                }],
                data: {
                  from: from,
                  to: to.trim(),
                  quantity: amount + '.0000 EOS',
                  memo: ''
                }
              }]
            });

          case 8:
            transfer = _context9.sent;

          case 9:
          case 'end':
            return _context9.stop();
        }
      }
    }, _callee9, undefined);
  }));

  return function send(_x8, _x9, _x10) {
    return _ref13.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  loginWithNewAccount: loginWithNewAccount,
  updateActivationStatus: updateActivationStatus,
  register: register,
  getBalance: getBalance,
  send: send,
  buyAccount: buyAccount
};

/***/ }),

/***/ 1710:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _parseFloat = __webpack_require__(356);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _parseInt = __webpack_require__(783);

var _parseInt2 = _interopRequireDefault(_parseInt);

var _isNan = __webpack_require__(357);

var _isNan2 = _interopRequireDefault(_isNan);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _constants = __webpack_require__(353);

var _constants2 = _interopRequireDefault(_constants);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _eos = __webpack_require__(333);

var _eosjsKeygen = __webpack_require__(784);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var generateAccountName = function generateAccountName(publicKey) {
  var account = Array.prototype.map.call(publicKey.substr(0, 12).toLowerCase(), function (char) {
    return (0, _isNan2.default)((0, _parseInt2.default)(char, 10)) || char < 5 ? char : char - 4;
  }).join('');

  return account;
};

var privateToPublic = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(privateKey) {
    var eccInstance;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _eos.ecc.getInstance();

          case 2:
            eccInstance = _context.sent;
            return _context.abrupt('return', eccInstance.privateToPublic(privateKey, 'TLOS'));

          case 4:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function privateToPublic(_x) {
    return _ref.apply(this, arguments);
  };
}();

var register = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(accountName, activePrivateKey) {
    var telosInstance, _ref3, permissions, activePublicKey, requiredPublicKey;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return _eos.telos.getInstance();

          case 2:
            telosInstance = _context2.sent;
            _context2.next = 5;
            return telosInstance.getAccount(accountName);

          case 5:
            _ref3 = _context2.sent;
            permissions = _ref3.permissions;
            _context2.next = 9;
            return privateToPublic(activePrivateKey);

          case 9:
            activePublicKey = _context2.sent;
            requiredPublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;

            if (!(activePublicKey !== requiredPublicKey)) {
              _context2.next = 13;
              break;
            }

            throw new Error(activePublicKey + ' is not equal to ' + requiredPublicKey);

          case 13:

            localStorage.setItem(_constants2.default.privateKeyNames.telosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccount, accountName);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccountActivated, true);

            _reducers2.default.user.setAuthData({ name: 'telosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName } });

          case 18:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function register(_x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

var login = function login(accountName, activePrivateKey, activePublicKey) {
  _reducers2.default.user.setAuthData({ name: 'telosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName } });
};

var getBalance = function () {
  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _getState, address, telosInstance, balance, amount;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _getState = (0, _core.getState)(), address = _getState.user.telosData.address;

            if (!(typeof address !== 'string')) {
              _context3.next = 3;
              break;
            }

            return _context3.abrupt('return');

          case 3:
            _context3.next = 5;
            return _eos.telos.getInstance();

          case 5:
            telosInstance = _context3.sent;
            _context3.next = 8;
            return telosInstance.getCurrencyBalance({
              code: 'eosio.token',
              symbol: 'TLOS',
              account: address
            });

          case 8:
            balance = _context3.sent;
            amount = (0, _parseFloat2.default)(balance[0]) || 0;


            _reducers2.default.user.setBalance({ name: 'telosData', amount: amount });

            return _context3.abrupt('return', amount);

          case 12:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function getBalance() {
    return _ref4.apply(this, arguments);
  };
}();

var send = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(from, to, amount) {
    var _getState2, address, telosInstance, transfer;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _getState2 = (0, _core.getState)(), address = _getState2.user.telosData.address;

            if (!(typeof address !== 'string')) {
              _context4.next = 3;
              break;
            }

            return _context4.abrupt('return');

          case 3:
            _context4.next = 5;
            return _eos.telos.getInstance();

          case 5:
            telosInstance = _context4.sent;
            _context4.next = 8;
            return telosInstance.transaction({
              actions: [{
                account: 'eosio.token',
                name: 'transfer',
                authorization: [{
                  actor: from,
                  permission: 'active'
                }],
                data: {
                  from: from,
                  to: to.trim(),
                  quantity: amount + '.0000 TLOS',
                  memo: ''
                }
              }]
            });

          case 8:
            transfer = _context4.sent;

          case 9:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, undefined);
  }));

  return function send(_x4, _x5, _x6) {
    return _ref5.apply(this, arguments);
  };
}();

var loginWithNewAccount = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var keys, activePrivateKey, publicKeys, activePublicKey, accountName;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return _eosjsKeygen.Keygen.generateMasterKeys();

          case 2:
            keys = _context5.sent;
            activePrivateKey = keys.privateKeys.active, publicKeys = keys.publicKeys;
            activePublicKey = publicKeys.active.toString().replace('EOS', 'TLOS');
            accountName = generateAccountName(activePublicKey);


            localStorage.setItem(_constants2.default.privateKeyNames.telosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.telosAccountActivated, false);

            login(accountName, activePrivateKey, activePublicKey);

            return _context5.abrupt('return', { accountName: accountName, activePrivateKey: activePrivateKey, activePublicKey: activePublicKey });

          case 12:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function loginWithNewAccount() {
    return _ref6.apply(this, arguments);
  };
}();

var activateAccount = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(accountName, activePrivateKey, activePublicKey) {
    var registerEndpoint, response;
    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            registerEndpoint = _appConfig2.default.api.telos.registerEndpoint;
            _context6.prev = 1;
            _context6.next = 4;
            return fetch(registerEndpoint, {
              method: 'POST',
              headers: {
                'Accept': 'application/json',

                'Content-Type': 'application/json'
              },
              body: (0, _stringify2.default)({
                publicKey: activePublicKey,
                accountName: accountName
              })
            });

          case 4:
            response = _context6.sent;


            if (response.ok) {
              localStorage.setItem(_constants2.default.localStorage.telosAccountActivated, true);
            } else {
              console.error('tlos activation error');
            }
            _context6.next = 11;
            break;

          case 8:
            _context6.prev = 8;
            _context6.t0 = _context6['catch'](1);

            console.error('tlos network error', _context6.t0);

          case 11:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined, [[1, 8]]);
  }));

  return function activateAccount(_x7, _x8, _x9) {
    return _ref7.apply(this, arguments);
  };
}();

module.exports = {
  register: register, login: login, getBalance: getBalance, send: send, loginWithNewAccount: loginWithNewAccount, activateAccount: activateAccount
};

/***/ }),

/***/ 1711:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _humanStandardTokenAbi = __webpack_require__(790);

var _humanStandardTokenAbi2 = _interopRequireDefault(_humanStandardTokenAbi);

var _helpers = __webpack_require__(20);

var _core = __webpack_require__(91);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _web = __webpack_require__(349);

var _web2 = _interopRequireDefault(_web);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_bignumber.BigNumber.config({ RANGE: [-1e+9, 1e+9], POW_PRECISION: 0 });

var login = function login(privateKey, contractAddress, nameContract, decimals, fullName) {
  var data = void 0;
  if (privateKey) {
    data = _web2.default.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    console.info('Created account ETH Token ...');
    data = _web2.default.eth.accounts.create();
    _web2.default.eth.accounts.wallet.add(data);
  }

  _web2.default.eth.accounts.wallet.add(data.privateKey);
  console.info('Logged in with ETH Token', data);

  setupContract(data.address, contractAddress, nameContract, decimals, fullName);
};

var setupContract = function setupContract(ethAddress, contractAddress, nameContract, decimals, fullName) {
  if (!_web2.default.eth.accounts.wallet[ethAddress]) {
    throw new Error('web3 does not have given address');
  }

  var data = {
    address: ethAddress,
    balance: 0,
    name: nameContract.toLowerCase(),
    fullName: fullName,
    currency: nameContract.toUpperCase(),
    contractAddress: contractAddress,
    decimals: decimals
  };

  _reducers2.default.user.setTokenAuthData({ name: data.name, data: data });
};

var getBalance = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
    var _getState, tokensData, _tokensData$currency$, address, contractAddress, decimals, name, ERC20, result, amount;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState = (0, _core.getState)(), tokensData = _getState.user.tokensData;

            if (!(currency === undefined)) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return');

          case 3:
            _tokensData$currency$ = tokensData[currency.toLowerCase()], address = _tokensData$currency$.address, contractAddress = _tokensData$currency$.contractAddress, decimals = _tokensData$currency$.decimals, name = _tokensData$currency$.name;
            ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);
            _context.next = 7;
            return ERC20.methods.balanceOf(address).call();

          case 7:
            result = _context.sent;

            console.log('result get balance', result);
            amount = new _bignumber.BigNumber(String(result)).dividedBy(new _bignumber.BigNumber(String(10)).pow(decimals)).toNumber();


            _reducers2.default.user.setTokenBalance({ name: name, amount: amount });
            return _context.abrupt('return', amount);

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function getBalance(_x) {
    return _ref.apply(this, arguments);
  };
}();

var fetchBalance = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(address, contractAddress, decimals) {
    var ERC20, result, amount;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);
            _context2.next = 3;
            return ERC20.methods.balanceOf(address).call();

          case 3:
            result = _context2.sent;
            amount = new _bignumber.BigNumber(String(result)).dividedBy(new _bignumber.BigNumber(String(10)).pow(decimals)).toNumber();
            return _context2.abrupt('return', amount);

          case 6:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function fetchBalance(_x2, _x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();

var getTransaction = function getTransaction(currency) {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        tokensData = _getState2.user.tokensData;

    if (currency === undefined) {
      return;
    }

    var _tokensData$currency$2 = tokensData[currency.toLowerCase()],
        address = _tokensData$currency$2.address,
        contractAddress = _tokensData$currency$2.contractAddress;


    console.log('currency', address, contractAddress);

    var url = ['https://api-rinkeby.etherscan.io/api?module=account&action=tokentx', '&contractaddress=' + contractAddress, '&address=' + address, '&startblock=0&endblock=99999999', '&sort=asc&apikey=RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM'].join('');

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.result.filter(function (item) {
        return item.value > 0;
      }).map(function (item) {
        return {
          confirmations: item.confirmations,
          type: item.tokenSymbol,
          hash: item.hash,
          contractAddress: item.contractAddress,
          status: item.blockHash != null ? 1 : 0,
          value: new _bignumber.BigNumber(String(item.value)).dividedBy(new _bignumber.BigNumber(10).pow(Number(item.tokenDecimal))).toNumber(),
          address: item.to,
          date: item.timeStamp * 1000,
          direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out'
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function send(contractAddress, to, amount, decimals) {
  var _getState3 = (0, _core.getState)(),
      address = _getState3.user.ethData.address;

  var options = {
    from: address,
    gas: 1e5,
    gasPrice: 21e9
  };

  var tokenContract = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress, options);
  var newAmount = new _bignumber.BigNumber(String(amount)).times(new _bignumber.BigNumber(10).pow(decimals)).integerValue();

  return new _promise2.default(function () {
    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve, reject) {
      var receipt;
      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _context3.next = 2;
              return tokenContract.methods.transfer(to, newAmount).send().on('transactionHash', function (hash) {
                var txId = _appConfig2.default.link.etherscan + '/tx/' + hash;
                _actions2.default.loader.show(true, true, txId);
              }).on('error', function (err) {
                reject(err);
              });

            case 2:
              receipt = _context3.sent;


              resolve(receipt);

            case 4:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, undefined);
    }));

    return function (_x5, _x6) {
      return _ref3.apply(this, arguments);
    };
  }());
};

var approve = function approve(name, amount) {
  var _getState4 = (0, _core.getState)(),
      tokensData = _getState4.user.tokensData;

  var _tokensData$name$toLo = tokensData[name.toLowerCase()],
      address = _tokensData$name$toLo.address,
      contractAddress = _tokensData$name$toLo.contractAddress,
      decimals = _tokensData$name$toLo.decimals;


  var newAmount = new _bignumber.BigNumber(String(amount)).times(new _bignumber.BigNumber(10).pow(decimals)).integerValue();
  var ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);

  return new _promise2.default(function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
      var result;
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return ERC20.methods.approve(_appConfig2.default.token.contract, newAmount).send({
                from: address,
                gas: 1e5,
                gasPrice: 21e9
              }).on('transactionHash', function (hash) {
                var txId = _appConfig2.default.link.etherscan + '/tx/' + hash;
                _actions2.default.loader.show(true, true, txId);
              }).on('error', function (err) {
                reject(err);
              });

            case 3:
              result = _context4.sent;


              resolve(result);
              _context4.next = 10;
              break;

            case 7:
              _context4.prev = 7;
              _context4.t0 = _context4['catch'](0);

              reject(_context4.t0);

            case 10:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, undefined, [[0, 7]]);
    }));

    return function (_x7, _x8) {
      return _ref4.apply(this, arguments);
    };
  }()).then(function () {
    _reducers2.default.user.setTokenApprove({ name: name.toLowerCase(), approve: true });
  });
};

var allowance = function allowance(contractAddress, name) {
  var _getState5 = (0, _core.getState)(),
      address = _getState5.user.ethData.address;

  var ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);

  return new _promise2.default(function () {
    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(resolve, reject) {
      var allowance;
      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _context5.next = 2;
              return ERC20.methods.allowance(address, _appConfig2.default.swapContract.erc20).call();

            case 2:
              allowance = _context5.sent;


              console.log('💸 allowance:', allowance);

              _reducers2.default.user.setTokenApprove({ name: name, approve: allowance > 0 });

              resolve(allowance);

            case 6:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, undefined);
    }));

    return function (_x9, _x10) {
      return _ref5.apply(this, arguments);
    };
  }());
};

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  fetchBalance: fetchBalance,
  approve: approve,
  allowance: allowance
};

/***/ }),

/***/ 1712:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var initWallet = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(privateKey) {
    var keyPair;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            keyPair = (0, _nimiq.ethKeyToKeyPair)(privateKey);
            return _context2.abrupt('return', new window.Nimiq.Wallet(keyPair));

          case 2:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));

  return function initWallet(_x) {
    return _ref2.apply(this, arguments);
  };
}();

var init = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var _this = this;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return initNimiq();

          case 2:
            if (!initPromise) {
              _context4.next = 6;
              break;
            }

            return _context4.abrupt('return', initPromise);

          case 6:
            if (!isInitialized) {
              _context4.next = 8;
              break;
            }

            return _context4.abrupt('return', _promise2.default.resolve());

          case 8:

            initPromise = new _promise2.default(function () {
              var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve) {
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        window.nim = $;

                        _context3.next = 3;
                        return window.Nimiq.Consensus.nano();

                      case 3:
                        $.consensus = _context3.sent;

                        $.blockchain = $.consensus.blockchain;
                        $.accounts = $.blockchain.accounts;
                        $.mempool = $.consensus.mempool;
                        $.network = $.consensus.network;

                        $.consensus.on('established', function () {
                          window.Nimiq.Log.i('Consensus', 'Current state: height=' + $.blockchain.height + ', headHash=' + $.blockchain.headHash);
                          resolve();
                        });
                        $.network.connect();

                      case 10:
                      case 'end':
                        return _context3.stop();
                    }
                  }
                }, _callee3, _this);
              }));

              return function (_x2) {
                return _ref4.apply(this, arguments);
              };
            }());

            return _context4.abrupt('return', initPromise);

          case 10:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, this);
  }));

  return function init() {
    return _ref3.apply(this, arguments);
  };
}();

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _nimiq = __webpack_require__(1713);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var $ = {};
var initNimiqPromise = void 0;
var isNimiqInitialized = false;
var initPromise = void 0;
var isInitialized = false;

var NETWORK = _appConfig2.default.entry === 'mainnet' ? 'main' : 'test';

var initNimiq = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!initNimiqPromise) {
              _context.next = 4;
              break;
            }

            return _context.abrupt('return', initNimiqPromise);

          case 4:
            if (!isNimiqInitialized) {
              _context.next = 6;
              break;
            }

            return _context.abrupt('return', _promise2.default.resolve());

          case 6:

            initNimiqPromise = new _promise2.default(function (resolve, reject) {
              if (!window.Nimiq) {
                console.error('Nimiq not present, add from CDN: https://cdn.nimiq.com/nimiq.js');
                reject();
              } else {
                window.Nimiq.init(function () {
                  isNimiqInitialized = true;
                  window.Nimiq.GenesisConfig.init(window.Nimiq.GenesisConfig.CONFIGS[NETWORK]);
                  resolve();
                });
              }
            });

            return _context.abrupt('return', initNimiqPromise);

          case 8:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function initNimiq() {
    return _ref.apply(this, arguments);
  };
}();

var login = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(ethPrivateKey) {
    var data;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return init();

          case 2:
            _context5.next = 4;
            return initWallet(ethPrivateKey);

          case 4:
            $.wallet = _context5.sent;
            data = {
              balance: 0,
              address: $.wallet.address.toUserFriendlyAddress()
            };


            window.getNimAddress = function () {
              return data.address;
            };

            console.info('Logged in with Nimiq', data);
            _reducers2.default.user.setAuthData({ name: 'nimData', data: data });

            return _context5.abrupt('return', data);

          case 10:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function login(_x3) {
    return _ref5.apply(this, arguments);
  };
}();

var getBalance = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var account, amount;
    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return init();

          case 2:
            _context6.next = 4;
            return $.consensus.getAccount($.wallet.address);

          case 4:
            account = _context6.sent;
            amount = window.Nimiq.Policy.satoshisToCoins(account.balance).toFixed(0);


            _reducers2.default.user.setBalance({ name: 'nimData', amount: amount });

            return _context6.abrupt('return', amount);

          case 8:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined);
  }));

  return function getBalance() {
    return _ref6.apply(this, arguments);
  };
}();

var getTransaction = function getTransaction() {};

var send = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(from, address, amount) {
    var _prepareTransaction, addr, value, fee, height, tx;

    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _context7.next = 2;
            return init();

          case 2:
            _prepareTransaction = (0, _nimiq.prepareTransaction)($, address, amount), addr = _prepareTransaction.addr, value = _prepareTransaction.value, fee = _prepareTransaction.fee, height = _prepareTransaction.height;
            tx = $.wallet.createTransaction(addr, value, fee, height);


            $.consensus.relayTransaction(tx);
            $.consensus.subscribeAccounts([tx.recipient]);

            window.Nimiq.Log.i('TX', 'Waiting for Nimiq transaction [' + tx.hash().toHex() + '] to confirm, please wait...');

            (0, _nimiq.followTransaction)($, tx).then(function () {
              return window.Nimiq.Log.i('TX', 'Nimiq transaction [' + tx.hash().toHex() + '] confirmed!');
            }).then(function () {
              return getBalance();
            });

            return _context7.abrupt('return', tx);

          case 9:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined);
  }));

  return function send(_x4, _x5, _x6) {
    return _ref7.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send
};

/***/ }),

/***/ 1713:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.prepareTransaction = exports.followTransaction = exports.ethKeyToKeyPair = undefined;

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ethKeyToKeyPair = function ethKeyToKeyPair(ethKey) {
  if (!window.Nimiq) throw new Error('include Nimiq from CDN');

  var raw = ethKey.slice(0, 2) === '0x' ? ethKey.substring(2) : ethKey;
  var buf = Buffer.from(raw, 'hex');
  var privKey = new window.Nimiq.PrivateKey(buf);
  var publicKey = window.Nimiq.PublicKey.derive(privKey);

  return new window.Nimiq.KeyPair(privKey, publicKey);
};

var followTransaction = function followTransaction($, tx) {
  return new _promise2.default(function (resolve) {
    var id = $.mempool.on('transaction-mined', function (tx2) {
      if (tx.equals(tx2)) {
        $.mempool.off('transaction-mined', id);
        resolve();
      }
    });
  });
};

var prepareTransaction = function prepareTransaction($, address, amount) {
  var height = $.blockchain.height + 1;
  var addr = window.Nimiq.Address.fromUserFriendlyAddress(address);
  var value = window.Nimiq.Policy.coinsToSatoshis(amount);
  var fee = window.Nimiq.Policy.coinsToSatoshis(0);

  return { addr: addr, value: value, fee: fee, height: height };
};

exports.ethKeyToKeyPair = ethKeyToKeyPair;
exports.followTransaction = followTransaction;
exports.prepareTransaction = prepareTransaction;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1714:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var checkServers = function checkServers() {
  _reducers2.default.api.setChecked(false);
  return _promise2.default.all((0, _keys2.default)(_appConfig2.default.apiAlternatives).map(function (provider) {
    return _promise2.default.race(_appConfig2.default.apiAlternatives[provider].map(function (server) {
      return new _promise2.default(function (resolve, reject) {
        fetch(server + '/status').then(function () {
          return resolve(server);
        }).catch(function (e) {
          return reject(e);
        });
      });
    })).then(function (chosen) {
      _reducers2.default.api.setApiServer(provider, chosen);
      console.log('[' + provider + '] ' + chosen + ' is OK, using it');
    });
  })).then(function () {
    _reducers2.default.api.setChecked(true);
    console.log('All servers is OK.');
  }).catch(function (e) {
    return _reducers2.default.api.setErrors(true);
  });
};

exports.default = {
  checkServers: checkServers
};

/***/ }),

/***/ 1715:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reactGtmModule = __webpack_require__(1716);

var _reactGtmModule2 = _interopRequireDefault(_reactGtmModule);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var dataEvent = function dataEvent(eventName) {
  window.dataLayer = window.dataLayer ? window.dataLayer : [];
  window.dataLayer.push({ 'event': eventName });
};

var balanceEvent = function balanceEvent(currency, balance) {
  window.dataLayer = window.dataLayer ? window.dataLayer : [];
  window.dataLayer.push({
    'event': 'autoEvent',
    'eventCategory': 'Balances',
    'eventAction': 'Top-up-balance',
    'eventLabel': currency,
    'eventValue': balance
  });
};

var errorEvent = function errorEvent(eventAction) {
  if (window.ga) {
    var tracker = window.ga.getAll()[0];
    tracker.send({ hitType: 'event', eventCategory: 'fatalError', eventAction: eventAction });
  }
};

var swapEvent = function swapEvent(eventAction, eventLabel) {
  if (window.ga) {
    var tracker = window.ga.getAll()[0];
    tracker.send({ hitType: 'event', eventCategory: 'Swap', eventAction: eventAction, eventLabel: eventLabel });
  }

  if (window.yaCounter48876458) {
    window.yaCounter48876458.reachGoal('swap-' + eventAction, { currency: eventLabel });
  }
};

var tagManagerArgs = {
  gtmId: 'GTM-WK72GSV',
  dataLayerName: 'dataLayer'
};

if (true) {
  _reactGtmModule2.default.initialize(tagManagerArgs);
}

exports.default = {
  dataEvent: dataEvent,
  swapEvent: swapEvent,
  balanceEvent: balanceEvent
};

/***/ }),

/***/ 1720:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var set = function set(payload) {
  _reducers2.default.ipfs.set(payload);
};

var userJoined = function userJoined() {
  _reducers2.default.ipfs.userJoined();
};

var userLeft = function userLeft() {
  _reducers2.default.ipfs.userLeft();
};

exports.default = {
  set: set,
  userJoined: userJoined,
  userLeft: userLeft
};

/***/ }),

/***/ 1721:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _bigi = __webpack_require__(83);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(48);

var _core = __webpack_require__(91);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoinjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoinjsLib2.default.ECPair(d, null, { network: _helpers.btc.network });
  } else {
    console.info('Created account Bitcoin ...');
    keyPair = _bitcoinjsLib2.default.ECPair.makeRandom({ network: _helpers.btc.network });
    privateKey = keyPair.toWIF();
  }

  var account = new _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.btc.network); // eslint-disable-line
  var address = account.getAddress();
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    privateKey: privateKey,
    publicKey: publicKey
  };

  console.info('Logged in with USDT', data);
  _reducers2.default.user.setAuthData({ name: 'usdtData', data: data });
};

var getBalance = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _getState, address, result, balance, unconfirmed;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState = (0, _core.getState)(), address = _getState.user.usdtData.address;
            _context.next = 3;
            return fetchBalance(address);

          case 3:
            result = _context.sent;

            console.log('result', result);
            balance = result.balance, unconfirmed = result.unconfirmed;


            _reducers2.default.user.setBalance({ name: 'usdtData', amount: balance, unconfirmedBalance: unconfirmed || 0 });
            return _context.abrupt('return', balance);

          case 8:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function getBalance() {
    return _ref.apply(this, arguments);
  };
}();

var fetchBalance = function fetchBalance(address) {
  var assetId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 31;
  return _helpers.request.post('https://api.omniexplorer.info/v1/address/addr/', {
    body: 'addr=' + address
  }).then(function (response) {
    console.log('responce', response);
    var error = response.error,
        balance = response.balance;


    if (error) throw new Error('Omni Balance: ' + error + ' at ' + address);

    var findById = balance.filter(function (asset) {
      return parseInt(asset.id) === assetId || asset.id === assetId;
    });

    if (!findById.length) {
      return {
        balance: 0
      };
    }

    console.log('Omni Balance:', findById[0].value);
    console.log('Omni Balance pending:', findById[0].pendingpos);
    console.log('Omni Balance pending:', findById[0].pendingneg);

    var usdsatoshis = (0, _bignumber.BigNumber)(findById[0].value);
    var usdtUnconfirmed = (0, _bignumber.BigNumber)(findById[0].pendingneg);

    if (usdsatoshis) {
      return {
        unconfirmed: usdtUnconfirmed.dividedBy(1e8).toNumber(),
        balance: usdsatoshis.dividedBy(1e8).toNumber()
      };
    }
    return {
      balance: 0
    };
  }).catch(function (error) {
    return console.error(error);
  });
};

exports.default = {
  login: login,
  getBalance: getBalance,
  fetchBalance: fetchBalance
};

/***/ }),

/***/ 1722:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.swapComponents = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _BtcToEth = __webpack_require__(1723);

var _BtcToEth2 = _interopRequireDefault(_BtcToEth);

var _EthToBtc = __webpack_require__(1894);

var _EthToBtc2 = _interopRequireDefault(_EthToBtc);

var _LtcToEth = __webpack_require__(1895);

var _LtcToEth2 = _interopRequireDefault(_LtcToEth);

var _EthToLtc = __webpack_require__(1896);

var _EthToLtc2 = _interopRequireDefault(_EthToLtc);

var _BtcToLtc = __webpack_require__(1897);

var _BtcToLtc2 = _interopRequireDefault(_BtcToLtc);

var _LtcToBtc = __webpack_require__(1898);

var _LtcToBtc2 = _interopRequireDefault(_LtcToBtc);

var _BtcToEos = __webpack_require__(1899);

var _BtcToEos2 = _interopRequireDefault(_BtcToEos);

var _EosToBtc = __webpack_require__(1901);

var _EosToBtc2 = _interopRequireDefault(_EosToBtc);

var _EthTokenToBtc = __webpack_require__(1902);

var _EthTokenToBtc2 = _interopRequireDefault(_EthTokenToBtc);

var _BtcToEthToken = __webpack_require__(1903);

var _BtcToEthToken2 = _interopRequireDefault(_BtcToEthToken);

var _EthTokenToUsdt = __webpack_require__(1912);

var _EthTokenToUsdt2 = _interopRequireDefault(_EthTokenToUsdt);

var _UsdtToEthToken = __webpack_require__(1913);

var _UsdtToEthToken2 = _interopRequireDefault(_UsdtToEthToken);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var swapComponents = {
  'BTC2ETH': _BtcToEth2.default,
  'ETH2BTC': _EthToBtc2.default,

  'LTC2ETH': _LtcToEth2.default,
  'ETH2LTC': _EthToLtc2.default,

  'BTC2LTC': _BtcToLtc2.default,
  'LTC2BTC': _LtcToBtc2.default,

  'BTC2EOS': _BtcToEos2.default,
  'EOS2BTC': _EosToBtc2.default,

  'SWAP2BTC': _EthTokenToBtc2.default,
  'BTC2SWAP': _BtcToEthToken2.default,

  'SWAP2USDT': _EthTokenToUsdt2.default,
  'USDT2SWAP': _UsdtToEthToken2.default
};

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  swapComponents[key.toUpperCase() + '2BTC'] = _EthTokenToBtc2.default;
  swapComponents['BTC2' + key.toUpperCase()] = _BtcToEthToken2.default;

  swapComponents[key.toUpperCase() + '2USDT'] = _EthTokenToUsdt2.default;
  swapComponents['USDT2' + key.toUpperCase()] = _UsdtToEthToken2.default;
});

exports.swapComponents = swapComponents;

/***/ }),

/***/ 1723:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEth = function (_Component) {
  (0, _inherits3.default)(BtcToEth, _Component);

  function BtcToEth(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, BtcToEth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEth.__proto__ || (0, _getPrototypeOf2.default)(BtcToEth)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-btc',
        5: 'wait-lock-eth',
        6: 'withdraw-eth',
        7: 'finish',
        8: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'BTC2ETH');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'BTC2ETH' });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.btcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToEth, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'BtcToEth100', defaultMessage: 'This order doesn\'t have a buyer' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEth105', defaultMessage: 'The order creator is offline. Waiting for him..' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        !flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'BtcToEth116',
              defaultMessage: 'We are waiting for a market maker. If it does not appear within 5 minutes, the swap will be canceled automatically.' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEth126', defaultMessage: '2. Create a secret key' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.TimerButton,
              { timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth134', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth140', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth143', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth146', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth156', defaultMessage: 'Not enough money for this swap. Please charge the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth160', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth163', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'div',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth167', defaultMessage: 'Your address: ' }),
                  _react2.default.createElement(
                    'a',
                    { href: _appConfig2.default.link.bitpay + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                    currencyAddress
                  )
                ),
                _react2.default.createElement('hr', null),
                _react2.default.createElement(
                  'span',
                  null,
                  flow.address
                )
              ),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _controls.Button,
                { brand: true, onClick: this.updateBalance },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: '174', defaultMessage: 'Continue' })
              )
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth183', defaultMessage: 'Checking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.btcScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth194', defaultMessage: '3. Creating Bitcoin Script. Please wait, it will take a while' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth199', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash, target: '_blank', el: 'noopener noreferrer' },
                  flow.btcScriptCreatingTransactionHash
                )
              ),
              ')'
            ),
            !flow.btcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.btcScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth226', defaultMessage: 'Create refund hex' },
              function (message) {
                return _react2.default.createElement(
                  _controls.Button,
                  { brand: true, onClick: _this2.getRefundTxHex },
                  message
                );
              }
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth233', defaultMessage: 'How refund your money ?' })
              ),
              'Refund hex transaction: ',
              _react2.default.createElement(
                'code',
                null,
                ' ',
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth253', defaultMessage: '4. ETH Owner received Bitcoin Script and Secret Hash. Waiting when he creates ETH Contract' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth266', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEth282', defaultMessage: '5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth289', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ethSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth312', defaultMessage: '6. Money was transferred to your wallet. Check the balance. ' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEth315', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth325', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.btcScriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth338', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToEth;
}(_react.Component);

exports.default = BtcToEth;

/***/ }),

/***/ 176:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(1837);

var _Timer2 = _interopRequireDefault(_Timer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TimerButton = (_temp2 = _class = function (_Component) {
  (0, _inherits3.default)(TimerButton, _Component);

  function TimerButton() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TimerButton);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TimerButton.__proto__ || (0, _getPrototypeOf2.default)(TimerButton)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function () {
      var onClick = _this.props.onClick;


      clearTimeout(_this.timer);
      onClick();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TimerButton, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          timeLeft = _props.timeLeft,
          className = _props.className,
          rest = (0, _objectWithoutProperties3.default)(_props, ['children', 'timeLeft', 'className']);


      return _react2.default.createElement(
        _Button2.default,
        (0, _extends3.default)({ onClick: this.handleClick, className: className }, rest),
        children,
        _react2.default.createElement(_Timer2.default, { timeLeft: timeLeft, handleClick: this.handleClick })
      );
    }
  }]);
  return TimerButton;
}(_react.Component), _class.propTypes = {
  onClick: _propTypes2.default.func.isRequired,
  timeLeft: _propTypes2.default.number.isRequired,
  className: _propTypes2.default.string
}, _temp2);
exports.default = TimerButton;

/***/ }),

/***/ 177:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PageHeadline = __webpack_require__(1921);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _Title = __webpack_require__(514);

var _Title2 = _interopRequireDefault(_Title);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PageHeadline = function PageHeadline(_ref) {
  var children = _ref.children,
      title = _ref.title,
      subTitle = _ref.subTitle,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'title', 'subTitle']);
  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: 'headline' }, rest),
    children || _react2.default.createElement(
      _react.Fragment,
      null,
      title && _react2.default.createElement(
        _Title2.default,
        null,
        title
      ),
      subTitle && _react2.default.createElement(
        _SubTitle2.default,
        null,
        subTitle
      )
    )
  );
};

PageHeadline.propTypes = {
  title: _propTypes2.default.string,
  subTitle: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(PageHeadline, _PageHeadline2.default);

/***/ }),

/***/ 178:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDeviceDetect = __webpack_require__(199);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Table = __webpack_require__(227);

var _Table2 = _interopRequireDefault(_Table);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Table = (_dec = (0, _reactCssModules2.default)(_Table2.default, { allowMultiple: true }), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(Table, _React$Component);

  function Table() {
    (0, _classCallCheck3.default)(this, Table);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Table.__proto__ || (0, _getPrototypeOf2.default)(Table)).call(this));

    _this.handleSelectId = function (id) {
      _this.setState(function () {
        return { selectId: id };
      });
    };

    _this.handleResponsiveTable = function () {
      var tdLink = _this.linkOnTableBody,
          thLink = _this.linkOnTableHead;


      var th = thLink.children[0].cells;
      var td = tdLink.children[0].cells;

      for (var i = 0; i < th.length; i++) {
        th[i].style.width = td[i].offsetWidth + 'px';
      }
    };

    _this.state = {
      selectId: 0
    };
    return _this;
  }

  (0, _createClass3.default)(Table, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.id === 'table-wallet') {
        window.addEventListener('resize', this.handleResponsiveTable);
        this.handleResponsiveTable();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.props.id === 'table-wallet') {
        window.removeEventListener('resize', this.handleResponsiveTable);
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var _props = this.props,
          rows = _props.rows,
          isLoading = _props.isLoading;

      return isLoading !== nextProps.isLoading || rows !== nextProps.rows || this.state.selectId !== nextState.selectId;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props2 = this.props,
          titles = _props2.titles,
          rows = _props2.rows,
          rowRender = _props2.rowRender,
          textIfEmpty = _props2.textIfEmpty,
          isLoading = _props2.isLoading,
          loadingText = _props2.loadingText,
          className = _props2.className;

      return _react2.default.createElement(
        'table',
        { styleName: 'table', className: className, ref: function ref(table) {
            return _this2.linkOnTable = table;
          } },
        _react2.default.createElement(
          'thead',
          { ref: function ref(thead) {
              return _this2.linkOnTableHead = thead;
            } },
          _react2.default.createElement(
            'tr',
            null,
            titles.filter(function (title) {
              return !!title;
            }).map(function (title, index) {
              return _react2.default.createElement(
                'th',
                { key: index },
                title
              );
            })
          )
        ),
        _react2.default.createElement(
          'tbody',
          { ref: function ref(tbody) {
              return _this2.linkOnTableBody = tbody;
            } },
          isLoading && _react2.default.createElement(
            'tr',
            null,
            _react2.default.createElement(
              'td',
              { styleName: 'color' },
              loadingText
            )
          ),
          !isLoading && !rows.length && _react2.default.createElement(
            'tr',
            null,
            _react2.default.createElement(
              'td',
              { styleName: 'color' },
              textIfEmpty
            )
          ),
          !isLoading && !!rows.length && rows.map(function (row, rowIndex) {
            return typeof rowRender === 'function' && rowRender(row, rowIndex, _this2.state.selectId, _this2.handleSelectId);
          })
        )
      );
    }
  }]);
  return Table;
}(_react2.default.Component)) || _class);
exports.default = Table;


Table.defaultProps = {
  textIfEmpty: 'The table is empty',
  loadingText: 'Loading...'

  // export default connect(() => {}, (dispatch) => ({
  //   setIsDisplayingTable: payload => dispatch(setIsDisplayingTable(payload)),
  // }))

};

/***/ }),

/***/ 183:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalContainer = exports.ModalConductor = exports.Modal = undefined;

var _Modal = __webpack_require__(371);

var _Modal2 = _interopRequireDefault(_Modal);

var _ModalConductor = __webpack_require__(1250);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

var _ModalContainer = __webpack_require__(3300);

var _ModalContainer2 = _interopRequireDefault(_ModalContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Modal = _Modal2.default;
exports.ModalConductor = _ModalConductor2.default;
exports.ModalContainer = _ModalContainer2.default;

/***/ }),

/***/ 1833:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"timer":"_2wnb2C"};

/***/ }),

/***/ 1834:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"ellipsis":"_2Zo-qQ","ellipsis1":"_2_LbWQ","ellipsis2":"_2fJ8Hd","ellipsis3":"_2Nlot5"};

/***/ }),

/***/ 1835:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"Switch":"_3pDnue"};

/***/ }),

/***/ 1836:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"qJheS4","fullWidth":"_2Gzkvz","brand":"_3zY6WO","green":"_s-GvI","white":"ewAS27","gray":"_9dfBig","disabled":"_1WzQpi"};

/***/ }),

/***/ 1837:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TimerButton = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(TimerButton, _Component);

  function TimerButton(_ref) {
    var timeLeft = _ref.timeLeft;
    (0, _classCallCheck3.default)(this, TimerButton);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TimerButton.__proto__ || (0, _getPrototypeOf2.default)(TimerButton)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      timeLeft: timeLeft
    };
    return _this;
  }

  (0, _createClass3.default)(TimerButton, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.tick();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearTimeout(this.timer);
    }
  }, {
    key: 'render',
    value: function render() {
      var timeLeft = this.state.timeLeft;


      return timeLeft;
    }
  }]);
  return TimerButton;
}(_react.Component), _class.propTypes = {
  timeLeft: _propTypes2.default.number, // seconds
  handleClick: _propTypes2.default.func
}, _class.defaultProps = {
  timeLeft: 10
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.timer = null;

  this.tick = function () {
    var timeLeft = _this2.state.timeLeft;

    var newTimeLeft = timeLeft - 1;

    if (newTimeLeft <= 0) {
      _this2.props.handleClick();
    } else {
      _this2.timer = setTimeout(_this2.tick, 1000);
      _this2.setState({
        timeLeft: newTimeLeft
      });
    }
  };
}, _temp);
exports.default = TimerButton;

/***/ }),

/***/ 1838:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"trade-panel__change":"_2LOdkU"};

/***/ }),

/***/ 1839:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RemoveButton = __webpack_require__(1840);

var _RemoveButton2 = _interopRequireDefault(_RemoveButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RemoveButton = function RemoveButton(_ref) {
  var className = _ref.className,
      onClick = _ref.onClick;
  return _react2.default.createElement('button', { styleName: 'removeButton', className: className, onClick: onClick });
};

RemoveButton.propTypes = {
  className: _propTypes2.default.string,
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(RemoveButton, _RemoveButton2.default);

/***/ }),

/***/ 1840:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"removeButton":"_1Vm5zB","icon":"_1b1kpz"};

/***/ }),

/***/ 1841:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"withdrawButton":"_2yf2Si","disable":"_1b3lTH"};

/***/ }),

/***/ 1848:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1875:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1883:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1890:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1894:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToBtc = function (_Component) {
  (0, _inherits3.default)(EthToBtc, _Component);

  function EthToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, EthToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-btc',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-eth',
        6: 'wait-withdraw-eth',
        7: 'withdraw-btc',
        8: 'finish',
        9: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'ETH-BTC');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'ETH2BTC' });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false,
      isShowingBitcoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(EthToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'EthToBtc99', defaultMessage: 'This order doesn\'t have a buyer' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToBtc104', defaultMessage: 'The order creator is offline. Waiting for him..' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToBtc115', defaultMessage: 'Waiting for other user when he connect to the order' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthToBtc125',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation.' },
            function (message) {
              return _react2.default.createElement(
                'div',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(
            _TimerButton2.default,
            { timeLeft: 5, brand: true, onClick: this.signSwap },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc128', defaultMessage: 'Sign' })
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc134', defaultMessage: 'Please wait. Confirmation processing' },
              function (message) {
                return _react2.default.createElement(
                  'h4',
                  null,
                  message
                );
              }
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc139', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            '}',
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToBtc167', defaultMessage: '2. Waiting BTC Owner creates Secret Key, creates BTC Script and charges it' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.btcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc179', defaultMessage: '3. Bitcoin Script created and charged. Please check the information below' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc182', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc185', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.btcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleBitcoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc204', defaultMessage: 'Show bitcoin script' })
              ),
              isShowingBitcoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.btcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode(' + flow.btcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.btcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { timeLeft: 5, brand: true, onClick: this.confirmBTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc247', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc260', defaultMessage: 'Not enough money for this swap. Please fund the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc264', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc267', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc270', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc277', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc286', defaultMessage: 'Checking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc297', defaultMessage: '4. Creating Ethereum Contract. Please wait, it will take a while' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            )
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc305', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc326', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc343', defaultMessage: '5. Waiting BTC Owner adds Secret Key to ETH Contact' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isBtcWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthToBtc357',
              defaultMessage: '6. BTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait'
            },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.btcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc364', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.btcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isBtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc387', defaultMessage: '7. Money was transferred to your wallet. Check the balance.' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToBtc390', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isBtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc400', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, { lockTime: (flow.btcScriptValues.lockTime - 5400) * 1000, enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              } })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc412', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EthToBtc;
}(_react.Component);

exports.default = EthToBtc;

/***/ }),

/***/ 1895:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcToEth = function (_Component) {
  (0, _inherits3.default)(LtcToEth, _Component);

  function LtcToEth(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, LtcToEth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcToEth.__proto__ || (0, _getPrototypeOf2.default)(LtcToEth)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-ltc',
        5: 'wait-lock-eth',
        6: 'withdraw-eth',
        7: 'finish',
        8: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'LTC2ETH');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'LTC2ETH' });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.ltcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(LtcToEth, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'LtcTOeth101', defaultMessage: 'This order doesn\'t have a buyer' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'LtcToEth.orderCreatorIsOffline', defaultMessage: 'The order creator is offline. Waiting for him..' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        !flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'LtcTOeth117',
              defaultMessage: 'We are waiting for a market maker. If it does not appear within 5 minutes, the swap will be canceled automatically.' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'LtcTOeth127', defaultMessage: '2. Create a secret key' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.TimerButton,
              { timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth136', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'LtcTOeth142', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth145', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth148', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth158', defaultMessage: 'Not enough money for this swap. Please charge the balance' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth162', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth165', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth168', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.ltc + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth175', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth184', defaultMessage: 'Checking balance..' }),
              this.swap.flow.myLtcAddress
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.ltcScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth195', defaultMessage: '3. Creating Litecoin Script. Please wait, it will take a while' }),
              this.swap.flow.myLtcAddress
            ),
            flow.ltcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth200', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcScriptCreatingTransactionHash
                )
              )
            ),
            !flow.ltcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ltcScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth227', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth234', defaultMessage: 'How refund your money ?' })
              ),
              'Refund hex transaction:',
              _react2.default.createElement(
                'code',
                null,
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'LtcTOeth254', defaultMessage: '4. ETH Owner received Litecoin Script and Secret Hash. Waiting when he creates ETH Contract' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth267', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'LtcTOeth283', defaultMessage: '5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth290', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ethSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth313', defaultMessage: '6. Money was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth315', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth326', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_Timer2.default, { lockTime: flow.ltcScriptValues.lockTime * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            )
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth338', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return LtcToEth;
}(_react.Component);

exports.default = LtcToEth;

/***/ }),

/***/ 1896:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToLtc = function (_Component) {
  (0, _inherits3.default)(EthToLtc, _Component);

  function EthToLtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, EthToLtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthToLtc.__proto__ || (0, _getPrototypeOf2.default)(EthToLtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-ltc',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-eth',
        6: 'wait-withdraw-eth',
        7: 'withdraw-ltc',
        8: 'finish',
        9: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'ETH-LTC');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'ETH2LTC' });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmLTCScriptChecked = function () {
      _this.swap.flow.verifyLtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.toggleLitecoinScript = function () {
      _this.setState({
        isShowingLitecoinScript: !_this.state.isShowingLitecoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false,
      isShowingLitecoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(EthToLtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingLitecoinScript = _state.isShowingLitecoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'EthToLtc99', defaultMessage: 'This order doesn\'t have a buyer' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToLtc104', defaultMessage: 'The order creator is offline. Waiting for him..' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToLtc115', defaultMessage: 'Waiting for other user when he connect to the order' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthToLtc125',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation.'
            },
            function (message) {
              return _react2.default.createElement(
                'div',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(
            _TimerButton2.default,
            { timeLeft: 5, brand: true, onClick: this.signSwap },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc128', defaultMessage: 'Sign' })
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc134', defaultMessage: 'Please wait. Confirmation processing' },
              function (message) {
                return _react2.default.createElement(
                  'h4',
                  null,
                  message
                );
              }
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc139', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthToLtc167', defaultMessage: '2. Waiting LTC Owner creates Secret Key, creates LTC Script and charges it' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.ltcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc179', defaultMessage: '3. Litecoin Script created and charged. Please check the information below' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc182', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc185', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.ltcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.ltcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleLitecoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc204', defaultMessage: 'Show litecoin script' })
              ),
              isShowingLitecoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.ltcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode(' + flow.ltcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.ltcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { timeLeft: 5, brand: true, onClick: this.confirmLTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc247', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc260', defaultMessage: 'Not enough money for this swap. Please fund the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc264', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc267', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc270', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc277', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc286', defaultMessage: 'Checking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc297', defaultMessage: '4. Creating Ethereum Contract. Please wait, it will take a while' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            )
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc305', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc326', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc343', defaultMessage: '5. Waiting LTC Owner adds Secret Key to ETH Contact' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isLtcWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthToLtc357',
              defaultMessage: '6. LTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from LTC Script. Please wait' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ltcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc364', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapWithdrawTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                flow.ltcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc386', defaultMessage: '7. Money was transferred to your wallet. Check the balance.' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthToLtc389', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isLtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc399', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: (flow.ltcScriptValues.lockTime - 5400) * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc412', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EthToLtc;
}(_react.Component);

exports.default = EthToLtc;

/***/ }),

/***/ 1897:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToLtc = function (_Component) {
  (0, _inherits3.default)(BtcToLtc, _Component);

  function BtcToLtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, BtcToLtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToLtc.__proto__ || (0, _getPrototypeOf2.default)(BtcToLtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-btc',
        5: 'wait-lock-ltc',
        6: 'withdraw-ltc',
        7: 'finish',
        8: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'BTC2LTC');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'BTC2LTC' });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.btcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.toggleLitecoinScript = function () {
      _this.setState({
        isShowingLitecoinScript: !_this.state.isShowingLitecoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false,
      isShowingBitcoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToLtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingLitecoinScript = _state.isShowingLitecoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'doesn\'t', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'offline', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        !flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Waiting', defaultMessage: 'Waiting for other user when he connect to the order' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCTOLTC132', defaultMessage: '2. Create a secret key' })
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.TimerButton,
              { timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC179', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC147', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC150', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Notenough', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'balance', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Required', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'address', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.bitpay + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Continue', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Checkingbalance', defaultMessage: 'Checking balance..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.btcScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToLtc205', defaultMessage: '3. Creating Bitcoin Script. Please wait, it will take a while' })
            ),
            flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            !flow.btcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.btcScriptValues && !flow.isFinished && !flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC236', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC246', defaultMessage: 'How refund your money ?' })
              ),
              'Refund hex transaction:',
              _react2.default.createElement(
                'code',
                null,
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isLtcScriptFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC262', defaultMessage: '4. LTC Owner received Bitcoin Script and Secret Hash. Waiting when he creates LTC Script' })
            ),
            !flow.isLtcScriptFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 6 || flow.isLtcWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC276', defaultMessage: '5. Litecoin Script created and charged. Please check the information below' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Scriptaddress:', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.ltcSwapCreationTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapCreationTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcSwapCreationTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.ltcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleLitecoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC301', defaultMessage: 'Show litecoin script' })
              ),
              isShowingLitecoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.ltcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ELSE,\n    bitcoin.core.script.number.encode(' + flow.ltcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.ltcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null)
          ),
          flow.ltcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ltcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: '6. Money was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Thank', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isLtcWithdrawn && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'REFUND', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.btcScriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToLtc;
}(_react.Component);

exports.default = BtcToLtc;

/***/ }),

/***/ 1898:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcToBtc = function (_Component) {
  (0, _inherits3.default)(LtcToBtc, _Component);

  function LtcToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, LtcToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcToBtc.__proto__ || (0, _getPrototypeOf2.default)(LtcToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-btc',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-ltc',
        6: 'wait-withdraw-ltc',
        7: 'withdraw-btc',
        8: 'finish',
        9: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'LTC-BTC');

      _this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'LTC2BTC' });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.ltcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false,
      isShowingBitcoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(LtcToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'doesn&apos', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'offline', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Waiting', defaultMessage: 'Waiting for other user when he connect to the order' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Confirmation',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation.' })
          ),
          _react2.default.createElement(
            _TimerButton2.default,
            { timeLeft: 5, brand: true, onClick: this.signSwap },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Sign', defaultMessage: 'Sign' })
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h4',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Confirmation', defaultMessage: 'Please wait. Confirmation processing' })
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC179', defaultMessage: '2. Waiting BTC Owner creates Secret Key, creates BTC Script and charges it' })
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.btcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC191', defaultMessage: '3. Bitcoin Script created and charged. Please check the information below' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Scriptaddress', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.btcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleBitcoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC216', defaultMessage: 'Show bitcoin script' })
              ),
              isShowingBitcoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.btcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ELSE,\n    bitcoin.core.script.number.encode(' + flow.btcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.btcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { timeLeft: 5, brand: true, onClick: this.confirmBTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'OK', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Notenough', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'balance', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Required', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'address', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.ltc + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Continue', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Checkingbalance', defaultMessage: 'Checking balance..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isLtcScriptFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToLtc205', defaultMessage: '4. Creating LTC Script. Please wait, it will take a while' })
            )
          ),
          flow.ltcSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ltcSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isLtcWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC350', defaultMessage: '5. Waiting BTC Owner adds Secret Key to LTC Contact' })
            ),
            !flow.isLtcWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isBtcWithdrawn) && _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'LTCTOBTC365',
              defaultMessage: '6. BTC Owner successfully took money from LTC Script and left Secret Key. Requesting withdrawal from BTC Script. Please wait' })
          ),
          flow.btcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.btcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isBtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC396', defaultMessage: '7. Money was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Thank', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isBtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'REFUND', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: (flow.btcScriptValues.lockTime - 5400) * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return LtcToBtc;
}(_react.Component);

exports.default = LtcToBtc;

/***/ }),

/***/ 1899:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TransactionLink = __webpack_require__(829);

var _TransactionLink2 = _interopRequireDefault(_TransactionLink);

var _controls = __webpack_require__(57);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEos = function (_Component) {
  (0, _inherits3.default)(BtcToEos, _Component);

  function BtcToEos(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, BtcToEos);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEos.__proto__ || (0, _getPrototypeOf2.default)(BtcToEos)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.submitSecret = function () {
      var fromHexString = function fromHexString(hexString) {
        return new Uint8Array(hexString.match(/.{1,2}/g).map(function (byte) {
          return parseInt(byte, 16);
        }));
      };

      var hash = function hash(secret) {
        return _bitcoinjsLib2.default.crypto.sha256(fromHexString(secret));
      };

      var secret = _crypto2.default.randomBytes(32).toString('hex');
      var secretHash = hash(secret).toString('hex');

      _this.swap.events.dispatch('submit secret', { secret: secret, secretHash: secretHash });

      _this.setState({
        isSubmitted: true
      });
    };

    _this.swap = swap;

    _this.state = {
      flow: _this.swap.flow.state,
      isSubmitted: false,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToEos, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          flow = _state.flow,
          isSubmitted = _state.isSubmitted,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEos63', defaultMessage: '1. Generate secret key' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          !isSubmitted && _react2.default.createElement(
            _controls.TimerButton,
            { brand: true, onClick: this.submitSecret },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos67', defaultMessage: 'Send secret' })
          ),
          flow.secret && flow.secretHash && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos74', defaultMessage: 'Secret: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret.toString('hex')
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos77', defaultMessage: 'Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash.toString('hex')
              )
            )
          )
        ),
        flow.step >= 2 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEos87', defaultMessage: '2. Fund BTC script' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.createTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.createTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.createTx })
        ),
        flow.step >= 3 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEos101', defaultMessage: '3. Request to open EOS contract' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.openTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.openTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.openTx })
        ),
        flow.step >= 4 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEos115', defaultMessage: '4. Withdraw EOS from contract' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.eosWithdrawTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.eosWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.eosWithdrawTx }),
          _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.btcWithdrawTx && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos126', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_Timer2.default, { lockTime: flow.scriptValues.lockTime * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            )
          )
        ),
        flow.step >= 5 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEos140', defaultMessage: '5. Request to withdraw BTC from script' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.btcWithdrawTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.btcWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.btcWithdrawTx })
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToEos;
}(_react.Component);

exports.default = BtcToEos;

/***/ }),

/***/ 1900:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"link":"_1bLBL3"};

/***/ }),

/***/ 1901:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TransactionLink = __webpack_require__(829);

var _TransactionLink2 = _interopRequireDefault(_TransactionLink);

var _controls = __webpack_require__(57);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EosToBtc = function (_Component) {
  (0, _inherits3.default)(EosToBtc, _Component);

  function EosToBtc(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, EosToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EosToBtc.__proto__ || (0, _getPrototypeOf2.default)(EosToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.verifyScript = function () {
      var _this$state$flow$scri = _this.state.flow.scriptValues,
          secretHash = _this$state$flow$scri.secretHash,
          recipientPublicKey = _this$state$flow$scri.recipientPublicKey,
          ownerPublicKey = _this$state$flow$scri.ownerPublicKey,
          lockTime = _this$state$flow$scri.lockTime;


      if (secretHash && recipientPublicKey && ownerPublicKey && lockTime) {
        _this.swap.events.dispatch('verify script');
      }
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.swap = swap;

    _this.state = {
      flow: _this.swap.flow.state,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(EosToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      if (flow.step === 2) {
        setTimeout(this.verifyScript, 2000);
      }

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EosToBtc59', defaultMessage: '1. Request to fund BTC script' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.createTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.createTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.createTx })
        ),
        flow.step >= 2 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EosToBtc73', defaultMessage: '2. Verify BTC script' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          )
        ),
        flow.step >= 3 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EosToBtc82', defaultMessage: '3. Open EOS contract' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.openTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.openTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.openTx })
        ),
        flow.step >= 4 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EosToBtc97', defaultMessage: '4. Request to withdraw EOS from contract' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.eosWithdrawTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          !flow.btcWithdrawTx && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.eosWithdrawTx && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc107', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.scriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.eosWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.eosWithdrawTx })
        ),
        flow.step >= 5 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EosToBtc127', defaultMessage: '5. Withdraw BTC from script' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.btcWithdrawTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.btcWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.btcWithdrawTx })
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EosToBtc;
}(_react.Component);

exports.default = EosToBtc;

/***/ }),

/***/ 1902:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokenToBtc = function (_Component) {
  (0, _inherits3.default)(EthTokenToBtc, _Component);

  function EthTokenToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, EthTokenToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthTokenToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthTokenToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(EthTokenToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenBtc77', defaultMessage: 'Waiting for other user when he connect to the order' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        (flow.step === 1 || flow.isMeSigned) && _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'EthTokenBtc86', defaultMessage: '1. Please confirm your participation to begin the deal' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthTokenBtc94',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation.If a user does not bring the deal to the end he gets a negative reputation.'
            },
            function (message) {
              return _react2.default.createElement(
                'div',
                null,
                message
              );
            }
          ),
          !flow.isSignFetching && !flow.isMeSigned && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _TimerButton2.default,
              { timeLeft: 5, brand: true, onClick: this.signSwap },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc102', defaultMessage: 'Confirm' })
            )
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc111', defaultMessage: 'Please wait. Confirmation processing' },
              function (message) {
                return _react2.default.createElement(
                  'h4',
                  null,
                  message
                );
              }
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc116', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenBtc147', defaultMessage: '2. Waiting BTC Owner creates Secret Key, creates BTC Script and charges it' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.btcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc159', defaultMessage: '3. Bitcoin Script created and charged. Please check the information below' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc162', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc165', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer' },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.btcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleBitcoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc184', defaultMessage: 'Show bitcoin script ' })
              ),
              isShowingBitcoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.btcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode(' + flow.btcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.btcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { timeLeft: 5, brand: true, onClick: this.confirmBTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc228', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc241', defaultMessage: 'Not enough money for this swap. Please fund the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message,
                  ' '
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'EthTokenBtc245', defaultMessage: 'Your balance: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'strong',
                      null,
                      flow.balance
                    ),
                    ' ',
                    _this2.swap.sellCurrency
                  );
                }
              ),
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'EthTokenBtc248', defaultMessage: 'Required balance: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'strong',
                      null,
                      _this2.swap.sellAmount.toNumber()
                    ),
                    ' ',
                    _this2.swap.sellCurrency
                  );
                }
              ),
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'EthTokenBtc251', defaultMessage: 'Your address: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'a',
                      { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                      currencyAddress
                    )
                  );
                }
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc258', defaultMessage: 'Continue' },
              function (message) {
                return _react2.default.createElement(
                  _TimerButton2.default,
                  { brand: true, onClick: _this2.updateBalance },
                  message
                );
              }
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc267', defaultMessage: 'Checking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenBtc276', defaultMessage: '4. Creating Ethereum Contract. Please wait, it will take a while' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc283', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer' },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc303', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc321', defaultMessage: '5. Waiting BTC Owner adds Secret Key to ETH Contact' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isBtcWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthTokenBtc335',
              defaultMessage: '6. BTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.btcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc342', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                flow.btcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isBtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenBtc365', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isBtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenBtc375', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_Timer2.default, { lockTime: (flow.btcScriptValues.lockTime - 5400) * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EthTokenToBtc;
}(_react.Component);

exports.default = EthTokenToBtc;

/***/ }),

/***/ 1903:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEthToken = function (_Component) {
  (0, _inherits3.default)(BtcToEthToken, _Component);

  function BtcToEthToken(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, BtcToEthToken);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEthToken.__proto__ || (0, _getPrototypeOf2.default)(BtcToEthToken)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.confirmAddress = function () {
      _this.swap.setDestinationBuyAddress(_this.state.destinationBuyAddress);
      _this.setState();
    };

    _this.destinationAddressFocus = function () {
      _this.setState({
        destinationAddressTimer: false
      });
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.btcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false,
      destinationAddressTimer: true,
      destinationBuyAddress: _this.swap.destinationBuyAddress ? _this.swap.destinationBuyAddress : _swap2.default.services.auth.accounts.eth.address
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToEthToken, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          destinationAddressTimer = _state.destinationAddressTimer;

      var linked = _swValuelink2.default.all(this, 'destinationBuyAddress');

      linked.destinationBuyAddress.check(function (value) {
        return value !== '';
      }, 'Please enter ETH address for tokens');

      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'BtcToEthToken77',
              defaultMessage: 'We are waiting for a market maker. If it does not appear within 5 minutes, the swap will be canceled automatically.' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        !flow.isWaitingForOwner && this.swap.destinationBuyAddress === null && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEthTokenAddress1', defaultMessage: 'Confirm destination address (by default - swap.online wallet)' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_Input2.default, { valueLink: linked.destinationBuyAddress, onFocus: this.destinationAddressFocus, styleName: 'input', pattern: '0-9a-zA-Z' }),
          _react2.default.createElement('hr', null),
          destinationAddressTimer && _react2.default.createElement(
            _TimerButton2.default,
            { timeLeft: 10, brand: true, onClick: this.confirmAddress },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthTokenAddress2', defaultMessage: 'Confirm address ' })
          ),
          !destinationAddressTimer && _react2.default.createElement(
            _Button2.default,
            { brand: true, onClick: this.confirmAddress, styleName: 'button' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthTokenAddress2', defaultMessage: 'Confirm address' })
          )
        ),
        this.swap.destinationBuyAddress && (flow.step === 1 || flow.isMeSigned) && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEthToken87', defaultMessage: '1. Waiting participant confirm this swap' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && this.swap.destinationBuyAddress && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEthToken100', defaultMessage: '2. Create a secret key' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _TimerButton2.default,
              { timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken108', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken114', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken117', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken120', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken130', defaultMessage: 'Not enough money for this swap. Please charge the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'BtcToEthToken134', defaultMessage: 'Your balance: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'strong',
                      null,
                      flow.balance
                    ),
                    ' ',
                    _this2.swap.sellCurrency
                  );
                }
              ),
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'BtcToEthToken137', defaultMessage: 'Required balance: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'strong',
                      null,
                      _this2.swap.sellAmount.toNumber()
                    ),
                    ' ',
                    _this2.swap.sellCurrency
                  );
                }
              ),
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'BtcToEthToken140', defaultMessage: 'Your address: ' },
                function (message) {
                  return _react2.default.createElement(
                    'div',
                    null,
                    message,
                    _react2.default.createElement(
                      'a',
                      { href: _appConfig2.default.link.bitpay + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                      currencyAddress
                    )
                  );
                }
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken147', defaultMessage: 'Continue' },
              function (message) {
                return _react2.default.createElement(
                  _TimerButton2.default,
                  { brand: true, onClick: _this2.updateBalance },
                  message
                );
              }
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken156', defaultMessage: 'Checking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.step === 4 && flow.btcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken167', defaultMessage: '3. Creating Bitcoin Script. Please wait, it will take a while' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            flow.scriptAddress && _react2.default.createElement(
              'a',
              {
                href: _appConfig2.default.link.bitpay + '/address/' + flow.scriptAddress,
                target: '_blank',
                rel: 'noopener noreferrer'
              },
              'Top up BTC Script ',
              flow.scriptAddress
            ),
            flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken172', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            !flow.btcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.btcScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken200', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                { href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/', target: '_blank', rel: 'noopener noreferrer' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken207', defaultMessage: 'How refund your money? ' })
              ),
              'Refund hex transaction: ',
              _react2.default.createElement(
                'code',
                null,
                ' ',
                flow.refundTxHex,
                ' '
              )
            )
          ),
          (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken230', defaultMessage: '4. ETH Owner received Bitcoin Script and Secret Hash. Waiting when he creates ETH Contract' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken243', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'BtcToEthToken260', defaultMessage: '5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken267', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ethSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken290', defaultMessage: '6. Money was transferred to your wallet. Check the balance.' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'BtcToEthToken293', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken303', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.btcScriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken316', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToEthToken;
}(_react.Component);

exports.default = BtcToEthToken;

/***/ }),

/***/ 1904:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NumberInput = exports.Checkbox = exports.Radio = exports.Select = exports.TextArea = exports.Input = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactInputMask = __webpack_require__(1905);

var _reactInputMask2 = _interopRequireDefault(_reactInputMask);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _helpers = __webpack_require__(20);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setValue = function setValue(x, e) {
  return e.target.value;
};
var setBoolValue = function setBoolValue(x, e) {
  return Boolean(e.target.checked);
};

var validationClasses = function validationClasses(_ref, value, error) {
  var className = _ref.className,
      invalidClass = _ref.invalidClass,
      requiredClass = _ref.requiredClass;

  var _cx;

  return (0, _classnames2.default)(className, (_cx = {}, (0, _defineProperty3.default)(_cx, invalidClass || 'invalid', Boolean(error)), (0, _defineProperty3.default)(_cx, requiredClass || 'required', Boolean(error && value === '')), _cx));
};

var Input = function Input(props) {
  var valueLink = props.valueLink,
      checkedLink = props.checkedLink,
      pattern = props.pattern,
      mask = props.mask,
      maskChar = props.maskChar,
      maskReplace = props.maskReplace,
      rest = (0, _objectWithoutProperties3.default)(props, ['valueLink', 'checkedLink', 'pattern', 'mask', 'maskChar', 'maskReplace']);

  var link = valueLink || checkedLink;

  switch (props.type) {
    case 'checkbox':
      return _react2.default.createElement('input', (0, _extends3.default)({}, rest, {
        checked: Boolean(link.value),
        onChange: link.action(setBoolValue)
      }));
    case 'radio':
      return _react2.default.createElement('input', (0, _extends3.default)({}, rest, {
        checked: link.value === props.value,
        onChange: function onChange(e) {
          if (e.target.checked) {
            link.set(props.value);
          }
        }
      }));
    default:
      var className = validationClasses(rest, valueLink.value, valueLink.error);
      var node = Boolean(mask) ? _reactInputMask2.default : 'input';

      var nodeProps = (0, _assign2.default)({}, rest, {
        className: className,
        value: typeof valueLink.value !== 'undefined' ? String(valueLink.value) : '',
        onChange: valueLink.action(function (x, e) {
          var val = e.target.value;

          if (pattern && val) {
            val = val.replace(new RegExp('[^' + pattern + ']+', 'g'), '');
          }

          if (mask && val) {
            if (maskReplace) {
              return val.replace(maskReplace, '');
            } else if (maskReplace !== null && maskReplace !== false) {
              return val.replace(/[^0-9]+/g, '');
            }
          }
          return val;
        })
      });

      if (mask) {
        nodeProps.mask = mask;
        nodeProps.maskChar = maskChar;
      }

      return _react2.default.createElement(node, nodeProps);
  }
};

var NumberInput = function (_Component) {
  (0, _inherits3.default)(NumberInput, _Component);

  function NumberInput() {
    (0, _classCallCheck3.default)(this, NumberInput);

    var _this = (0, _possibleConstructorReturn3.default)(this, (NumberInput.__proto__ || (0, _getPrototypeOf2.default)(NumberInput)).apply(this, arguments));

    _this.onChange = function (e) {
      var value = e.target.value;

      var asNumber = Number(value);

      _this.setValue(value);

      if (value && !isNaN(asNumber)) {
        _this.props.valueLink.update(function (x) {
          // Update link if value is changed
          if (asNumber !== Number(x)) {
            return asNumber;
          }
        });
      }
    };

    _this.onKeyPress = function (event) {
      var _this$props = _this.props,
          integer = _this$props.integer,
          positive = _this$props.positive;
      var charCode = event.charCode,
          ctrlKey = event.ctrlKey;


      var allowedCharCodes = (positive ? [] : [45]).concat(integer ? [] : [46]);

      if (ctrlKey) {
        return;
      }

      if (charCode && (charCode < 48 || charCode > 57) && allowedCharCodes.indexOf(charCode) < 0) {
        event.preventDefault();
      }
    };
    return _this;
  }

  (0, _createClass3.default)(NumberInput, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.setAndConvert(this.props.valueLink.value);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var next = nextProps.valueLink;


      if (Number(next.value) !== Number(this.value)) {
        this.setAndConvert(next.value); // keep state being synced
      }
    }
  }, {
    key: 'setValue',
    value: function setValue(x) {
      // We're not using native state in order to avoid race condition.
      this.value = String(x);
      this.error = this.value === '' || isNaN(Number(x));

      this.forceUpdate();
    }
  }, {
    key: 'setAndConvert',
    value: function setAndConvert(x) {
      var value = Number(x);

      if (this.props.positive) {
        value = Math.abs(x);
      }
      if (this.props.integer) {
        value = Math.round(value);
      }

      this.setValue(value);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          valueLink = _props.valueLink,
          props = (0, _objectWithoutProperties3.default)(_props, ['valueLink']);

      var error = valueLink.error || this.error;

      return _react2.default.createElement('input', (0, _extends3.default)({}, (0, _helpers.ignoreProps)(props, 'positive', 'integer'), {
        type: 'text',
        className: validationClasses(props, this.value, error),
        value: this.value,
        onKeyPress: this.onKeyPress,
        onChange: this.onChange
      }));
    }
  }]);
  return NumberInput;
}(_react.Component);

/**
 * Wrapper for standard <textarea/> to be compliant with React 0.14 valueLink semantic.
 * Simple supports for link validation - adds 'invalid' class if link has an error.
 *
 *     <TextArea valueLink={ linkToText } />
 */


var TextArea = function TextArea(_ref2) {
  var valueLink = _ref2.valueLink,
      props = (0, _objectWithoutProperties3.default)(_ref2, ['valueLink']);
  return _react2.default.createElement('textarea', (0, _extends3.default)({}, props, {
    className: validationClasses(props, valueLink.value, valueLink.error),
    value: valueLink.value,
    onChange: valueLink.action(setValue)
  }));
};

/**
 * Wrapper for standard <select/> to be compliant with React 0.14 valueLink semantic.
 * Regular <option/> tags must be used:
 *
 *     <Select valueLink={ linkToSelectedValue }>
 *         <option value="a">A</option>
 *         <option value="b">B</option>
 *     </Select>
 */
var Select = function Select(_ref3) {
  var valueLink = _ref3.valueLink,
      children = _ref3.children,
      props = (0, _objectWithoutProperties3.default)(_ref3, ['valueLink', 'children']);
  return _react2.default.createElement(
    'select',
    (0, _extends3.default)({}, props, {
      value: valueLink.value,
      onChange: valueLink.action(setValue)
    }),
    children
  );
};

/**
 * Simple custom <Radio/> tag implementation. Can be easily styled.
 * Intended to be used with offhand bool link:
 *
 *    <Radio checkedLink={ linkToValue.equals( optionValue ) />
 */
var Radio = function Radio(_ref4) {
  var _ref4$className = _ref4.className,
      className = _ref4$className === undefined ? 'radio' : _ref4$className,
      checkedLink = _ref4.checkedLink,
      children = _ref4.children;
  return _react2.default.createElement(
    'div',
    {
      className: (0, _classnames2.default)(className, { 'selected': checkedLink.value }),
      onClick: checkedLink.action(function () {
        return true;
      })
    },
    children
  );
};

/**
 * Simple custom <Checkbox /> tag implementation.
 * Takes any type of boolean link. Can be easily styled.
 *
 *     <Checkbox checkedLink={ boolLink } />
 */
var Checkbox = function Checkbox(_ref5) {
  var _ref5$className = _ref5.className,
      className = _ref5$className === undefined ? 'checkbox' : _ref5$className,
      checkedLink = _ref5.checkedLink,
      children = _ref5.children;
  return _react2.default.createElement(
    'div',
    {
      className: (0, _classnames2.default)(className, { 'selected': checkedLink.value }),
      onClick: checkedLink.action(function (x) {
        return !x;
      })
    },
    children
  );
};

exports.Input = Input;
exports.TextArea = TextArea;
exports.Select = Select;
exports.Radio = Radio;
exports.Checkbox = Checkbox;
exports.NumberInput = NumberInput;

/***/ }),

/***/ 1910:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"root":"_1aWblp","inputContainer":"_2di3Mb","disabled":"_3u8Uu2","withError":"_3RwSrH","input":"_3T0zd_","label":"_3xlNvF","error":"_3LmV0i"};

/***/ }),

/***/ 1912:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokenToUsdt = function (_Component) {
  (0, _inherits3.default)(EthTokenToUsdt, _Component);

  function EthTokenToUsdt(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, EthTokenToUsdt);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthTokenToUsdt.__proto__ || (0, _getPrototypeOf2.default)(EthTokenToUsdt)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.addGasPrice = function () {
      var gwei = new _bignumber.BigNumber(String(_this.swap.flow.ethTokenSwap.gasPrice)).plus(new _bignumber.BigNumber(1e10));
      _this.swap.flow.ethTokenSwap.addGasPrice(gwei);
      _this.swap.flow.restartStep();
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(EthTokenToUsdt, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenToUsdt84', defaultMessage: 'Waiting for other user when he connect to the order' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        (flow.step === 1 || flow.isMeSigned) && _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'EthTokenToUsdt93', defaultMessage: '1. Please confirm your participation to begin the deal' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthTokenToUsdt101',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative reputation.'
            },
            function (message) {
              return _react2.default.createElement(
                'div',
                null,
                message
              );
            }
          ),
          !flow.isSignFetching && !flow.isMeSigned && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _TimerButton2.default,
              { brand: true, onClick: this.signSwap },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt109', defaultMessage: 'Confirm' })
            )
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt118', defaultMessage: 'Please wait. Confirmation processing' },
              function (message) {
                return _react2.default.createElement(
                  'h4',
                  null,
                  message
                );
              }
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt123', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenToUsdt154', defaultMessage: '2. Waiting USDT Owner creates Secret Key, creates BTC Omni Script and charges it' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.usdtScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt166', defaultMessage: '3. Bitcoin Omni Script created and charged. Please check the information below' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt169', defaultMessage: 'Secret Hash: ' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message,
                  _react2.default.createElement(
                    'strong',
                    null,
                    flow.secretHash
                  )
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt172', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.usdtFundingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.usdtFundingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.usdtFundingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.usdtScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleBitcoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt192', defaultMessage: 'Show bitcoin script ' })
              ),
              isShowingBitcoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.usdtScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from(\'' + flow.usdtScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from(\'' + flow.usdtScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode(' + flow.usdtScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.usdtScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { brand: true, onClick: this.confirmBTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt236', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt249', defaultMessage: 'Not enough money for this swap. Please fund the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt253', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt257', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt260', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.usdt + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement('hr', null),
                _react2.default.createElement(
                  'span',
                  null,
                  flow.address
                )
              ),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { brand: true, onClick: this.updateBalance },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt267', defaultMessage: 'Continue' })
              )
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt276', defaultMessage: 'hecking balance..' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'EthTokenToUsdt285', defaultMessage: '4. Creating Ethereum Contract. Please wait, it will take a while' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt292', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt313', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt331', defaultMessage: '5. Waiting BTC Owner adds Secret Key to ETH Contact' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isBtcWithdrawn) && _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'EthTokenToUsdt345',
              defaultMessage: '6. USDT Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait'
            },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          flow.usdtSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt352', defaultMessage: 'USDT withdrawal transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.usdtSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.usdtSwapWithdrawTransactionHash
              )
            ),
            'Please note that USDT withdrawal may take a while to mine and to propagate the network. Due to Omni Protocol properties, the transaction may show up at the OmniExplorer in up to 20 minutes.'
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isBtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt377', defaultMessage: '7. Money was transferred to your wallet. Check the balance.' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'EthTokenToUsdt380', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message
                );
              }
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isBtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokenToUsdt390', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: (flow.usdtScriptValues.lockTime - 5400) * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EthTokenToUsdt;
}(_react.Component);

exports.default = EthTokenToUsdt;

/***/ }),

/***/ 1913:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(79);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UsdtToEthToken = function (_Component) {
  (0, _inherits3.default)(UsdtToEthToken, _Component);

  function UsdtToEthToken(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, UsdtToEthToken);

    var _this = (0, _possibleConstructorReturn3.default)(this, (UsdtToEthToken.__proto__ || (0, _getPrototypeOf2.default)(UsdtToEthToken)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.addGasPrice = function () {
      var gwei = new _bignumber.BigNumber(String(_this.swap.flow.ethTokenSwap.gasPrice)).plus(new _bignumber.BigNumber(1e9));
      _this.swap.flow.ethTokenSwap.addGasPrice(gwei);
      _this.swap.flow.restartStep();
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.usdtScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(UsdtToEthToken, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'UsdrToEthToken83',
              defaultMessage: 'We are waiting for a market maker. If it does not appear within 5 minutes, the swap will be canceled automatically.' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        (flow.step === 1 || flow.isMeSigned) && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'UsdrToEthToken93', defaultMessage: '1. Waiting participant confirm this swap' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'UsdrToEthToken106', defaultMessage: '2. Create a secret key' },
            function (message) {
              return _react2.default.createElement(
                'h3',
                null,
                message
              );
            }
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _TimerButton2.default,
              { brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken115', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken121', defaultMessage: 'Save the secret key! Otherwise there will be a chance that you\'ll lose your money!' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken124', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken127', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken137', defaultMessage: 'Not enough money for this swap. Please charge the balance' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken141', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken144', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken147', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _TimerButton2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken154', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken163', defaultMessage: 'Checking balance...' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  null,
                  message,
                  ' '
                );
              }
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.usdtScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken174', defaultMessage: '3. Creating Bitcoin Omni Script. Please wait, it will take a while' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message,
                  ' '
                );
              }
            ),
            flow.usdtFundingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken179', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.bitpay + '/tx/' + flow.usdtFundingTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                  flow.usdtFundingTransactionHash
                )
              )
            ),
            !flow.usdtScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.usdtScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken206', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                { href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/', target: '_blank', rel: 'noopener noreferrer' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken213', defaultMessage: ' How to refund your money?' })
              ),
              ')} Refund hex transaction:',
              _react2.default.createElement(
                'code',
                null,
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken233', defaultMessage: '4. ETH Owner received Bitcoin Omni Script and Secret Hash. Waiting until he creates ETH Contract' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message,
                  ' '
                );
              }
            ),
            !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken246', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken264', defaultMessage: '5. ETH Contract is created and charged. Requesting withdrawal from ETH Contract. Please wait' })
          ),
          flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken271', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash, target: '_blank', rel: 'noreferrer noopener' },
                flow.ethSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken294', defaultMessage: '6. Money was transferred to your wallet. Check the balance.' },
              function (message) {
                return _react2.default.createElement(
                  'h3',
                  null,
                  message,
                  ' '
                );
              }
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'UsdrToEthToken297', defaultMessage: 'Thank you for using Swap.Online!' },
              function (message) {
                return _react2.default.createElement(
                  'h2',
                  null,
                  message,
                  ' '
                );
              }
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken307', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.usdtScriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UsdrToEthToken320', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return UsdtToEthToken;
}(_react.Component);

exports.default = UsdtToEthToken;

/***/ }),

/***/ 1914:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Share = __webpack_require__(1915);

var _Share2 = _interopRequireDefault(_Share);

var _controls = __webpack_require__(57);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Share = function Share(_ref) {
  var flow = _ref.flow;
  return flow.step >= 5 && _react2.default.createElement(
    _Href2.default,
    { tab: 'https://twitter.com/intent/tweet?url=https://swap.online/&text=I%20just%20make%20swap%20on%20&hashtags=AtomicSwap,DEX,Bitcoin,SWAP&via=SwapOnlineTeam' },
    _react2.default.createElement(
      _controls.Button,
      { brand: true },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Share', defaultMessage: 'Share Twitter' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Share, _Share2.default);

/***/ }),

/***/ 1915:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_1R-l0T"};

/***/ }),

/***/ 1916:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EmergencySave = __webpack_require__(1917);

var _EmergencySave2 = _interopRequireDefault(_EmergencySave);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EmergencySave = (_dec = (0, _reactCssModules2.default)(_EmergencySave2.default), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(EmergencySave, _Component);

  function EmergencySave() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EmergencySave);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EmergencySave.__proto__ || (0, _getPrototypeOf2.default)(EmergencySave)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isShowEmergency: false
    }, _this.showEmergency = function () {
      _this.setState({
        isShowEmergency: !_this.state.isShowEmergency
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EmergencySave, [{
    key: 'render',
    value: function render() {
      var isShowEmergency = this.state.isShowEmergency;
      var state = this.props.flow.state;


      return _react2.default.createElement(
        'div',
        { styleName: 'block' },
        _react2.default.createElement(
          'span',
          { styleName: 'button', onClick: this.showEmergency },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EmergencySave', defaultMessage: 'Information about swap' })
        ),
        isShowEmergency && _react2.default.createElement(
          'pre',
          null,
          _react2.default.createElement(
            'code',
            null,
            (0, _stringify2.default)(state, false, 4)
          )
        )
      );
    }
  }]);
  return EmergencySave;
}(_react.Component), _class2.propTypes = {
  flow: _propTypes2.default.object
}, _temp2)) || _class);
exports.default = EmergencySave;

/***/ }),

/***/ 1917:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"block":"FrwFdW","button":"_2yZ_HA"};

/***/ }),

/***/ 1918:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Home = __webpack_require__(1919);

var _Home2 = _interopRequireDefault(_Home);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(47);

var _Center = __webpack_require__(281);

var _Center2 = _interopRequireDefault(_Center);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _FaqExpandableItem = __webpack_require__(1924);

var _FaqExpandableItem2 = _interopRequireDefault(_FaqExpandableItem);

var _CurrencyDirectionChooser = __webpack_require__(1926);

var _CurrencyDirectionChooser2 = _interopRequireDefault(_CurrencyDirectionChooser);

var _reactIntl = __webpack_require__(14);

var _Orders = __webpack_require__(1958);

var _Orders2 = _interopRequireDefault(_Orders);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Home = (_dec = (0, _redaction.connect)(function (_ref) {
  var filter = _ref.core.filter,
      currencies = _ref.currencies.items;
  return {
    filter: filter,
    currencies: currencies
  };
}), _dec2 = (0, _reactCssModules2.default)(_Home2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Home, _Component);

  function Home(_ref2) {
    var initialData = _ref2.initialData,
        _ref2$match$params = _ref2.match.params,
        buy = _ref2$match$params.buy,
        sell = _ref2$match$params.sell;
    (0, _classCallCheck3.default)(this, Home);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Home.__proto__ || (0, _getPrototypeOf2.default)(Home)).call(this));

    _initialiseProps.call(_this);

    var _ref3 = initialData || {},
        buyCurrency = _ref3.buyCurrency,
        sellCurrency = _ref3.sellCurrency;

    _this.state = {
      buyCurrency: buy || buyCurrency || 'swap',
      sellCurrency: sell || sellCurrency || 'btc',
      invalidPair: false
    };
    return _this;
  }

  (0, _createClass3.default)(Home, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props$match$params = this.props.match.params,
          buy = _props$match$params.buy,
          sell = _props$match$params.sell;


      if (!sell || !buy) {
        return;
      }

      this.checkPair(sell, buy);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          orderId = _props.match.params.orderId,
          pathname = _props.history.location.pathname,
          currencies = _props.currencies,
          history = _props.history,
          filter = _props.filter;
      var _state = this.state,
          buyCurrency = _state.buyCurrency,
          sellCurrency = _state.sellCurrency,
          invalidPair = _state.invalidPair;


      return _react2.default.createElement(
        'section',
        { style: { position: 'relative', width: '100%' } },
        _react2.default.createElement(
          _PageHeadline2.default,
          null,
          pathname === _helpers.links.exchange ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(_CurrencyDirectionChooser2.default, {
              handleSellCurrencySelect: this.handleSellCurrencySelect,
              handleBuyCurrencySelect: this.handleBuyCurrencySelect,
              handleSubmit: this.handleShowOrders,
              buyCurrency: buyCurrency,
              sellCurrency: sellCurrency,
              flipCurrency: this.flipCurrency,
              currencies: currencies
            }),
            _react2.default.createElement(
              'div',
              { styleName: 'videoContainer' },
              _react2.default.createElement(
                _Center2.default,
                { relative: true, centerVertically: false },
                _react2.default.createElement(
                  _reactIntl.FormattedMessage,
                  { id: 'Home153', defaultMessage: 'What is atomic swap?' },
                  function (message) {
                    return _react2.default.createElement(
                      _SubTitle2.default,
                      null,
                      message
                    );
                  }
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'videoFaqContainer' },
                _react2.default.createElement('iframe', {
                  title: 'What is atomic swap?',
                  width: '700',
                  height: '480',
                  src: 'https://www.youtube.com/embed/Jhrb7xOT_7s',
                  frameBorder: '0',
                  allow: 'autoplay; encrypted-media',
                  allowFullScreen: true
                }),
                _react2.default.createElement(
                  'div',
                  { styleName: 'faqContainer' },
                  _helpers.links.faq.map(function (question, idx) {
                    return _react2.default.createElement(_FaqExpandableItem2.default, (0, _extends3.default)({ key: idx }, question));
                  })
                )
              )
            )
          ) : _react2.default.createElement(_Orders2.default, {
            handleSellCurrencySelect: this.handleSellCurrencySelect,
            handleBuyCurrencySelect: this.handleBuyCurrencySelect,
            buyCurrency: buyCurrency,
            sellCurrency: sellCurrency,
            flipCurrency: this.flipCurrency,
            orderId: orderId,
            invalidPair: invalidPair
          })
        )
      );
    }
  }]);
  return Home;
}(_react.Component), _class2.propTypes = {
  faqList: _propTypes2.default.arrayOf(_propTypes2.default.shape({
    title: _propTypes2.default.string.isRequired,
    description: _propTypes2.default.string.isRequired
  })),
  faqFetching: _propTypes2.default.bool
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.handleBuyCurrencySelect = function (_ref4) {
    var value = _ref4.value;
    var _state2 = _this2.state,
        sellCurrency = _state2.sellCurrency,
        buyCurrency = _state2.buyCurrency;


    if (sellCurrency === value) {
      sellCurrency = buyCurrency;
    }

    _this2.checkPair(sellCurrency, value);

    _this2.setState({
      buyCurrency: value,
      sellCurrency: sellCurrency
    });
  };

  this.handleSellCurrencySelect = function (_ref5) {
    var value = _ref5.value;
    var _state3 = _this2.state,
        sellCurrency = _state3.sellCurrency,
        buyCurrency = _state3.buyCurrency;


    if (buyCurrency === value) {
      buyCurrency = sellCurrency;
    }

    _this2.checkPair(value, buyCurrency);

    _this2.setState({
      buyCurrency: buyCurrency,
      sellCurrency: value
    });
  };

  this.flipCurrency = function () {
    var _state4 = _this2.state,
        buyCurrency = _state4.buyCurrency,
        sellCurrency = _state4.sellCurrency;


    _this2.checkPair(buyCurrency, sellCurrency);

    _this2.setState({
      buyCurrency: sellCurrency,
      sellCurrency: buyCurrency
    });
  };

  this.setFilter = function (filter) {
    _actions2.default.core.setFilter(filter);
  };

  this.checkPair = function (sell, buy) {
    sell = sell.toUpperCase();
    buy = buy.toUpperCase();

    if (_helpers.constants.tradeTicker.includes(sell + '-' + buy)) {
      _this2.setFilter(sell + '-' + buy);
    } else if (_helpers.constants.tradeTicker.includes(buy + '-' + sell)) {
      _this2.setFilter(buy + '-' + sell);
    } else {
      _this2.setFilter('swap-btc');
      _this2.setState(function () {
        return {
          sellCurrency: 'btc',
          buyCurrency: 'swap',
          invalidPair: true
        };
      });
    }
  };

  this.handleShowOrders = function () {
    var _props2 = _this2.props,
        history = _props2.history,
        filter = _props2.filter;


    _this2.setState(function () {
      return { isVisible: false };
    });
    history.replace(filter.toLowerCase());
  };
}, _temp)) || _class) || _class);
exports.default = Home;

/***/ }),

/***/ 1919:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"videoContainer":"_2L0xz-","videoFaqContainer":"_2H7jtb","faqContainer":"_35aEzz","loading":"_3c4-T1","noItems":"_1n1lRB"};

/***/ }),

/***/ 1920:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"centringContainer":"_1uK09U","scrollable":"_1K6mUM","keepFontSize":"_1njrcw","relative":"qlhdRv","centerHorizontally":"_2XBC5q","centerVertically":"ViOlGK","centringContent":"_1xMZgg"};

/***/ }),

/***/ 1921:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"headline":"_3j0ceJ"};

/***/ }),

/***/ 1922:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_1Sjfw-"};

/***/ }),

/***/ 1923:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"subTitle":"_3J0EOu"};

/***/ }),

/***/ 1924:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FaqExpandableItem = __webpack_require__(1925);

var _FaqExpandableItem2 = _interopRequireDefault(_FaqExpandableItem);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FaqExpandableItem = function FaqExpandableItem(_ref) {
  var link = _ref.link,
      question = _ref.question;
  return _react2.default.createElement(
    'div',
    { styleName: 'container' },
    _react2.default.createElement(
      _Href2.default,
      {
        tab: link,
        styleName: 'header',
        rel: 'noreferrer noopener'
      },
      question
    )
  );
};

FaqExpandableItem.propTypes = {
  question: _propTypes2.default.string.isRequired,
  link: _propTypes2.default.string.isRequired
};

exports.default = (0, _reactCssModules2.default)(FaqExpandableItem, _FaqExpandableItem2.default);

/***/ }),

/***/ 1925:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_3t_8ZV","active":"_yj6S_","header":"_2PUzdU","description":"_2Eysl5","icon":"_2E-Cwf"};

/***/ }),

/***/ 1926:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyDirectionChooser = __webpack_require__(1927);

var _CurrencyDirectionChooser2 = _interopRequireDefault(_CurrencyDirectionChooser);

var _Flip = __webpack_require__(818);

var _Flip2 = _interopRequireDefault(_Flip);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _CurrencySelect = __webpack_require__(515);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencyDirectionChooser = (_dec = (0, _reactCssModules2.default)(_CurrencyDirectionChooser2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(CurrencyDirectionChooser, _Component);

  function CurrencyDirectionChooser() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, CurrencyDirectionChooser);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = CurrencyDirectionChooser.__proto__ || (0, _getPrototypeOf2.default)(CurrencyDirectionChooser)).call.apply(_ref, [this].concat(args))), _this), _this.createOffer = function () {
      var _this$props = _this.props,
          buyCurrency = _this$props.buyCurrency,
          sellCurrency = _this$props.sellCurrency;

      // return if value equal undefined or null

      if (!sellCurrency || !buyCurrency) {
        return;
      }

      _actions2.default.modals.open(_helpers.constants.modals.Offer, {
        buyCurrency: buyCurrency,
        sellCurrency: sellCurrency
      });

      _actions2.default.analytics.dataEvent('orderbook-click-createoffer-button');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(CurrencyDirectionChooser, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          buyCurrency = _props.buyCurrency,
          sellCurrency = _props.sellCurrency,
          flipCurrency = _props.flipCurrency,
          handleBuyCurrencySelect = _props.handleBuyCurrencySelect,
          handleSellCurrencySelect = _props.handleSellCurrencySelect,
          handleSubmit = _props.handleSubmit,
          currencies = _props.currencies;


      return _react2.default.createElement(
        'div',
        { styleName: 'choice' },
        _react2.default.createElement(
          'div',
          { styleName: 'row title' },
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'CurrencyDirectionChooser54', defaultMessage: ' Choose the direction of exchange' },
            function (message) {
              return _react2.default.createElement(
                _SubTitle2.default,
                null,
                message
              );
            }
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'row formRow' },
          _react2.default.createElement(
            'div',
            { styleName: 'row' },
            _react2.default.createElement(
              'div',
              { styleName: 'row rowLeft' },
              _react2.default.createElement(
                'p',
                { styleName: 'text' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CDC63', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(_CurrencySelect2.default, {
                styleName: 'currencySelect currencySelectLeft',
                selectedValue: sellCurrency,
                onSelect: handleSellCurrencySelect,
                currencies: currencies
              })
            ),
            _react2.default.createElement(_Flip2.default, { onClick: flipCurrency }),
            _react2.default.createElement(
              'div',
              { styleName: 'row rowRight' },
              _react2.default.createElement(
                'p',
                { styleName: 'text' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CDC75', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(_CurrencySelect2.default, {
                styleName: 'currencySelect currencySelectRight',
                selectedValue: buyCurrency,
                onSelect: handleBuyCurrencySelect,
                currencies: currencies
              })
            )
          ),
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'CurrencyDirectionChooser86', defaultMessage: 'SHOW ORDERS ' },
            function (message) {
              return _react2.default.createElement(
                _Button2.default,
                { styleName: 'button', brand: true, onClick: handleSubmit },
                message,
                _react2.default.createElement(_Tooltip2.default, { text: 'Offer list' })
              );
            }
          )
        )
      );
    }
  }]);
  return CurrencyDirectionChooser;
}(_react.Component), _class2.propTypes = {
  flipCurrency: _propTypes2.default.func,
  currencies: _propTypes2.default.any,
  handleSellCurrencySelect: _propTypes2.default.func,
  handleBuyCurrencySelect: _propTypes2.default.func,
  handleSubmit: _propTypes2.default.func,
  buyCurrency: _propTypes2.default.string.isRequired,
  sellCurrency: _propTypes2.default.string.isRequired
}, _temp2)) || _class);
exports.default = CurrencyDirectionChooser;

/***/ }),

/***/ 1927:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencySelect":"_3WfbsU","choice":"_3tOgFf","row":"h42rge","title":"_2Cd3PW","text":"_2w874l","formRow":"_1Tp5eJ","rowLeft":"b5DHW2","rowRight":"p0HcHS","currencySelectLeft":"_1iRx0u","currencySelectRight":"_2Wn-NK"};

/***/ }),

/***/ 1928:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 1929:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Option = __webpack_require__(1930);

var _Option2 = _interopRequireDefault(_Option);

var _CurrencyIcon = __webpack_require__(831);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Option = function Option(_ref) {
  var icon = _ref.icon,
      title = _ref.title;
  return _react2.default.createElement(
    _react.Fragment,
    { styleName: 'optionrow' },
    _react2.default.createElement(_CurrencyIcon2.default, { styleName: 'icon', name: icon }),
    title
  );
};

exports.default = (0, _reactCssModules2.default)(Option, _Option2.default);

/***/ }),

/***/ 1930:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"optionrow":"_1wWWK7","icon":"wo-HER"};

/***/ }),

/***/ 1931:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"text":"_3WoNsh"};

/***/ }),

/***/ 1932:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _btc = __webpack_require__(1933);

var _btc2 = _interopRequireDefault(_btc);

var _eth = __webpack_require__(1934);

var _eth2 = _interopRequireDefault(_eth);

var _icx = __webpack_require__(1935);

var _icx2 = _interopRequireDefault(_icx);

var _waves = __webpack_require__(1936);

var _waves2 = _interopRequireDefault(_waves);

var _xrp = __webpack_require__(1937);

var _xrp2 = _interopRequireDefault(_xrp);

var _bch = __webpack_require__(1938);

var _bch2 = _interopRequireDefault(_bch);

var _nim = __webpack_require__(1939);

var _nim2 = _interopRequireDefault(_nim);

var _eos = __webpack_require__(1940);

var _eos2 = _interopRequireDefault(_eos);

var _swap = __webpack_require__(1941);

var _swap2 = _interopRequireDefault(_swap);

var _usdt = __webpack_require__(1942);

var _usdt2 = _interopRequireDefault(_usdt);

var _syc = __webpack_require__(1943);

var _syc2 = _interopRequireDefault(_syc);

var _drt = __webpack_require__(1944);

var _drt2 = _interopRequireDefault(_drt);

var _omg = __webpack_require__(1945);

var _omg2 = _interopRequireDefault(_omg);

var _yup = __webpack_require__(1946);

var _yup2 = _interopRequireDefault(_yup);

var _kn = __webpack_require__(1947);

var _kn2 = _interopRequireDefault(_kn);

var _arn = __webpack_require__(1948);

var _arn2 = _interopRequireDefault(_arn);

var _lev = __webpack_require__(1949);

var _lev2 = _interopRequireDefault(_lev);

var _ltc = __webpack_require__(1950);

var _ltc2 = _interopRequireDefault(_ltc);

var _bxb = __webpack_require__(1951);

var _bxb2 = _interopRequireDefault(_bxb);

var _dcn = __webpack_require__(1952);

var _dcn2 = _interopRequireDefault(_dcn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  btc: _btc2.default,
  dcn: _dcn2.default,
  bxb: _bxb2.default,
  kn: _kn2.default,
  ltc: _ltc2.default,
  bch: _bch2.default,
  drt: _drt2.default,
  lev: _lev2.default,
  arn: _arn2.default,
  omg: _omg2.default,
  eth: _eth2.default,
  syc2: _syc2.default,
  icx: _icx2.default,
  usdt: _usdt2.default,
  swap: _swap2.default,
  waves: _waves2.default,
  xrp: _xrp2.default,
  eos: _eos2.default,
  yup: _yup2.default,
  nim: _nim2.default
};

/***/ }),

/***/ 1933:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/btc_8edde4.svg";

/***/ }),

/***/ 1934:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/eth_aa4ec5.svg";

/***/ }),

/***/ 1935:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icx_d6bb3b.svg";

/***/ }),

/***/ 1936:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/waves_de7e9b.svg";

/***/ }),

/***/ 1937:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/xrp_3be55b.svg";

/***/ }),

/***/ 1938:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/bch_8edde4.svg";

/***/ }),

/***/ 1939:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/nim_e23886.svg";

/***/ }),

/***/ 1940:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/eos_a9a7a2.svg";

/***/ }),

/***/ 1941:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/swap_16a987.svg";

/***/ }),

/***/ 1942:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/usdt_4043a4.svg";

/***/ }),

/***/ 1943:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/syc2_c07269.svg";

/***/ }),

/***/ 1944:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/drt_b8fe05.svg";

/***/ }),

/***/ 1945:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/omg_898bac.svg";

/***/ }),

/***/ 1946:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/yup_a18415.svg";

/***/ }),

/***/ 1947:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/kn_7929c8.svg";

/***/ }),

/***/ 1948:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/arn_314b0f.svg";

/***/ }),

/***/ 1949:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/lev_ee7490.svg";

/***/ }),

/***/ 1950:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/ltc_ddcbf9.svg";

/***/ }),

/***/ 1951:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/bxb_49dece.svg";

/***/ }),

/***/ 1952:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/dcn_5b5bda.svg";

/***/ }),

/***/ 1953:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactClickOutside = __webpack_require__(1954);

var _reactClickOutside2 = _interopRequireDefault(_reactClickOutside);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _DropDown = __webpack_require__(1955);

var _DropDown2 = _interopRequireDefault(_DropDown);

var _toggle = __webpack_require__(1956);

var _toggle2 = _interopRequireDefault(_toggle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DropDown = (_dec = (0, _toggle2.default)(), _dec2 = (0, _reactCssModules2.default)(_DropDown2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(DropDown, _Component);

  function DropDown(_ref) {
    var initialValue = _ref.initialValue,
        selectedValue = _ref.selectedValue;
    (0, _classCallCheck3.default)(this, DropDown);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DropDown.__proto__ || (0, _getPrototypeOf2.default)(DropDown)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      selectedValue: initialValue || selectedValue || 0
    };
    return _this;
  }

  (0, _createClass3.default)(DropDown, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          className = _props.className,
          items = _props.items,
          isToggleActive = _props.isToggleActive;


      var dropDownStyleName = (0, _classnames2.default)('dropDown', {
        'active': isToggleActive
      });

      return _react2.default.createElement(
        _reactClickOutside2.default,
        { onClickOutside: isToggleActive ? function () {
            return _this2.toggle();
          } : function () {} },
        _react2.default.createElement(
          'div',
          { styleName: dropDownStyleName, className: className },
          _react2.default.createElement(
            'div',
            { styleName: 'selectedItem', onClick: this.toggle },
            _react2.default.createElement('div', { styleName: 'arrow' }),
            this.renderSelectedItem()
          ),
          isToggleActive && _react2.default.createElement(
            'div',
            { styleName: 'select' },
            items.map(function (item) {
              return _react2.default.createElement(
                'div',
                {
                  key: item.value,
                  styleName: 'option',
                  onClick: function onClick() {
                    return _this2.handleOptionClick(item);
                  }
                },
                _this2.renderItem(item)
              );
            })
          )
        )
      );
    }
  }]);
  return DropDown;
}(_react.Component), _class2.propTypes = {
  initialValue: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  selectedValue: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  items: _propTypes2.default.arrayOf(_propTypes2.default.shape({
    title: _propTypes2.default.string.isRequired,
    value: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]).isRequired
  })),
  selectedItemRender: _propTypes2.default.func,
  itemRender: _propTypes2.default.func,
  onSelect: _propTypes2.default.func,
  isToggleActive: _propTypes2.default.bool.isRequired, // @toggle
  toggleOpen: _propTypes2.default.func.isRequired, // @toggle
  toggleClose: _propTypes2.default.func.isRequired // @toggle
}, _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.toggle = function () {
    var _props2 = _this3.props,
        isToggleActive = _props2.isToggleActive,
        toggleOpen = _props2.toggleOpen,
        toggleClose = _props2.toggleClose;


    if (isToggleActive) {
      toggleClose();
    } else {
      toggleOpen();
    }
  };

  this.handleOptionClick = function (item) {
    var _props3 = _this3.props,
        toggleClose = _props3.toggleClose,
        selectedValue = _props3.selectedValue,
        onSelect = _props3.onSelect;

    // if there is no passed `selectedValue` then change it

    if (typeof selectedValue === 'undefined') {
      _this3.setState({
        selectedValue: item.value
      });
    }

    // for example we'd like to change `selectedValue` manually
    if (typeof onSelect === 'function') {
      onSelect(item);
    }

    toggleClose();
  };

  this.renderSelectedItem = function () {
    var _props4 = _this3.props,
        items = _props4.items,
        selectedItemRender = _props4.selectedItemRender;


    var selectedValue = typeof _this3.props.selectedValue !== 'undefined' ? _this3.props.selectedValue : _this3.state.selectedValue;
    var selectedItem = items.find(function (_ref2) {
      var value = _ref2.value;
      return value === selectedValue;
    });

    if (typeof selectedItemRender === 'function') {
      return selectedItemRender(selectedItem);
    }

    return selectedItem.title;
  };

  this.renderItem = function (item) {
    var itemRender = _this3.props.itemRender;


    if (typeof itemRender === 'function') {
      return itemRender(item);
    }

    return item.title;
  };
}, _temp)) || _class) || _class);
exports.default = DropDown;

/***/ }),

/***/ 1955:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"dropDown":"_3TGsDm","active":"_241k3D","arrow":"_4VDBhE","selectedItem":"_30-6Oj","select":"_2ukQw7","option":"_1fOZbQ"};

/***/ }),

/***/ 1956:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { processClick: false };
  return function (Component) {
    return function (_PureComponent) {
      (0, _inherits3.default)(WrappedComponent, _PureComponent);

      function WrappedComponent() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, WrappedComponent);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = WrappedComponent.__proto__ || (0, _getPrototypeOf2.default)(WrappedComponent)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
          isToggleActive: false
        }, _this.toggleClose = function (event) {
          if (options.processClick) {
            event.stopPropagation();

            document.removeEventListener('click', _this.toggleClose);
          }

          _this.setState({
            isToggleActive: false
          });
        }, _this.toggleOpen = function (event) {
          var isToggleActive = _this.state.isToggleActive;


          if (isToggleActive) {
            return;
          }

          if (options.processClick) {
            event.stopPropagation();

            document.addEventListener('click', _this.toggleClose);
          }

          _this.setState({
            isToggleActive: true
          });
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      (0, _createClass3.default)(WrappedComponent, [{
        key: 'render',
        value: function render() {

          return _react2.default.createElement(Component, (0, _extends3.default)({}, this.props, this.state, {
            toggleOpen: this.toggleOpen,
            toggleClose: this.toggleClose
          }));
        }
      }]);
      return WrappedComponent;
    }(_react.PureComponent);
  };
};

/***/ }),

/***/ 1957:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"tooltip":"AnzyB5"};

/***/ }),

/***/ 1958:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(62);

var _constants = __webpack_require__(353);

var _constants2 = _interopRequireDefault(_constants);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Orders = __webpack_require__(1959);

var _Orders2 = _interopRequireDefault(_Orders);

var _controls = __webpack_require__(57);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _Title = __webpack_require__(514);

var _Title2 = _interopRequireDefault(_Title);

var _Table3 = __webpack_require__(227);

var _Table4 = _interopRequireDefault(_Table3);

var _PageSeo = __webpack_require__(832);

var _PageSeo2 = _interopRequireDefault(_PageSeo);

var _Pair = __webpack_require__(837);

var _Pair2 = _interopRequireDefault(_Pair);

var _Row = __webpack_require__(1964);

var _Row2 = _interopRequireDefault(_Row);

var _MyOrders = __webpack_require__(1970);

var _MyOrders2 = _interopRequireDefault(_MyOrders);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterMyOrders = function filterMyOrders(orders, peer) {
  return orders.filter(function (order) {
    return order.owner.peer === peer;
  });
};

var filterOrders = function filterOrders(orders, filter) {
  return orders.filter(function (order) {
    return order.isProcessing !== true;
  }).filter(function (order) {
    return _Pair2.default.check(order, filter);
  }).sort(function (a, b) {
    return _Pair2.default.compareOrders(b, a);
  });
};

var Orders = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$core = _ref.core,
      orders = _ref$core.orders,
      filter = _ref$core.filter,
      _ref$ipfs = _ref.ipfs,
      isOnline = _ref$ipfs.isOnline,
      peer = _ref$ipfs.peer,
      currencies = _ref.currencies.items;
  return {
    orders: filterOrders(orders, filter),
    myOrders: filterMyOrders(orders, peer),
    isOnline: isOnline,
    currencies: currencies
  };
}), _dec2 = (0, _reactCssModules2.default)(_Orders2.default), _dec(_class = (0, _reactRouterDom.withRouter)(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(Orders, _Component);

  function Orders() {
    var _ref2,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Orders);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Orders.__proto__ || (0, _getPrototypeOf2.default)(Orders)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      buyOrders: [],
      sellOrders: [],
      isVisible: false
    }, _this.createOffer = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$props, buyCurrency, sellCurrency;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$props = _this.props, buyCurrency = _this$props.buyCurrency, sellCurrency = _this$props.sellCurrency;


              _actions2.default.modals.open(_constants2.default.modals.Offer, {
                buyCurrency: buyCurrency,
                sellCurrency: sellCurrency
              });
              _actions2.default.analytics.dataEvent('orderbook-click-createoffer-button');

            case 3:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    })), _this.removeOrder = function (orderId) {
      if (confirm('Are your sure ?')) {
        _actions2.default.core.removeOrder(orderId);
        _actions2.default.core.updateCore();
      }
    }, _this.acceptRequest = function (orderId, peer) {
      _actions2.default.core.acceptRequest(orderId, peer);
      _actions2.default.core.updateCore();
    }, _this.declineRequest = function (orderId, peer) {
      _actions2.default.core.declineRequest(orderId, peer);
      _actions2.default.core.updateCore();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Orders, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _state = this.state,
          sellOrders = _state.sellOrders,
          buyOrders = _state.buyOrders,
          isVisible = _state.isVisible;
      var _props = this.props,
          sellCurrency = _props.sellCurrency,
          buyCurrency = _props.buyCurrency;

      buyCurrency = buyCurrency.toUpperCase();
      sellCurrency = sellCurrency.toUpperCase();

      var titles = ['OWNER', 'AMOUNT', 'PRICE FOR 1 ' + buyCurrency, 'TOTAL', 'START EXCHANGE'];
      var _props2 = this.props,
          isOnline = _props2.isOnline,
          myOrders = _props2.myOrders,
          orderId = _props2.orderId,
          invalidPair = _props2.invalidPair,
          location = _props2.location,
          currencies = _props2.currencies;


      var buyCurrencyFullName = (currencies.find(function (c) {
        return c.name === buyCurrency;
      }) || {}).fullTitle;
      var sellCurrencyFullName = (currencies.find(function (c) {
        return c.name === sellCurrency;
      }) || {}).fullTitle;

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_PageSeo2.default, {
          location: location,
          defaultTitle: 'Atomic Swap ' + buyCurrencyFullName + ' (' + buyCurrency + ') to ' + sellCurrencyFullName + ' (' + sellCurrency + ') Instant Exchange',
          defaultDescription: 'Best exchange rate for ' + buyCurrencyFullName + ' (' + buyCurrency + ') to ' + sellCurrencyFullName + ' (' + sellCurrency + ').\n               Swap.Online wallet provides instant exchange using Atomic Swap Protocol.' }),
        _react2.default.createElement(
          _Title2.default,
          null,
          buyCurrency,
          '/',
          sellCurrency,
          ' no limit exchange with 0 fee'
        ),
        invalidPair && _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'Orders117', defaultMessage: 'No such ticker. Redirecting to SWAP-BTC exchange...' },
          function (message) {
            return _react2.default.createElement(
              'p',
              null,
              message
            );
          }
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'buttonRow' },
          _react2.default.createElement(
            _controls.Button,
            { green: true, styleName: 'button', disabled: myOrders.length === 0, onClick: function onClick() {
                return _this3.setState(function (state) {
                  return { isVisible: !state.isVisible };
                });
              } },
            isVisible ? 'Hide' : 'Show',
            ' my Orders'
          ),
          _react2.default.createElement(
            _controls.Button,
            { gray: true, styleName: 'button', onClick: this.createOffer },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Orders128', defaultMessage: 'Create offer' })
          )
        ),
        isVisible && _react2.default.createElement(_MyOrders2.default, {
          myOrders: myOrders,
          declineRequest: this.declineRequest,
          removeOrder: this.removeOrder,
          acceptRequest: this.acceptRequest
        }),
        _react2.default.createElement(
          'h3',
          { styleName: 'ordersHeading' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders143', defaultMessage: 'BUY ' }),
          buyCurrency,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders145', defaultMessage: ' HERE' })
        ),
        _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders148', defaultMessage: ' orders of those who ' }),
          _react2.default.createElement(
            'i',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders150', defaultMessage: ' sell ' })
          ),
          buyCurrency,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders153', defaultMessage: ' to you ' })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table_exchange',
          className: _Table4.default.exchange,
          titles: titles,
          rows: sellOrders,
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_Row2.default, {
              key: index,
              orderId: orderId,
              row: row
            });
          },
          isLoading: !isOnline
        }),
        _react2.default.createElement(
          'h3',
          { styleName: 'ordersHeading' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders174', defaultMessage: 'SELL ' }),
          buyCurrency,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders176', defaultMessage: ' HERE' })
        ),
        _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders179', defaultMessage: ' orders that ' }),
          _react2.default.createElement(
            'i',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders181', defaultMessage: ' buy ' })
          ),
          buyCurrency,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders184', defaultMessage: ' from you ' })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table_exchange',
          className: _Table4.default.exchange,
          titles: titles,
          rows: buyOrders,
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_Row2.default, {
              key: index,
              orderId: orderId,
              row: row
            });
          },
          isLoading: !isOnline
        })
      );
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref4) {
      var orders = _ref4.orders;

      if (!Array.isArray(orders)) {
        return;
      }

      var sellOrders = orders.filter(function (order) {
        return _Pair2.default.fromOrder(order).isAsk();
      });

      var buyOrders = orders.filter(function (order) {
        return _Pair2.default.fromOrder(order).isBid();
      });

      return {
        buyOrders: buyOrders,
        sellOrders: sellOrders
      };
    }
  }]);
  return Orders;
}(_react.Component)) || _class) || _class) || _class);
exports.default = Orders;

/***/ }),

/***/ 1959:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"allOrders":"_3u9TAF","titleButtonRow":"_1Exz4G","buttonRow":"vRy_As","button":"_1_6G9u","ordersHeading":"j5MmmE","tableBox":"_2epF89","price":"_38UMQW","have":"_3nZCfy","haveValue":"_1bR0j0","get":"_39P9dV","getValue":"_1HBRX9","btn":"_34a10g","img":"_2HrarD","icon":"_2ZRasd"};

/***/ }),

/***/ 1964:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactDeviceDetect = __webpack_require__(199);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(1965);

var _Row2 = _interopRequireDefault(_Row);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _Avatar = __webpack_require__(516);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(57);

var _Pair = __webpack_require__(837);

var _Pair2 = _interopRequireDefault(_Pair);

var _PAIR_TYPES = __webpack_require__(354);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

var _RequestButton = __webpack_require__(1968);

var _RequestButton2 = _interopRequireDefault(_RequestButton);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _redaction.connect)({
  peer: 'ipfs.peer'
}), _dec2 = (0, _reactCssModules2.default)(_Row2.default), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Row);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isFetching: false,
      enterButton: false,
      balance: 0
    }, _this.checkBalance = function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
        var balance;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return _actions2.default[currency.toLowerCase()].getBalance(currency);

              case 2:
                balance = _context.sent;


                _this.setState({
                  balance: balance
                });

              case 4:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }(), _this.handleGoTrade = function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(currency) {
        var balance;
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return _actions2.default.eth.getBalance();

              case 2:
                balance = _context2.sent;
                return _context2.abrupt('return', balance >= 0.005 || currency.toLowerCase() !== 'eos');

              case 4:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, _this2);
      }));

      return function (_x2) {
        return _ref3.apply(this, arguments);
      };
    }(), _this.removeOrder = function (orderId) {
      if (confirm('Are your sure ?')) {
        _actions2.default.core.removeOrder(orderId);
        _actions2.default.core.updateCore();
      }
    }, _this.sendRequest = function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(orderId, currency) {
        var check;
        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return _this.handleGoTrade(currency);

              case 2:
                check = _context3.sent;


                if (check) {
                  _this.setState({ isFetching: true });

                  setTimeout(function () {
                    _this.setState(function () {
                      return { isFetching: false };
                    });
                  }, 15 * 1000);

                  _actions2.default.core.sendRequest(orderId, function (isAccepted) {
                    console.log('user has ' + (isAccepted ? 'accepted' : 'declined') + ' your request');

                    if (isAccepted) {
                      _this.setState({ redirect: true, isFetching: false });
                    } else {
                      _this.setState({ isFetching: false });
                    }
                  });
                } else {
                  _actions2.default.modals.open(_helpers.constants.modals.EthChecker, {});
                }

                _actions2.default.core.updateCore();

              case 5:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      }));

      return function (_x3, _x4) {
        return _ref4.apply(this, arguments);
      };
    }(), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Row, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props$row = this.props.row,
          sellCurrency = _props$row.sellCurrency,
          isMy = _props$row.isMy,
          buyCurrency = _props$row.buyCurrency;

      if (isMy) {
        this.checkBalance(sellCurrency);
      } else {
        this.checkBalance(buyCurrency);
      }
    }
  }, {
    key: 'renderWebContent',
    value: function renderWebContent() {
      var _this3 = this;

      var _state = this.state,
          balance = _state.balance,
          isFetching = _state.isFetching;
      var _props = this.props,
          orderId = _props.orderId,
          _props$row2 = _props.row,
          id = _props$row2.id,
          buyCurrency = _props$row2.buyCurrency,
          sellCurrency = _props$row2.sellCurrency,
          isMy = _props$row2.isMy,
          buyAmount = _props$row2.buyAmount,
          sellAmount = _props$row2.sellAmount,
          isRequested = _props$row2.isRequested,
          isProcessing = _props$row2.isProcessing,
          ownerPeer = _props$row2.owner.peer,
          peer = _props.peer;


      var pair = _Pair2.default.fromOrder(this.props.row);

      var price = pair.price,
          amount = pair.amount,
          total = pair.total,
          main = pair.main,
          base = pair.base,
          type = pair.type;


      if (this.state.redirect) {
        return _react2.default.createElement(_reactRouterDom.Redirect, { push: true, to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id });
      }

      return _react2.default.createElement(
        'tr',
        { style: orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {} },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Avatar2.default, {
            value: ownerPeer,
            size: 45
          })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            type === _PAIR_TYPES2.default.BID ? 'buys' : 'sells'
          ),
          ' ',
          amount.toFixed(5) + ' ' + main
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row122', defaultMessage: 'at price' })
          ),
          ' ',
          price.toFixed(5) + ' ' + base
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row131', defaultMessage: 'for' })
          ),
          ' ',
          total.toFixed(5) + ' ' + base
        ),
        _react2.default.createElement(
          'td',
          null,
          peer === ownerPeer ? _react2.default.createElement(_controls.RemoveButton, { onClick: function onClick() {
              return _this3.removeOrder(id);
            } }) : _react2.default.createElement(
            _react.Fragment,
            null,
            isRequested ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'div',
                { style: { color: 'red' } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row148', defaultMessage: 'REQUESTING' })
              ),
              _react2.default.createElement(
                _reactRouterDom.Link,
                { to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row151', defaultMessage: 'Go to the swap' })
              )
            ) : isProcessing ? _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'Row157', defaultMessage: 'This order is in execution' },
              function (message) {
                return _react2.default.createElement(
                  'span',
                  null,
                  message
                );
              }
            ) : isFetching ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(_InlineLoader2.default, null),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _reactIntl.FormattedMessage,
                { id: 'Row165', defaultMessage: 'Please wait while we confirm your request' },
                function (message) {
                  return _react2.default.createElement(
                    'span',
                    null,
                    message
                  );
                }
              )
            ) : _react2.default.createElement(
              _RequestButton2.default,
              {
                disabled: balance >= Number(buyAmount),
                onClick: function onClick() {
                  return _this3.sendRequest(id, isMy ? sellCurrency : buyCurrency);
                },
                data: { type: type, amount: amount, main: main, total: total, base: base },
                onMouseEnter: function onMouseEnter() {
                  return _this3.setState(function () {
                    return { enterButton: true };
                  });
                },
                onMouseLeave: function onMouseLeave() {
                  return _this3.setState(function () {
                    return { enterButton: false };
                  });
                },
                move: this.state.enterButton
              },
              type === _PAIR_TYPES2.default.BID ? 'SELL' : 'BUY',
              ' ',
              amount.toFixed(4),
              ' ',
              main,
              _react2.default.createElement('br', null),
              'FOR',
              ' ',
              total.toFixed(4),
              ' ',
              base
            )
          )
        )
      );
    }
  }, {
    key: 'renderMobileContent',
    value: function renderMobileContent() {
      var _this4 = this;

      var _state2 = this.state,
          balance = _state2.balance,
          isFetching = _state2.isFetching;
      var _props2 = this.props,
          orderId = _props2.orderId,
          _props2$row = _props2.row,
          id = _props2$row.id,
          buyCurrency = _props2$row.buyCurrency,
          sellCurrency = _props2$row.sellCurrency,
          isMy = _props2$row.isMy,
          buyAmount = _props2$row.buyAmount,
          sellAmount = _props2$row.sellAmount,
          isRequested = _props2$row.isRequested,
          isProcessing = _props2$row.isProcessing,
          ownerPeer = _props2$row.owner.peer,
          peer = _props2.peer;


      var pair = _Pair2.default.fromOrder(this.props.row);

      var price = pair.price,
          amount = pair.amount,
          total = pair.total,
          main = pair.main,
          base = pair.base,
          type = pair.type;


      return _react2.default.createElement(
        'tr',
        {
          styleName: 'mobile-row',
          style: orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}
        },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'bigContainer' },
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-1' },
              _react2.default.createElement(
                'span',
                { styleName: 'firstType' },
                type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileFirstTypeYouHave', defaultMessage: 'You have' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileFirstTypeYouGet', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(
                'span',
                null,
                amount.toFixed(5) + ' ' + main
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-2' },
              _react2.default.createElement(
                'span',
                { styleName: 'secondType' },
                type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileSecondTypeYouGet', defaultMessage: 'You get' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileSecondTypeYouHave', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(
                'span',
                null,
                total.toFixed(5) + ' ' + base
              )
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          peer === ownerPeer ? _react2.default.createElement(_controls.RemoveButton, { onClick: function onClick() {
              return _this4.removeOrder(id);
            } }) : _react2.default.createElement(
            _react.Fragment,
            null,
            isRequested ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'div',
                { style: { color: 'red' } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM136', defaultMessage: 'REQUESTING' })
              ),
              _react2.default.createElement(
                _reactRouterDom.Link,
                { to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM139', defaultMessage: 'Go to the swap' })
              )
            ) : isProcessing ? _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM145', defaultMessage: 'This order is in execution' })
            ) : isFetching ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(_InlineLoader2.default, null),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM153', defaultMessage: 'Please wait while we confirm your request' })
              )
            ) : _react2.default.createElement(
              _RequestButton2.default,
              {
                styleName: 'startButton',
                disabled: balance >= Number(buyAmount),
                onClick: function onClick() {
                  return _this4.sendRequest(id, isMy ? sellCurrency : buyCurrency);
                },
                data: { type: type, amount: amount, main: main, total: total, base: base },
                onMouseEnter: function onMouseEnter() {
                  return _this4.setState(function () {
                    return { enterButton: true };
                  });
                },
                onMouseLeave: function onMouseLeave() {
                  return _this4.setState(function () {
                    return { enterButton: false };
                  });
                },
                move: this.state.enterButton
              },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM166', defaultMessage: 'Start' })
            )
          )
        )
      );
    }
  }, {
    key: 'render',
    value: function render() {
      var _props$row3 = this.props.row,
          id = _props$row3.id,
          buyCurrency = _props$row3.buyCurrency,
          sellCurrency = _props$row3.sellCurrency;


      if (this.state.redirect) {
        return _react2.default.createElement(_reactRouterDom.Redirect, { push: true, to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id });
      }

      if (_reactDeviceDetect.isMobile) {
        return this.renderMobileContent();
      } else {
        return this.renderWebContent();
      }
    }
  }]);
  return Row;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 1965:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"mobile-row":"_3Mt-Oq","firstType":"_3Dvz1A","secondType":"_1uvHAg","tdContainer-1":"_1908ze","tdContainer-2":"_2lLMRF","startButton":"_3t1I2y","bigContainer":"_26jNRe"};

/***/ }),

/***/ 1967:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"avatar":"_2q028Y"};

/***/ }),

/***/ 1968:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RequestButton = __webpack_require__(1969);

var _RequestButton2 = _interopRequireDefault(_RequestButton);

var _PAIR_TYPES = __webpack_require__(354);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RequestButton = function RequestButton(_ref) {
  var disabled = _ref.disabled,
      children = _ref.children,
      _ref$data = _ref.data,
      type = _ref$data.type,
      base = _ref$data.base,
      amount = _ref$data.amount,
      total = _ref$data.total,
      main = _ref$data.main,
      move = _ref.move,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['disabled', 'children', 'data', 'move']);
  return _react2.default.createElement(
    'button',
    (0, _extends3.default)({ styleName: !disabled ? 'button disabled' : 'button' }, rest),
    move ? _react2.default.createElement(
      _react2.default.Fragment,
      null,
      type === _PAIR_TYPES2.default.BID ? 'SELL' : 'BUY',
      ' ',
      amount.toFixed(4),
      ' ',
      main,
      _react2.default.createElement('br', null),
      'FOR',
      ' ',
      total.toFixed(4),
      ' ',
      base
    ) : children
  );
};

exports.default = (0, _reactCssModules2.default)(RequestButton, _RequestButton2.default, { allowMultiple: true });

/***/ }),

/***/ 1969:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_2R1jZb","disabled":"cbbrx4"};

/***/ }),

/***/ 1970:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactDeviceDetect = __webpack_require__(199);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _Table3 = __webpack_require__(227);

var _Table4 = _interopRequireDefault(_Table3);

var _RowFeeds = __webpack_require__(1971);

var _RowFeeds2 = _interopRequireDefault(_RowFeeds);

var _RowFeedsMobile = __webpack_require__(1979);

var _RowFeedsMobile2 = _interopRequireDefault(_RowFeedsMobile);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MyOrders = function (_PureComponent) {
  (0, _inherits3.default)(MyOrders, _PureComponent);

  function MyOrders() {
    (0, _classCallCheck3.default)(this, MyOrders);
    return (0, _possibleConstructorReturn3.default)(this, (MyOrders.__proto__ || (0, _getPrototypeOf2.default)(MyOrders)).apply(this, arguments));
  }

  (0, _createClass3.default)(MyOrders, [{
    key: 'render',
    value: function render() {
      var titles = ['EXCHANGE', 'YOU GET', 'YOU HAVE', 'EXCHANGE RATE', 'SHARE', 'ACTIONS'];
      var _props = this.props,
          myOrders = _props.myOrders,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder;


      if (myOrders.length === undefined || myOrders.length <= 0) {
        return null;
      }

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'MyOrders23', defaultMessage: 'Your orders' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              { style: { marginTop: '50px' } },
              message
            );
          }
        ),
        _react2.default.createElement(_Table2.default, {
          className: _Table4.default.exchange,
          titles: titles,
          rows: myOrders,
          rowRender: function rowRender(row, index) {
            return _reactDeviceDetect.isMobile && _react2.default.createElement(_RowFeedsMobile2.default, {
              key: index,
              row: row,
              declineRequest: declineRequest,
              acceptRequest: acceptRequest,
              removeOrder: removeOrder
            }) || _react2.default.createElement(_RowFeeds2.default, {
              key: index,
              row: row,
              declineRequest: declineRequest,
              acceptRequest: acceptRequest,
              removeOrder: removeOrder
            });
          }
        })
      );
    }
  }]);
  return MyOrders;
}(_react.PureComponent);

exports.default = MyOrders;

/***/ }),

/***/ 1971:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _reactCopyToClipboard = __webpack_require__(369);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _RowFeeds = __webpack_require__(1975);

var _RowFeeds2 = _interopRequireDefault(_RowFeeds);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _shareAltSolid = __webpack_require__(1976);

var _shareAltSolid2 = _interopRequireDefault(_shareAltSolid);

var _Coins = __webpack_require__(282);

var _Coins2 = _interopRequireDefault(_Coins);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowFeeds = (_dec = (0, _reactCssModules2.default)(_RowFeeds2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(RowFeeds, _Component);

  function RowFeeds() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, RowFeeds);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RowFeeds.__proto__ || (0, _getPrototypeOf2.default)(RowFeeds)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isLinkCopied: false
    }, _this.handleCopyLink = function () {
      _this.setState({
        isLinkCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isLinkCopied: false
          });
        }, 500);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(RowFeeds, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps !== this.props) {
        this.setState();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var isLinkCopied = this.state.isLinkCopied;
      var _props = this.props,
          _props$row = _props.row,
          requests = _props$row.requests,
          buyAmount = _props$row.buyAmount,
          buyCurrency = _props$row.buyCurrency,
          sellAmount = _props$row.sellAmount,
          sellCurrency = _props$row.sellCurrency,
          exchangeRate = _props$row.exchangeRate,
          id = _props$row.id,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coins2.default, { names: [buyCurrency, sellCurrency] })
        ),
        _react2.default.createElement(
          'td',
          null,
          buyAmount.toFixed(5) + ' ' + buyCurrency
        ),
        _react2.default.createElement(
          'td',
          null,
          sellAmount.toFixed(5) + ' ' + sellCurrency
        ),
        _react2.default.createElement(
          'td',
          null,
          (exchangeRate || buyAmount / sellAmount).toFixed(5) + ' ' + buyCurrency + '/' + sellCurrency
        ),
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          {
            onCopy: this.handleCopyLink,
            text: '' + _appConfig2.default.base + buyCurrency.toLowerCase() + '-' + sellCurrency.toLowerCase() + '/' + id
          },
          _react2.default.createElement(
            'td',
            { style: { position: 'relative', cursor: 'pointer' } },
            isLinkCopied && _react2.default.createElement(
              'span',
              { style: { fontSize: '12px', position: 'absolute', top: '8px', left: 'calc(20%)' } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds64', defaultMessage: 'Copied' }),
              _react2.default.createElement('br', null)
            ),
            _react2.default.createElement('img', { src: _shareAltSolid2.default, styleName: 'img', alt: 'share' }),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'RowFeeds68', defaultMessage: 'Share' },
              function (message) {
                return _react2.default.createElement(
                  'span',
                  null,
                  message
                );
              }
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          Boolean(requests && requests.length) ? _react2.default.createElement(
            'div',
            { styleName: 'buttons' },
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'RowFeeds77', defaultMessage: 'Decline' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  { styleName: 'delete', onClick: function onClick() {
                      return declineRequest(id, requests[0].peer);
                    } },
                  message
                );
              }
            ),
            _react2.default.createElement(
              _reactRouterDom.Link,
              { to: _helpers.links.swap + '/' + sellCurrency.toLowerCase() + '-' + buyCurrency.toLowerCase() + '/' + id },
              _react2.default.createElement(
                'div',
                { styleName: 'accept', onClick: function onClick() {
                    return acceptRequest(id, requests[0].peer);
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds81', defaultMessage: 'Accept' })
              )
            )
          ) : _react2.default.createElement(
            'div',
            { styleName: 'delete', onClick: function onClick() {
                return removeOrder(id);
              } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds87', defaultMessage: 'Delete order' })
          )
        )
      );
    }
  }]);
  return RowFeeds;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class);
exports.default = RowFeeds;

/***/ }),

/***/ 1975:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"_3fhX3C","buy":"_2e83r_","accept":"_2ClHjy","sell":"_3kCurQ","delete":"_1RcmYq","currency":"_3St5DH","coin":"_1b2RPo","buttons":"_3L8CPG","arrow":"_1U9SQc","img":"p_tiXr","share":"_2dhcGr"};

/***/ }),

/***/ 1976:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/share-alt-solid_2c226f.svg";

/***/ }),

/***/ 1977:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"_1TWvrk"};

/***/ }),

/***/ 1978:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coin":"_1wYXYN","icon":"mK0HOH","letter":"_1Nd751"};

/***/ }),

/***/ 1979:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _reactCopyToClipboard = __webpack_require__(369);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _RowFeedsMobile = __webpack_require__(1980);

var _RowFeedsMobile2 = _interopRequireDefault(_RowFeedsMobile);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _shareAltSolid = __webpack_require__(1981);

var _shareAltSolid2 = _interopRequireDefault(_shareAltSolid);

var _Coins = __webpack_require__(282);

var _Coins2 = _interopRequireDefault(_Coins);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowFeedsMoble = (_dec = (0, _reactCssModules2.default)(_RowFeedsMobile2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(RowFeedsMoble, _Component);

  function RowFeedsMoble() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, RowFeedsMoble);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RowFeedsMoble.__proto__ || (0, _getPrototypeOf2.default)(RowFeedsMoble)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isLinkCopied: false
    }, _this.handleCopyLink = function () {
      _this.setState({
        isLinkCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isLinkCopied: false
          });
        }, 500);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(RowFeedsMoble, [{
    key: 'render',
    value: function render() {
      var isLinkCopied = this.state.isLinkCopied;
      var _props = this.props,
          _props$row = _props.row,
          requests = _props$row.requests,
          buyAmount = _props$row.buyAmount,
          buyCurrency = _props$row.buyCurrency,
          sellAmount = _props$row.sellAmount,
          sellCurrency = _props$row.sellCurrency,
          exchangeRate = _props$row.exchangeRate,
          id = _props$row.id,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'bigContainer' },
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-1' },
              _react2.default.createElement(
                'span',
                { styleName: 'firstType' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed49', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(
                'span',
                null,
                buyAmount.toFixed(5) + ' ' + buyCurrency
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-2' },
              _react2.default.createElement(
                'span',
                { styleName: 'secondType' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed56', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(
                'span',
                null,
                sellAmount.toFixed(5) + ' ' + sellCurrency
              )
            )
          )
        ),
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          {
            onCopy: this.handleCopyLink,
            text: '' + _appConfig2.default.base + buyCurrency.toLowerCase() + '-' + sellCurrency.toLowerCase() + '/' + id
          },
          _react2.default.createElement(
            'td',
            { style: { cursor: 'pointer' } },
            isLinkCopied && _react2.default.createElement(
              'span',
              { style: { fontSize: '12px', position: 'absolute', top: '8px', left: 'calc(20%)' } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed69', defaultMessage: 'Copied' }),
              _react2.default.createElement('br', null)
            ),
            _react2.default.createElement('img', { src: _shareAltSolid2.default, styleName: 'img', alt: 'share' })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          Boolean(requests && requests.length) ? _react2.default.createElement(
            'div',
            { styleName: 'buttons' },
            _react2.default.createElement(
              'div',
              { styleName: 'delete', onClick: function onClick() {
                  return declineRequest(id, requests[0].peer);
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed82', defaultMessage: 'Decline' })
            ),
            _react2.default.createElement(
              _reactRouterDom.Link,
              { to: _helpers.links.swap + '/' + sellCurrency.toLowerCase() + '-' + buyCurrency.toLowerCase() + '/' + id },
              _react2.default.createElement(
                'div',
                { styleName: 'accept', onClick: function onClick() {
                    return acceptRequest(id, requests[0].peer);
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed85', defaultMessage: 'Accept' })
              )
            )
          ) : _react2.default.createElement(
            'div',
            { styleName: 'delete', onClick: function onClick() {
                return removeOrder(id);
              } },
            ' ',
            _react2.default.createElement('i', { className: 'fas fa-times-circle' })
          )
        )
      );
    }
  }]);
  return RowFeedsMoble;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class);
exports.default = RowFeedsMoble;

/***/ }),

/***/ 198:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _swValuelink = __webpack_require__(101);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Input = __webpack_require__(1910);

var _Input2 = _interopRequireDefault(_Input);

var _TextArea = __webpack_require__(830);

var _TextArea2 = _interopRequireDefault(_TextArea);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Input = (_dec = (0, _reactCssModules2.default)(_Input2.default, { allowMultiple: true }), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Input, _Component);

  function Input() {
    (0, _classCallCheck3.default)(this, Input);
    return (0, _possibleConstructorReturn3.default)(this, (Input.__proto__ || (0, _getPrototypeOf2.default)(Input)).apply(this, arguments));
  }

  (0, _createClass3.default)(Input, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          inputContainerClassName = _props.inputContainerClassName,
          inputClassName = _props.inputClassName,
          error = _props.valueLink.error,
          valueLink = _props.valueLink,
          multiline = _props.multiline,
          focusOnInit = _props.focusOnInit,
          disabled = _props.disabled,
          readOnly = _props.readOnly,
          type = _props.type,
          rest = (0, _objectWithoutProperties3.default)(_props, ['className', 'inputContainerClassName', 'inputClassName', 'valueLink', 'valueLink', 'multiline', 'focusOnInit', 'disabled', 'readOnly', 'type']);


      var inputContainerStyleName = (0, _classnames2.default)('inputContainer', {
        'withError': error
      });

      return _react2.default.createElement(
        'div',
        { styleName: 'root', className: className },
        _react2.default.createElement(
          'div',
          { styleName: inputContainerStyleName, className: inputContainerClassName },
          _react2.default.createElement(multiline ? _TextArea2.default : _swValuelink.Input, (0, _assign2.default)({}, (0, _helpers.ignoreProps)(rest, 'styles'), {
            styleName: 'input',
            className: inputClassName,
            valueLink: valueLink,
            type: type,
            disabled: disabled || readOnly,
            autoFocus: !!focusOnInit,
            dir: 'auto',
            autoComplete: 'off'
          }))
        ),
        Boolean(error) && _react2.default.createElement(
          'div',
          { styleName: 'error' },
          error
        )
      );
    }
  }]);
  return Input;
}(_react.Component), _class2.propTypes = {
  className: _propTypes2.default.string,
  rootClassName: _propTypes2.default.string,
  inputClassName: _propTypes2.default.string,
  placeholder: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
  type: _propTypes2.default.string,
  valueLink: _propTypes2.default.object.isRequired,
  focusOnInit: _propTypes2.default.bool,
  multiline: _propTypes2.default.bool,
  disabled: _propTypes2.default.bool,
  readOnly: _propTypes2.default.bool,
  required: _propTypes2.default.bool,
  icon: _propTypes2.default.bool,
  intl: _propTypes2.default.object
}, _class2.defaultProps = {
  focusOnInit: false,
  multiline: false,
  disabled: false,
  readOnly: false,
  required: false,
  type: 'text'
}, _temp)) || _class);
exports.default = Input;

/***/ }),

/***/ 1980:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"geUw7O","buy":"_1yNhPt","accept":"_1pI75c","sell":"_144Irc","delete":"_2Cj6fx","img":"_2qUFhQ","share":"_3rEFS7","currency":"_1vVC6D","buttons":"_22LlNV","firstType":"_3YN9jU","secondType":"_1GCqgp","tdContainer-1":"_1xErRL","tdContainer-2":"_1kTOkc","startButton":"_2Uk6hG","bigContainer":"_1imLpr"};

/***/ }),

/***/ 1981:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/share-alt-solid_2c226f.svg";

/***/ }),

/***/ 1982:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDeviceDetect = __webpack_require__(199);

var _redaction = __webpack_require__(47);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouter = __webpack_require__(165);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Wallet = __webpack_require__(1983);

var _Wallet2 = _interopRequireDefault(_Wallet);

var _Row = __webpack_require__(1984);

var _Row2 = _interopRequireDefault(_Row);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _controls = __webpack_require__(57);

var _Table3 = __webpack_require__(227);

var _Table4 = _interopRequireDefault(_Table3);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _KeyActionsPanel = __webpack_require__(1988);

var _KeyActionsPanel2 = _interopRequireDefault(_KeyActionsPanel);

var _SaveKeysModal = __webpack_require__(1989);

var _SaveKeysModal2 = _interopRequireDefault(_SaveKeysModal);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Wallet = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      usdtData = _ref$user.usdtData,
      ltcData = _ref$user.ltcData,
      currencies = _ref.currencies.items;
  return {
    tokens: (0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }),
    items: [btcData, ethData, eosData, telosData, bchData, ltcData, usdtData /* nimData */].map(function (data) {
      return {
        address: data.address,
        balance: data.balance,
        currency: data.currency,
        fullName: data.fullName,
        unconfirmedBalance: data.unconfirmedBalance,
        isBalanceFetched: data.isBalanceFetched,
        privateKey: data.privateKey,
        publicKey: data.publicKey
      };
    }),
    currencies: currencies,
    hiddenCoinsList: hiddenCoinsList
  };
}), _dec2 = (0, _reactCssModules2.default)(_Wallet2.default, { allowMultiple: true }), (0, _reactRouter.withRouter)(_class = _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Wallet, _Component);

  function Wallet() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Wallet);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Wallet.__proto__ || (0, _getPrototypeOf2.default)(Wallet)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      view: 'off',
      zeroBalance: true
    }, _this.changeView = function (view) {
      _this.setState({
        view: view
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Wallet, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      true && localStorage.setItem(_helpers.constants.localStorage.testnetSkip, true);
      if (localStorage.getItem(_helpers.constants.localStorage.privateKeysSaved)) {
        this.changeView('checkKeys');
      } else {
        // actions.modals.open(constants.modals.PrivateKeys, {})
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _actions2.default.user.getBalances();
      _actions2.default.analytics.dataEvent('open-page-balances');
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var getComparableProps = function getComparableProps(props) {
        return {
          items: props.items,
          tokens: props.tokens,
          currencies: props.currencies,
          hiddenCoinsList: props.hiddenCoinsList
        };
      };
      return (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(this.props), this.state)) !== (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(nextProps), nextState));
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(_ref3) {
      var items = _ref3.items,
          tokens = _ref3.tokens;

      var data = [].concat(items, tokens);

      data.forEach(function (item) {
        if (item.balance > 0) {
          _actions2.default.analytics.balanceEvent(item.currency, item.balance);
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          view = _state.view,
          zeroBalance = _state.zeroBalance;
      var _props = this.props,
          items = _props.items,
          tokens = _props.tokens,
          currencies = _props.currencies,
          hiddenCoinsList = _props.hiddenCoinsList;

      var titles = ['Coin', 'Name', 'Balance', 'Your Address', _reactDeviceDetect.isMobile ? 'Send, receive, swap' : 'Actions'];

      var keysSaved = localStorage.getItem(_helpers.constants.localStorage.privateKeysSaved);
      var testNetSkip = localStorage.getItem(_helpers.constants.localStorage.testnetSkip);

      var showSaveKeysModal = !zeroBalance && !keysSaved && !testNetSkip; // non-zero balance and no keys saved

      return _react2.default.createElement(
        'section',
        { styleName: _reactDeviceDetect.isMobile ? 'sectionWalletMobile' : 'sectionWallet' },
        showSaveKeysModal && _react2.default.createElement(_SaveKeysModal2.default, null),
        _react2.default.createElement(
          _PageHeadline2.default,
          { styleName: 'pageLine' },
          _react2.default.createElement(
            _SubTitle2.default,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet104', defaultMessage: 'Your online cryptocurrency wallet' })
          ),
          'Deposit funds to addresses below'
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table-wallet',
          className: _Table4.default.wallet,
          titles: titles,
          rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (coin) {
            return !hiddenCoinsList.includes(coin.currency);
          }),
          rowRender: function rowRender(row, index, selectId, handleSelectId) {
            return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: row.currency }, row, { currencies: currencies, hiddenCoinsList: hiddenCoinsList, selectId: selectId, index: index, handleSelectId: handleSelectId }));
          }
        }),
        _react2.default.createElement(_KeyActionsPanel2.default, null)
      );
    }
  }]);
  return Wallet;
}(_react.Component), _class2.propTypes = {
  core: _propTypes2.default.object,
  user: _propTypes2.default.object,
  currencies: _propTypes2.default.array,
  hiddenCoinsList: _propTypes2.default.array,
  history: _propTypes2.default.object,
  items: _propTypes2.default.arrayOf(_propTypes2.default.object),
  tokens: _propTypes2.default.arrayOf(_propTypes2.default.object),
  location: _propTypes2.default.object,
  match: _propTypes2.default.object
}, _temp2)) || _class) || _class) || _class);
exports.default = Wallet;

/***/ }),

/***/ 1983:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coinsActionsBlock":"_1ChnDp","sectionWalletMobile":"_1gAj6A","sectionWallet":"_2X4LM9","pageLine":"_199abV"};

/***/ }),

/***/ 1984:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactDeviceDetect = __webpack_require__(199);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(1985);

var _Row2 = _interopRequireDefault(_Row);

var _reactRouterDom = __webpack_require__(62);

var _reactCopyToClipboard = __webpack_require__(369);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _Coin = __webpack_require__(370);

var _Coin2 = _interopRequireDefault(_Coin);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _BtnTooltip = __webpack_require__(1986);

var _BtnTooltip2 = _interopRequireDefault(_BtnTooltip);

var _LinkAcount = __webpack_require__(1987);

var _LinkAcount2 = _interopRequireDefault(_LinkAcount);

var _reactRouter = __webpack_require__(165);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _reactCssModules2.default)(_Row2.default, { allowMultiple: true }), (0, _reactRouter.withRouter)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Row);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isBalanceFetching: false,
      viewText: false,
      tradeAllowed: false,
      isAddressCopied: false,
      isTouch: false,
      isBalanceEmpty: true
    }, _this.handleReloadBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var isBalanceFetching, currency;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              isBalanceFetching = _this.state.isBalanceFetching;

              if (!isBalanceFetching) {
                _context.next = 3;
                break;
              }

              return _context.abrupt('return', null);

            case 3:

              _this.setState({
                isBalanceFetching: true
              });

              currency = _this.props.currency;
              _context.next = 7;
              return _actions2.default[currency.toLowerCase()].getBalance(currency.toLowerCase());

            case 7:

              _this.setState(function () {
                return {
                  isBalanceFetching: false
                };
              });

            case 8:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    })), _this.handleTouch = function (e) {
      _this.setState({
        isTouch: true
      });
    }, _this.handleSliceAddress = function () {
      var address = _this.props.address;

      if (window.innerWidth < 1080 || _reactDeviceDetect.isMobile) {
        return address.substr(0, 6) + '...' + address.substr(address.length - 2);
      } else {
        return address;
      }
    }, _this.handleTouchClear = function (e) {
      _this.setState({
        isTouch: false
      });
    }, _this.handleCopyAddress = function () {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    }, _this.handleEosRegister = function () {
      _actions2.default.modals.open(_helpers.constants.modals.EosRegister, {});
    }, _this.handleTelosRegister = function () {
      _actions2.default.modals.open(_helpers.constants.modals.TelosRegister, {});
    }, _this.handleEosBuyAccount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _actions2.default.modals.open(_helpers.constants.modals.EosBuyAccount);

            case 1:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, _this2);
    })), _this.handleWithdraw = function () {
      var _this$props = _this.props,
          currency = _this$props.currency,
          address = _this$props.address,
          contractAddress = _this$props.contractAddress,
          decimals = _this$props.decimals,
          balance = _this$props.balance,
          token = _this$props.token,
          unconfirmedBalance = _this$props.unconfirmedBalance;


      _actions2.default.analytics.dataEvent('balances-withdraw-' + currency.toLowerCase());
      _actions2.default.modals.open(_helpers.constants.modals.Withdraw, {
        currency: currency,
        address: address,
        contractAddress: contractAddress,
        decimals: decimals,
        token: token,
        balance: balance,
        unconfirmedBalance: unconfirmedBalance
      });
    }, _this.handleReceive = function () {
      var _this$props2 = _this.props,
          currency = _this$props2.currency,
          address = _this$props2.address;


      _actions2.default.modals.open(_helpers.constants.modals.ReceiveModal, {
        currency: currency,
        address: address
      });
    }, _this.handleShowOptions = function () {
      _this.setState({
        showMobileButtons: true
      });
    }, _this.handleCheckBalance = function () {
      var balance = _this.props.balance;

      if (balance > 0) {
        _this.setState({
          isBalanceEmpty: false
        });
      }
    }, _this.handleGoTrade = function (currency) {
      _this.props.history.push('/' + currency.toLowerCase());
    }, _this.handleMarkCoinAsHidden = function (coin) {
      _actions2.default.core.markCoinAsHidden(coin);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Row, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props = this.props,
          currency = _props.currency,
          currencies = _props.currencies;


      this.setState({
        tradeAllowed: !!currencies.find(function (c) {
          return c.value === currency.toLowerCase();
        })
      });

      this.handleCheckBalance();
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(newProps) {
      this.handleCheckBalance();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener("resize", this.handleSliceAddress);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var hiddenCoinsList = this.props.hiddenCoinsList;


      window.addEventListener("resize", this.handleSliceAddress);

      (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
        if (!hiddenCoinsList.includes(name.toUpperCase())) {
          _actions2.default.core.markCoinAsVisible(name.toUpperCase());
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _state = this.state,
          isBalanceFetching = _state.isBalanceFetching,
          tradeAllowed = _state.tradeAllowed,
          isAddressCopied = _state.isAddressCopied,
          isTouch = _state.isTouch,
          isBalanceEmpty = _state.isBalanceEmpty;
      var _props2 = this.props,
          currency = _props2.currency,
          balance = _props2.balance,
          isBalanceFetched = _props2.isBalanceFetched,
          address = _props2.address,
          contractAddress = _props2.contractAddress,
          fullName = _props2.fullName,
          unconfirmedBalance = _props2.unconfirmedBalance;

      var eosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.eosAccountActivated) === "true";
      var telosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.telosAccountActivated) === "true";

      return _react2.default.createElement(
        'tr',
        {
          styleName: this.props.index === this.props.selectId || !_reactDeviceDetect.isMobile ? 'showButtons' : 'hidden',
          onClick: function onClick() {
            _this3.props.handleSelectId(_this3.props.index);
          },
          onTouchEnd: this.handleTouchClear,
          onTouchMove: this.handleTouch,
          style: isTouch && this.props.index !== this.props.selectId ? { background: '#f5f5f5' } : { background: '#fff' }
        },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: '/' + fullName + '-wallet', title: 'Online ' + fullName + ' wallet' },
            _react2.default.createElement(_Coin2.default, { name: currency })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: '/' + fullName + '-wallet', title: 'Online ' + fullName + ' wallet' },
            fullName
          )
        ),
        _react2.default.createElement(
          'td',
          { styleName: 'table_balance-cell' },
          !isBalanceFetched || isBalanceFetching ? _react2.default.createElement(_InlineLoader2.default, null) : _react2.default.createElement(
            'div',
            { styleName: 'no-select-inline', onClick: this.handleReloadBalance },
            _react2.default.createElement('i', { className: 'fas fa-sync-alt', styleName: 'icon' }),
            _react2.default.createElement(
              'span',
              null,
              String(balance).length > 4 ? balance.toFixed(4) : balance,
              ' ',
              currency
            ),
            currency === 'BTC' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet181', defaultMessage: 'Unconfirmed' }),
                unconfirmedBalance,
                ' ',
                ' '
              )
            ),
            currency === 'LTC' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet189', defaultMessage: 'Unconfirmed' }),
                unconfirmedBalance
              )
            ),
            currency === 'USDT' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet197', defaultMessage: 'Unconfirmed' }),
                unconfirmedBalance
              )
            )
          ),
          _react2.default.createElement(
            'span',
            { styleName: 'mobileName' },
            fullName
          )
        ),
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            {
              text: address,
              onCopy: this.handleCopyAddress
            },
            _react2.default.createElement(
              'td',
              { styleName: 'yourAddress' },
              !contractAddress ? _react2.default.createElement(
                'div',
                { styleName: 'notContractAddress' },
                address !== '' && _react2.default.createElement('i', { className: 'far fa-copy', styleName: 'icon', 'data-tip': true, 'data-for': 'Copy', style: { width: '14px' } }),
                _react2.default.createElement(
                  _LinkAcount2.default,
                  { type: currency, address: address },
                  this.handleSliceAddress()
                ),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'Copy', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row235', defaultMessage: 'Copy' })
                  )
                ),
                currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement('br', null),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'notActiveLink' },
                    'not activated'
                  )
                ),
                currency === 'TLOS' && !telosAccountActivated && _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement('br', null),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'notActiveLink' },
                    'not activated'
                  )
                )
              ) : _react2.default.createElement(
                _react.Fragment,
                null,
                _react2.default.createElement('i', { className: 'far fa-copy', styleName: 'icon', 'data-tip': true, 'data-for': 'Copy', style: { width: '14px' } }),
                _react2.default.createElement(
                  _LinkAcount2.default,
                  { type: currency, contractAddress: contractAddress, address: address },
                  this.handleSliceAddress()
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'actButton' },
                currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
                  'button',
                  { styleName: 'button buttonActivate', onClick: this.handleEosBuyAccount, 'data-tip': true, 'data-for': 'Activate' },
                  'Activate'
                )
              ),
              _react2.default.createElement(
                _reactTooltip2.default,
                { id: 'Activate', type: 'light', effect: 'solid' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row256', defaultMessage: 'Buy this account' })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'useButton' },
                currency === 'EOS' && _react2.default.createElement(
                  'button',
                  { styleName: 'button', onClick: this.handleEosRegister, 'data-tip': true, 'data-for': 'Use' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row263', defaultMessage: 'Use another' })
                )
              ),
              _react2.default.createElement(
                _reactTooltip2.default,
                { id: 'Use', type: 'light', effect: 'solid' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row268', defaultMessage: 'Login with your existing eos account' })
                )
              ),
              isAddressCopied && _react2.default.createElement(
                'p',
                { styleName: 'copied' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row293', defaultMessage: 'Address copied to clipboard' })
              )
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: currency === 'EOS' && !eosAccountActivated ? 'notActivated' : '' },
            _react2.default.createElement(
              'button',
              { onClick: this.handleReceive, styleName: 'button', 'data-tip': true, 'data-for': 'deposit' + currency },
              _react2.default.createElement('i', { className: 'fas fa-qrcode' }),
              _react2.default.createElement(
                'span',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row313', defaultMessage: 'Deposit' })
              )
            ),
            _react2.default.createElement(
              _reactTooltip2.default,
              { id: 'deposit' + currency, type: 'light', effect: 'solid' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawButton29', defaultMessage: 'Deposit funds to this address of currency wallet' })
            ),
            _react2.default.createElement(
              _BtnTooltip2.default,
              { onClick: this.handleWithdraw, disable: isBalanceEmpty, id: currency, text: 'Send' },
              _react2.default.createElement('i', { className: 'fas fa-arrow-alt-circle-right' })
            ),
            tradeAllowed && _react2.default.createElement(
              _BtnTooltip2.default,
              { onClick: function onClick() {
                  return _this3.handleGoTrade(currency);
                }, disable: isBalanceEmpty, id: currency, text: 'Exchange' },
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' })
            ),
            _reactDeviceDetect.isMobile && currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
              'button',
              { styleName: 'button buttonActivate', onClick: this.handleEosBuyAccount, 'data-tip': true, 'data-for': 'Activate' },
              'Activate'
            )
          )
        )
      );
    }
  }]);
  return Row;
}(_react.Component)) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 1985:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"marginRight":"qq8rKP","copied":"_3b4eD1","no-select-inline":"_2viOZE","icon":"_2718ee","notActiveLink":"_1edRkE","unconfirmedBalance":"_1-2bpy","notContractAddress":"fg_yeI","button":"_3gDOry","disbutton":"b4ae_o","buttonActivate":"yQmDge","table_balance-cell":"eTvIP7","mobileName":"_3BwJVJ","hidden":"_369klS","visible":"_2CrdoN","actButton":"_1omgLU","useButton":"_33hoo_","walletButtons":"_1n6Kvo","notActivated":"_1UJt4j","yourAddress":"_3VxYQ7","showButtons":"_3pPNJw"};

/***/ }),

/***/ 1986:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _WithdrawButton = __webpack_require__(819);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtnTooltip = function BtnTooltip(props) {
  var onClick = props.onClick,
      children = props.children,
      disable = props.disable,
      id = props.id,
      text = props.text,
      rest = (0, _objectWithoutProperties3.default)(props, ['onClick', 'children', 'disable', 'id', 'text']);


  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      _WithdrawButton2.default,
      (0, _extends3.default)({ disable: disable, onClick: onClick, 'data-tip': true, 'data-for': id }, rest),
      children,
      _react2.default.createElement(
        'span',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row327', defaultMessage: text })
      )
    ),
    disable && _react2.default.createElement(
      _reactTooltip2.default,
      { id: id, type: 'light', effect: 'solid' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawButton32', defaultMessage: 'You can not send and exchange this asset, because you have a zero balance.' })
    )
  );
};
exports.default = BtnTooltip;

/***/ }),

/***/ 1987:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var erc20LinkAcount = function erc20LinkAcount(type, children, address, contractAddress) {
  return (0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
    return type.toLowerCase() === key && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/token/' + contractAddress + '?a=' + address },
      children
    );
  });
};

var LinkAccount = function LinkAccount(_ref) {
  var type = _ref.type,
      children = _ref.children,
      address = _ref.address,
      contractAddress = _ref.contractAddress;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    type.toLowerCase() === 'eth' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/address/' + address },
      children
    ),
    type.toLowerCase() === 'btc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bitpay + '/address/' + address },
      children
    ),
    type.toLowerCase() === 'usdt' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.omniexplorer + '/address/' + address },
      children
    ),
    erc20LinkAcount(type, children, address, contractAddress),
    type.toLowerCase() === 'eos' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.eos + '/account/' + address },
      children
    ),
    type.toLowerCase() === 'tlos' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.tlos + '/account/' + address },
      children
    ),
    type.toLowerCase() === 'bch' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bch + '/address/' + address },
      children
    ),
    type.toLowerCase() === 'ltc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.ltc + '/address/' + address },
      children
    )
  );
};

exports.default = LinkAccount;

/***/ }),

/***/ 1988:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var KeyActionsPanel = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList;
  return { hiddenCoinsList: hiddenCoinsList };
}), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(KeyActionsPanel, _Component);

  function KeyActionsPanel() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, KeyActionsPanel);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = KeyActionsPanel.__proto__ || (0, _getPrototypeOf2.default)(KeyActionsPanel)).call.apply(_ref2, [this].concat(args))), _this), _this.handleShowMore = function () {
      _actions2.default.modals.open(_helpers.constants.modals.ShowMoreCoins, {});
    }, _this.handleDownload = function () {
      _actions2.default.user.downloadPrivateKeys();
    }, _this.handleImportKeys = function () {
      _actions2.default.modals.open(_helpers.constants.modals.ImportKeys, {});
    }, _this.handleClear = function () {
      _actions2.default.user.getDemoMoney();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(KeyActionsPanel, [{
    key: 'render',
    value: function render() {
      var hiddenCoinsList = this.props.hiddenCoinsList;


      return _react2.default.createElement(
        'div',
        null,
        false && _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleClear },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel43', defaultMessage: 'Exit' })
        ),
        _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleDownload },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel46', defaultMessage: 'Download keys' })
        ),
        _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleImportKeys },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel49', defaultMessage: 'Import keys' })
        ),
        hiddenCoinsList.length !== 0 && _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleShowMore },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel53', defaultMessage: 'Show more coins' }),
          '(',
          hiddenCoinsList.length,
          ')'
        )
      );
    }
  }]);
  return KeyActionsPanel;
}(_react.Component), _class2.propTypes = {
  hiddenCoinsList: _propTypes2.default.array.isRequired
}, _class2.defaultProps = {
  hiddenCoinsList: []
}, _temp2)) || _class);
exports.default = KeyActionsPanel;

/***/ }),

/***/ 1989:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _domUtils = __webpack_require__(1990);

var _SaveKeys = __webpack_require__(1991);

var _SaveKeys2 = _interopRequireDefault(_SaveKeys);

var _PrivateKeysModal = __webpack_require__(838);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _Overlay = __webpack_require__(517);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(281);

var _Center2 = _interopRequireDefault(_Center);

var _Confirm = __webpack_require__(2006);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _helpers = __webpack_require__(20);

var _SaveKeysModal = __webpack_require__(2008);

var _SaveKeysModal2 = _interopRequireDefault(_SaveKeysModal);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var views = {
  saveKeys: 'saveKeys',
  confirm: 'confirm',
  approve: 'approve'
};

var SaveKeysModal = (_temp2 = _class = function (_React$Component) {
  (0, _inherits3.default)(SaveKeysModal, _React$Component);

  function SaveKeysModal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SaveKeysModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SaveKeysModal.__proto__ || (0, _getPrototypeOf2.default)(SaveKeysModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: _this.props.view
    }, _this.componentWillMount = function () {
      (0, _domUtils.fixBodyOverflow)(true);
    }, _this.componentWillUnmount = function () {
      (0, _domUtils.fixBodyOverflow)(false);
    }, _this.changeView = function (view) {
      return _this.setState({ view: view });
    }, _this.handleConfirm = function () {
      _this.changeView(views.approve);
    }, _this.handleDownload = function () {
      _actions2.default.user.downloadPrivateKeys();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SaveKeysModal, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var view = this.state.view;


      return _react2.default.createElement(
        _Overlay2.default,
        null,
        _react2.default.createElement(
          _Center2.default,
          { keepFontSize: true },
          _react2.default.createElement(
            _react2.default.Fragment,
            null,
            false && _react2.default.createElement(
              'a',
              {
                href: '#',
                onClick: function onClick() {
                  localStorage.setItem(_helpers.constants.localStorage.testnetSkipPKCheck, true);
                  _this2.forceUpdate();
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeysModal', defaultMessage: 'Testnet: Don`t ask again' })
            ),
            view === views.saveKeys && _react2.default.createElement(_SaveKeys2.default, {
              isDownload: this.handleDownload,
              isChange: function isChange() {
                return _this2.changeView(views.confirm);
              }
            }),
            view === views.confirm && (0, _domUtils.createPortal)(_react2.default.createElement(_Confirm2.default, {
              rootClassName: _SaveKeysModal2.default.areYouSure,
              title: 'Are you sure ?',
              isConfirm: function isConfirm() {
                return _this2.handleConfirm();
              },
              isReject: function isReject() {
                return _this2.changeView(views.saveKeys);
              },
              animation: view === views.confirm
            })),
            view === views.approve && (0, _domUtils.createPortal)(_react2.default.createElement(_PrivateKeysModal2.default, null))
          )
        )
      );
    }
  }]);
  return SaveKeysModal;
}(_react2.default.Component), _class.propTypes = {
  view: _propTypes2.default.string
}, _class.defaultProps = {
  view: views.saveKeys
}, _temp2);
exports.default = SaveKeysModal;

/***/ }),

/***/ 1990:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createPortal = exports.fixBodyOverflow = exports.portalSelector = exports.bodySelector = undefined;

var _reactDom = __webpack_require__(327);

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bodySelector = exports.bodySelector = document.querySelector('body');
var portalSelector = exports.portalSelector = document.getElementById('portal');

var fixBodyOverflow = exports.fixBodyOverflow = function fixBodyOverflow(fix) {
  bodySelector.style.overflow = !!fix ? 'hidden' : 'auto';
};

var createPortal = exports.createPortal = function createPortal(component) {
  var customSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  return _reactDom2.default.createPortal(component, customSelector || portalSelector);
};

/***/ }),

/***/ 1991:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SaveKeys = __webpack_require__(1992);

var _SaveKeys2 = _interopRequireDefault(_SaveKeys);

var _Field = __webpack_require__(1993);

var _Field2 = _interopRequireDefault(_Field);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SaveKeys = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData;
  return {
    btcData: btcData, ethData: ethData, eosData: eosData, telosData: telosData
  };
}), _dec2 = (0, _reactCssModules2.default)(_SaveKeys2.default), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(SaveKeys, _Component);

  function SaveKeys() {
    (0, _classCallCheck3.default)(this, SaveKeys);
    return (0, _possibleConstructorReturn3.default)(this, (SaveKeys.__proto__ || (0, _getPrototypeOf2.default)(SaveKeys)).apply(this, arguments));
  }

  (0, _createClass3.default)(SaveKeys, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          ethData = _props.ethData,
          btcData = _props.btcData,
          eosData = _props.eosData,
          telosData = _props.telosData,
          isChange = _props.isChange,
          isDownload = _props.isDownload,
          otherProps = (0, _objectWithoutProperties3.default)(_props, ['ethData', 'btcData', 'eosData', 'telosData', 'isChange', 'isDownload']);


      return _react2.default.createElement(
        'div',
        otherProps,
        _react2.default.createElement(
          'div',
          { styleName: 'title' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeys23', defaultMessage: 'These are your private keys. Download the keys by  clicking on ' }),
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeys24', defaultMessage: 'the button or take a screenshot of this page, then confirm it and click here.' }),
          _react2.default.createElement(
            'span',
            { styleName: 'linked', onClick: isChange },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeys26', defaultMessage: 'I saved the keys in a safe place' }),
            _react2.default.createElement('br', null)
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'row' },
          _react2.default.createElement(
            _Button2.default,
            { brand: true, onClick: isDownload, 'data-tip': true, 'data-for': 'Download' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKe33', defaultMessage: 'Download' })
          ),
          _react2.default.createElement(
            _reactTooltip2.default,
            { id: 'Download', type: 'light', effect: 'solid' },
            _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKe37', defaultMessage: 'Download text document with keys and accounts' })
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'cell' },
            _react2.default.createElement(_Field2.default, {
              label: ethData.currency,
              privateKey: ethData.privateKey.toString()
            }),
            _react2.default.createElement(_Field2.default, {
              label: btcData.currency,
              privateKey: btcData.privateKey.toString()
            }),
            typeof eosData.masterPrivateKey === 'string' && _react2.default.createElement(_Field2.default, {
              label: eosData.currency,
              privateKey: eosData.masterPrivateKey.toString()
            }),
            typeof telosData.activePrivateKey === 'string' && _react2.default.createElement(_Field2.default, {
              label: telosData.currency,
              privateKey: telosData.activePrivateKey.toString()
            })
          )
        )
      );
    }
  }]);
  return SaveKeys;
}(_react.Component)) || _class) || _class);
exports.default = SaveKeys;

/***/ }),

/***/ 1992:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_34whwW","row":"_1iYant","cell":"_3ZIa3Z","linked":"_1wQQoQ"};

/***/ }),

/***/ 1993:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Field = __webpack_require__(1994);

var _Field2 = _interopRequireDefault(_Field);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Field = function Field(_ref) {
  var privateKey = _ref.privateKey,
      label = _ref.label;
  return _react2.default.createElement(
    'div',
    { styleName: 'row' },
    _react2.default.createElement(
      'strong',
      null,
      label,
      ':  '
    ),
    ' ',
    privateKey
  );
};

exports.default = (0, _reactCssModules2.default)(Field, _Field2.default);

/***/ }),

/***/ 1994:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_37f8Rw"};

/***/ }),

/***/ 1995:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_3ixJuZ","content":"_3o3Tl_","title":"_1HvQwA","subTitle":"_2vKFTm","text":"z6HHBb","buttonContainer":"l3j2mn","buttonSubContainer":"_2lHIgY","button":"_19cTFn"};

/***/ }),

/***/ 1996:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Field = __webpack_require__(1997);

var _Field2 = _interopRequireDefault(_Field);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Field2 = (_dec = (0, _reactCssModules2.default)(_Field2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Field2, _React$Component);

  function Field2() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Field2);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Field2.__proto__ || (0, _getPrototypeOf2.default)(Field2)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      value: '',
      error: false,
      success: false
    }, _this.handleCheck = function () {
      var _this$state = _this.state,
          value = _this$state.value,
          error = _this$state.error,
          success = _this$state.success;
      var _this$props = _this.props,
          valueLink = _this$props.valueLink,
          privateKey = _this$props.privateKey;


      if (success) {
        return;
      }

      if (value !== privateKey) {
        _this.setState({
          value: '',
          error: true,
          success: false
        });
      } else {
        valueLink.set(true);
        _this.setState({
          success: true,
          error: false
        });
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Field2, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          error = _state.error,
          success = _state.success;
      var label = this.props.label;

      var linkedValue = _swValuelink2.default.state(this, 'value');

      return _react2.default.createElement(
        'div',
        { styleName: 'container' },
        _react2.default.createElement(
          'div',
          { styleName: 'section' },
          _react2.default.createElement(
            'div',
            { styleName: 'label' },
            label.toUpperCase()
          ),
          _react2.default.createElement(_Input2.default, {
            styleName: (0, _classnames2.default)('input', { 'errorInput': error }),
            placeholder: 'Write private key here...',
            valueLink: linkedValue
          }),
          _react2.default.createElement(
            _Button2.default,
            {
              styleName: 'button',
              white: !success,
              green: success,
              onClick: this.handleCheck
            },
            success ? 'OK' : 'Check'
          )
        ),
        error && _react2.default.createElement(
          _react2.default.Fragment,
          null,
          _react2.default.createElement('i', { className: 'fas fa-times', styleName: 'errorIcon' }),
          _react2.default.createElement(
            'div',
            { styleName: 'error' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Feld82', defaultMessage: 'INVALID PRIVATE KEY! You should pass correct value! Try again!' })
          )
        )
      );
    }
  }]);
  return Field2;
}(_react2.default.Component), _class2.propTypes = {
  label: _propTypes2.default.string.isRequired,
  privateKey: _propTypes2.default.string.isRequired,
  valueLink: _propTypes2.default.object.isRequired
}, _temp2)) || _class);
exports.default = Field2;

/***/ }),

/***/ 1997:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_2VJQBX","section":"_3kogcs","label":"_2soNit","input":"BtOAgk","button":"guRICj","error":"vB1kUx","errorInput":"_1uob_x","errorIcon":"_1gZeqG"};

/***/ }),

/***/ 1998:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_3d-lMl","header":"utYl-8","headerContent":"_2FzjWy","title":"_1H7w4U","uppercase":"_1XykmZ","closeButton":"_3UgYwG","contentContainer":"_2OSr4P","content":"_2SEeRQ"};

/***/ }),

/***/ 1999:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"widthContainer":"_3BXipS","widthContainerIn":"_3Igl7j","relative":"_3gxpYb","fullHeight":"_1GF4SW","centeringContent":"_3RUiHP","main":"_3aO2EZ"};

/***/ }),

/***/ 20:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getScrollBarWidth = exports.getPageOffset = exports.ignoreProps = exports.migrate = exports.api = exports.localStorage = exports.constants = exports.request = exports.links = exports.utils = exports.web3 = exports.ltc = exports.btc = exports.tips = exports.bcash = exports.eos = undefined;

var _eos = __webpack_require__(333);

var _eos2 = _interopRequireDefault(_eos);

var _btc = __webpack_require__(1404);

var _btc2 = _interopRequireDefault(_btc);

var _bcash = __webpack_require__(1430);

var _bcash2 = _interopRequireDefault(_bcash);

var _ltc = __webpack_require__(1531);

var _ltc2 = _interopRequireDefault(_ltc);

var _web = __webpack_require__(349);

var _web2 = _interopRequireDefault(_web);

var _links = __webpack_require__(352);

var _links2 = _interopRequireDefault(_links);

var _request = __webpack_require__(1618);

var _request2 = _interopRequireDefault(_request);

var _constants = __webpack_require__(353);

var _constants2 = _interopRequireDefault(_constants);

var _localStorage = __webpack_require__(1631);

var _localStorage2 = _interopRequireDefault(_localStorage);

var _api = __webpack_require__(1633);

var _api2 = _interopRequireDefault(_api);

var _tips = __webpack_require__(1634);

var _tips2 = _interopRequireDefault(_tips);

var _utils = __webpack_require__(1635);

var utils = _interopRequireWildcard(_utils);

var _ignoreProps = __webpack_require__(1636);

var _ignoreProps2 = _interopRequireDefault(_ignoreProps);

var _getPageOffset = __webpack_require__(1637);

var _getPageOffset2 = _interopRequireDefault(_getPageOffset);

var _getScrollBarWidth = __webpack_require__(1638);

var _getScrollBarWidth2 = _interopRequireDefault(_getScrollBarWidth);

var _migrations = __webpack_require__(1639);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Methods
exports.eos = _eos2.default;
exports.bcash = _bcash2.default;
exports.tips = _tips2.default;
exports.btc = _btc2.default;
exports.ltc = _ltc2.default;
exports.web3 = _web2.default;
exports.utils = utils;
exports.links = _links2.default;
exports.request = _request2.default;
exports.constants = _constants2.default;
exports.localStorage = _localStorage2.default;
exports.api = _api2.default;
exports.migrate = _migrations.migrate;
exports.ignoreProps = _ignoreProps2.default;
exports.getPageOffset = _getPageOffset2.default;
exports.getScrollBarWidth = _getScrollBarWidth2.default;

// Getters

/***/ }),

/***/ 2000:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CloseIcon = __webpack_require__(2001);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CloseIcon = function CloseIcon(_ref) {
  var whiteColor = _ref.whiteColor,
      brandColor = _ref.brandColor,
      onClick = _ref.onClick,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['whiteColor', 'brandColor', 'onClick']);

  var styleName = (0, _classnames2.default)('button', {
    'whiteColor': whiteColor,
    'brandColor': brandColor
  });

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: styleName }, rest, { role: 'closeButton', onClick: onClick }),
    _react2.default.createElement('div', { styleName: 'icon', role: 'closeIcon' })
  );
};

CloseIcon.propTypes = {
  whiteColor: _propTypes2.default.bool,
  brandColor: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(CloseIcon, _CloseIcon2.default, { allowMultiple: true });

/***/ }),

/***/ 2001:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3KAFwf","whiteColor":"_1qVzDl","icon":"_2g6BBl","brandColor":"_1ZJhlM"};

/***/ }),

/***/ 2002:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"overlay":"a_1CO5"};

/***/ }),

/***/ 2003:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"logo":"kQLHsU","mobile":"_1fQO7J"};

/***/ }),

/***/ 2004:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/logo_3436dc.svg";

/***/ }),

/***/ 2005:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/logo-colored_eb1f60.svg";

/***/ }),

/***/ 2006:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Confirm = __webpack_require__(2007);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Center = __webpack_require__(281);

var _Center2 = _interopRequireDefault(_Center);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Confirm = function Confirm(_ref) {
  var rootClassName = _ref.rootClassName,
      isConfirm = _ref.isConfirm,
      isReject = _ref.isReject,
      title = _ref.title,
      animation = _ref.animation;
  return _react2.default.createElement(
    _Center2.default,
    null,
    _react2.default.createElement(
      'div',
      { styleName: animation ? 'confirm animation' : 'confirm', className: rootClassName },
      _react2.default.createElement(
        _SubTitle2.default,
        null,
        title
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'row' },
        _react2.default.createElement(
          _Button2.default,
          { brand: true, onClick: isConfirm },
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Confirm20', defaultMessage: 'Yes' })
          )
        ),
        _react2.default.createElement(
          _Button2.default,
          { brand: true, onClick: isReject },
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConConfirm25firm20', defaultMessage: 'No' })
          )
        )
      )
    )
  );
};

Confirm.propTypes = {
  rootClassName: _propTypes2.default.string,
  isConfirm: _propTypes2.default.func.isRequired,
  isReject: _propTypes2.default.func.isRequired,
  title: _propTypes2.default.string.isRequired,
  animation: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(Confirm, _Confirm2.default, { allowMultiple: true });

/***/ }),

/***/ 2007:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"confirm":"_3hz-0j","animation":"_2QfucO","open":"_1BY5jO","row":"_3sMVTN"};

/***/ }),

/***/ 2008:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"areYouSure":"uFTtY4"};

/***/ }),

/***/ 2009:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Listing = __webpack_require__(2010);

var _Listing2 = _interopRequireDefault(_Listing);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _listingScreen = __webpack_require__(2011);

var _listingScreen2 = _interopRequireDefault(_listingScreen);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var text = [{ id: 1, context: '1. We can list your token on swap.online ;' }, { id: 2, context: '2. To list your tokens, please send us the link to your peoject, erc20 address, icon, name and ticker (short name) to team@swap.online;' }, { id: 3, context: '3. We as well will announce listing of your tokens on our social media, mutial PR will benefit both sides.' }, { id: 4, context: 'Crypto Pink Sheets: ALL Coins Welcome To SWAP.Online!' }, { id: 5, context: 'OTC-approach-crypto market to be opened in Aug, 2018.' }, { id: 6, context: 'There was one company in the U.S. in the year of 1913, the National Quotation Bureau.\n    They brought to life very simple idea - to provide every entity with the ability to be quoted freely, without\n    complicated safety and control proceedings. The list of the bond orders was primarily published on the yellow\n    paper and the stock orders were published on the pink paper. The Pink Sheets, as the lists were immediately\n    called by the traders. rapidly became very popular among the market players. Every firm opened in the U.S.\n    or abroad was able to publish its securities quotations in the list of Pink Sheets. With the increasing\n    requirements of NYSE and NASDAQ and growing demands of the SEC to the information regarding the company\n    applying the market, the interest to the Pink Sheets arose very fast. In September, 1990, the NQB introduced\n    the real-time Electronic Quotation Service, so the over-the-counter trading entered the Internet. By the year\n    2010 the operators of the Pink Sheets trading were acquisited by the OTC Market Group, Inc. In 2014, two of five\n    U.S. stock trades were over-the-counter.' }, { id: 7, context: 'Wal-Mart was the Pink Sheet company in 1972 and earned there USD 1B.' }, { id: 8, context: 'Navistar International, the 12-billion-dollar-corporation, came to the\n    Pink Sheets Market in 2006 leaving the NYSE due to some issues with the auditor board..' }, { id: 9, context: _react2.default.createElement(
    'p',
    null,
    _react2.default.createElement(_reactIntl.FormattedMessage, {
      id: 'Listing6',
      defaultMessage: 'In SWAP. Online we have noticed that Pink Sheets principles are very close to the initial meaning of cryptocurrencies. Both of them are based on the faith in transparency, decentralization, bilateral responsibility of buyer and seller. As we decided to make the exchange of crypto really ' }),
    _react2.default.createElement(
      _Href2.default,
      { tab: 'https://wiki.swap.online/decentralised_exchanges_2018trends_eng/' },
      _react2.default.createElement(
        'a',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Listing4', defaultMessage: 'safe, rapid and decentralized, we couldn\u2019t go about this another way.' })
      )
    )
  )
}, { id: 10, context: 'SWAP.Online will be cryptocurrency Pink Sheets market.' }, { id: 11, context: _react2.default.createElement('img', { src: _listingScreen2.default, styleName: 'listingImg', alt: 'Orders book on swap.online' }) }, { id: 12, context: 'It\u2019s well known that even in traditional stock market, one willing to be quoted must meet the requirements of SEC,\n    or as far as the OTC Market Group Inc. markets (OTCQX and OTCQB) are concerned, must show the big income and seek the\n    support of the influential consulting agencies. Moreover, the information about the company audit must be provided annually\n    to the SEC or SEC-approved regulators.' }, { id: 13, context: 'Some of the cryptocurrency \u2018fat cats\u2019 allow themselves to do the same. For example, Localbitcoins CEO said they would\n    newer list a token of the project with less than USD1B capitalisation. Cryptobridge and some related centralized\n    exchanges ask for the USD 23 thousand (in BTS equivalent) for the token owner to be listed.' }, { id: 14, context: 'That is not about us.' }, { id: 15, context: 'As our transactions is peer-to-peer, based on the Atomic Swaps technology, we can add to the balances every token corresponding\n    some our criterias. Obviously, clearly fraudulent projects are to be rejected from the very beginning. But all other\n    start-ups on the different stages of development are welcome.' }, { id: 16, context: 'In contradiction to the widespread Ethereum-pegged exchanges, the main currency to be changed on tokens in our project is\n    Bitcoin. It can be treated as our killer-feature: for the crypto-newbies and vast majority of small customers Bitcoin\n    is much clearer and easy to buy via Localbitcoins etc.' }, { id: 17, context: 'We offer two-level way of access to the balances. On the first stage, we analyze the level of project technical development,\n    collect the basic information (name, ticker, logo) and add the token to trading balances.' }, { id: 18, context: 'Then, to start trading with Bitcoin, the project should publish the information about the collaboration with SWAP.Online\n    on every social platform and on the web-site forum. With this information published, our developers will release the final\n    version of the exchange to client\u2019s token. This option is available for the first ten projects only.' }, { id: 19, context: 'The conditions of delisting are discussed, but at the moment, we plan to expel twenty per cent worst tokens every month.' }, { id: 20, context: 'Thus, you token can start to be quoted in free and decentralized manner as quickly as possible for your unlimited profit.' }, { id: 21, context: 'Stay with us.' }, { id: 22, context: 'Grow with us.' }, { id: 23, context: 'Earn with us.' }];

var Listing = function Listing() {
  return _react2.default.createElement(
    'div',
    { styleName: 'container' },
    _react2.default.createElement(
      _PageHeadline2.default,
      null,
      _react2.default.createElement(
        _SubTitle2.default,
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Listing1', defaultMessage: 'How to list your asset on swap.online' })
      )
    ),
    text.map(function (item) {
      return item.id > 20 ? _react2.default.createElement(
        'p',
        { key: item.id },
        _react2.default.createElement(
          'strong',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: item.id, defaultMessage: item.context })
        )
      ) : _react2.default.createElement(
        'p',
        { key: item.id, style: { textIndent: 20 } },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: item.id, defaultMessage: item.context })
      );
    })
  );
};

exports.default = (0, _reactCssModules2.default)(Listing, _Listing2.default);

/***/ }),

/***/ 2010:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"listingImg":"_11f0U6","listingForm":"_2o0mJW","listingBtn":"_3y6L25","container":"_1QAUub"};

/***/ }),

/***/ 2011:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/listing-screen_fc16f6.png";

/***/ }),

/***/ 2012:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _Row = __webpack_require__(840);

var _Row2 = _interopRequireDefault(_Row);

var _SwapsHistory = __webpack_require__(842);

var _SwapsHistory2 = _interopRequireDefault(_SwapsHistory);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _Table = __webpack_require__(227);

var _Table2 = _interopRequireDefault(_Table);

var _Filter = __webpack_require__(2018);

var _Filter2 = _interopRequireDefault(_Filter);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _InfiniteScrollTable = __webpack_require__(2022);

var _InfiniteScrollTable2 = _interopRequireDefault(_InfiniteScrollTable);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterHistory = function filterHistory(items, filter) {
  if (filter === 'sent') {
    return items.filter(function (_ref) {
      var direction = _ref.direction;
      return direction === 'out';
    });
  }

  if (filter === 'received') {
    return items.filter(function (_ref2) {
      var direction = _ref2.direction;
      return direction === 'in';
    });
  }

  return items;
};

var History = (_dec = (0, _redaction.connect)(function (_ref3) {
  var _ref3$history = _ref3.history,
      transactions = _ref3$history.transactions,
      filter = _ref3$history.filter,
      swapHistory = _ref3$history.swapHistory;
  return {
    items: filterHistory(transactions, filter),
    swapHistory: swapHistory
  };
}), _dec(_class = function (_Component) {
  (0, _inherits3.default)(History, _Component);

  function History() {
    var _ref4;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, History);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref4 = History.__proto__ || (0, _getPrototypeOf2.default)(History)).call.apply(_ref4, [this].concat(args))), _this), _this.state = {
      renderedItems: 10
    }, _this.loadMore = function () {
      var items = _this.props.items;
      var renderedItems = _this.state.renderedItems;


      if (renderedItems < items.length) {
        _this.setState(function (state) {
          return {
            renderedItems: state.renderedItems + Math.min(10, items.length - state.renderedItems)
          };
        });
      }
    }, _this.rowRender = function (row) {
      return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: row.hash }, row));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(History, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _actions2.default.analytics.dataEvent('open-page-history');
      _actions2.default.user.setTransactions();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          items = _props.items,
          swapHistory = _props.swapHistory;

      var titles = ['Coin', 'Status', 'Statement', 'Amount'];

      return _react2.default.createElement(
        'section',
        null,
        _react2.default.createElement(_PageHeadline2.default, { subTitle: 'History' }),
        swapHistory.length > 0 && _react2.default.createElement(_SwapsHistory2.default, { orders: swapHistory.filter(function (item) {
            return item.step >= 4;
          }) }),
        _react2.default.createElement(
          'h3',
          { 'data-tip': true, 'data-for': 'transactions', style: { width: '200px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'history68', defaultMessage: 'All transactions' })
        ),
        _react2.default.createElement(
          _reactTooltip2.default,
          { id: 'transactions', type: 'light', effect: 'solid' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'history72', defaultMessage: 'All transactions sent and received' })
          )
        ),
        _react2.default.createElement(_Filter2.default, null),
        _react2.default.createElement(_InfiniteScrollTable2.default, {
          className: _Table2.default.history,
          titles: titles,
          bottomOffset: 400,
          getMore: this.loadMore,
          itemsCount: items.length,
          items: items.slice(0, this.state.renderedItems),
          rowRender: this.rowRender
        })
      );
    }
  }]);
  return History;
}(_react.Component)) || _class);
exports.default = History;

/***/ }),

/***/ 2014:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"status":"B1fidj","in":"_2WudR1","out":"_3MGYaP","cell":"_3iy6qi","confirm":"_38S3z2","unconfirmed":"_2NV1PP","date":"_3qRLEP","address":"qb31A4","amount":"z9ksse"};

/***/ }),

/***/ 2015:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LinkTransaction = function LinkTransaction(_ref) {
  var type = _ref.type,
      children = _ref.children,
      hash = _ref.hash;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    type.toLowerCase() === 'eth' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/tx/' + hash },
      children
    ),
    type.toLowerCase() === 'btc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bitpay + '/tx/' + hash },
      children
    ),
    type.toLowerCase() === 'ltc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.ltc + '/tx/' + hash },
      children
    ),
    (0, _keys2.default)(_appConfig2.default.erc20).includes(type.toLowerCase()) && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/tx/' + hash },
      children
    )
  );
};

exports.default = LinkTransaction;

/***/ }),

/***/ 2016:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _moment = __webpack_require__(778);

var _moment2 = _interopRequireDefault(_moment);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RowHistory = __webpack_require__(2017);

var _RowHistory2 = _interopRequireDefault(_RowHistory);

var _Coins = __webpack_require__(282);

var _Coins2 = _interopRequireDefault(_Coins);

var _Timer = __webpack_require__(100);

var _Timer2 = _interopRequireDefault(_Timer);

var _Avatar = __webpack_require__(516);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowHistory = function RowHistory(_ref) {
  var row = _ref.row;


  if (row === 'undefined') {
    return null;
  }

  var buyAmount = row.buyAmount,
      buyCurrency = row.buyCurrency,
      sellAmount = row.sellAmount,
      btcScriptValues = row.btcScriptValues,
      ltcScriptValues = row.ltcScriptValues,
      usdtScriptValues = row.usdtScriptValues,
      isRefunded = row.isRefunded,
      isMy = row.isMy,
      sellCurrency = row.sellCurrency,
      isFinished = row.isFinished,
      id = row.id,
      scriptValues = row.scriptValues;


  var values = btcScriptValues || ltcScriptValues || usdtScriptValues || scriptValues;
  var data = Date.now() / 1000;

  if (!values) {
    return;
  }

  var lockDateAndTime = _moment2.default.unix(values.lockTime || data).format('HH:mm:ss DD/MM/YYYY');

  buyAmount = Number(buyAmount);
  sellAmount = Number(sellAmount);

  return _react2.default.createElement(
    'tr',
    null,
    _react2.default.createElement(
      'td',
      null,
      _react2.default.createElement(_Avatar2.default, {
        value: id
      })
    ),
    _react2.default.createElement(
      'td',
      null,
      _react2.default.createElement(_Coins2.default, { names: [buyCurrency, sellCurrency] })
    ),
    _react2.default.createElement(
      'td',
      null,
      isMy ? sellAmount.toFixed(5) + ' ' + sellCurrency.toUpperCase() : buyAmount.toFixed(5) + ' ' + buyCurrency.toUpperCase()
    ),
    _react2.default.createElement(
      'td',
      null,
      isMy ? buyAmount.toFixed(5) + ' ' + buyCurrency.toUpperCase() : sellAmount.toFixed(5) + ' ' + sellCurrency.toUpperCase()
    ),
    _react2.default.createElement(
      'td',
      null,
      (sellAmount / buyAmount).toFixed(5),
      ' ' + sellCurrency + '/' + buyCurrency
    ),
    _react2.default.createElement(
      'td',
      null,
      values && !isRefunded && !isFinished ? _react2.default.createElement(_Timer2.default, {
        lockTime: values.lockTime * 1000,
        enabledButton: function enabledButton() {}
      }) : _react2.default.createElement(
        _reactIntl.FormattedMessage,
        { id: 'RowHistory76', defaultMessage: 'Refund not available' },
        function (message) {
          return _react2.default.createElement(
            'span',
            null,
            message
          );
        }
      )
    ),
    _react2.default.createElement(
      'td',
      null,
      isFinished ? 'Finished' : 'Uncompleted'
    ),
    _react2.default.createElement(
      'td',
      null,
      lockDateAndTime.split(' ').map(function (item, key) {
        return _react2.default.createElement(
          _react.Fragment,
          { key: key },
          item,
          _react2.default.createElement('br', null)
        );
      })
    ),
    _react2.default.createElement(
      'td',
      null,
      isMy ? _react2.default.createElement(
        _reactRouterDom.Link,
        { to: _helpers.links.swap + '/' + sellCurrency + '-' + buyCurrency + '/' + id },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory91', defaultMessage: 'Link to the swap' })
      ) : _react2.default.createElement(
        _reactRouterDom.Link,
        { to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory95', defaultMessage: 'Link to the swap' })
      )
    )
  );
};

RowHistory.propTypes = {
  row: _propTypes2.default.object
};

exports.default = (0, _reactCssModules2.default)(RowHistory, _RowHistory2.default, { allowMultiple: true });

/***/ }),

/***/ 2017:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"_2Z_jhL","delete":"eDuZ67","currency":"_2vYSxF","coin":"_17Dby6","buy":"_35V0oz","sell":"_3BVZDc","buttons":"Plxv_t","arrow":"poSVpG"};

/***/ }),

/***/ 2018:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _index = __webpack_require__(22);

var _index2 = _interopRequireDefault(_index);

var _redaction = __webpack_require__(47);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Filter = __webpack_require__(2019);

var _Filter2 = _interopRequireDefault(_Filter);

var _FilterLink = __webpack_require__(2020);

var _FilterLink2 = _interopRequireDefault(_FilterLink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filters = ['All', 'Sent', 'Received'];

var Filter = function Filter(_ref) {
  var filter = _ref.filter;


  var handleChangeFilter = function handleChangeFilter(filter) {
    _index2.default.filter.setFilter(filter);
    _index2.default.analytics.dataEvent('history-click-' + filter);
  };

  return _react2.default.createElement(
    'div',
    { styleName: 'filter' },
    filters.map(function (item) {
      return _react2.default.createElement(_FilterLink2.default, {
        key: item,
        name: item,
        onClick: function onClick() {
          return handleChangeFilter(item.toLowerCase());
        },
        filter: filter
      });
    })
  );
};

Filter.propTypes = {
  filter: _propTypes2.default.string.isRequired
};

exports.default = (0, _redaction.connect)(function (_ref2) {
  var filter = _ref2.history.filter;
  return {
    filter: filter
  };
})((0, _reactCssModules2.default)(Filter, _Filter2.default));

/***/ }),

/***/ 2019:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"filter":"_1dandr"};

/***/ }),

/***/ 2020:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FilterLink = __webpack_require__(2021);

var _FilterLink2 = _interopRequireDefault(_FilterLink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FilterLink = function FilterLink(_ref) {
  var name = _ref.name,
      filter = _ref.filter,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'span',
    {
      styleName: filter === name.toLowerCase() ? 'item  active' : 'item',
      onClick: onClick
    },
    name
  );
};

FilterLink.propTypes = {
  name: _propTypes2.default.string.isRequired,
  filter: _propTypes2.default.string.isRequired,
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(FilterLink, _FilterLink2.default, { allowMultiple: true });

/***/ }),

/***/ 2021:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"item":"_30NN6U","active":"_36Ht-x"};

/***/ }),

/***/ 2022:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _withInfiniteScroll = __webpack_require__(2023);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InfiniteScrollTable = (_dec = (0, _withInfiniteScroll.withInfiniteScroll)(), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(InfiniteScrollTable, _React$Component);

  function InfiniteScrollTable() {
    (0, _classCallCheck3.default)(this, InfiniteScrollTable);
    return (0, _possibleConstructorReturn3.default)(this, (InfiniteScrollTable.__proto__ || (0, _getPrototypeOf2.default)(InfiniteScrollTable)).apply(this, arguments));
  }

  (0, _createClass3.default)(InfiniteScrollTable, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          items = _props.items,
          rest = (0, _objectWithoutProperties3.default)(_props, ['items']);


      return _react2.default.createElement(_Table2.default, (0, _extends3.default)({}, rest, { rows: items }));
    }
  }]);
  return InfiniteScrollTable;
}(_react2.default.Component)) || _class);
exports.default = InfiniteScrollTable;

/***/ }),

/***/ 2023:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withInfiniteScroll = undefined;

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var withInfiniteScroll = function withInfiniteScroll() {
  return function (Component) {
    var InfiniteScroll = function (_React$Component) {
      (0, _inherits3.default)(InfiniteScroll, _React$Component);

      function InfiniteScroll() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, InfiniteScroll);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = InfiniteScroll.__proto__ || (0, _getPrototypeOf2.default)(InfiniteScroll)).call.apply(_ref, [this].concat(args))), _this), _this.onScroll = function () {
          var _this$props = _this.props,
              bottomOffset = _this$props.bottomOffset,
              items = _this$props.items,
              itemsCount = _this$props.itemsCount;


          var bottomSidePositionOnPage = document.documentElement.scrollTop + document.documentElement.clientHeight;

          if (bottomSidePositionOnPage >= document.body.offsetHeight - bottomOffset && items.length !== itemsCount && items.length) {
            _this.props.getMore();
          }
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      (0, _createClass3.default)(InfiniteScroll, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
          window.addEventListener('scroll', this.onScroll);
        }
      }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
          window.removeEventListener('scroll', this.onScroll);
        }
      }, {
        key: 'render',
        value: function render() {
          var _props = this.props,
              getMore = _props.getMore,
              bottomOffset = _props.bottomOffset,
              itemsCount = _props.itemsCount,
              rest = (0, _objectWithoutProperties3.default)(_props, ['getMore', 'bottomOffset', 'itemsCount']);

          return _react2.default.createElement(Component, rest);
        }
      }]);
      return InfiniteScroll;
    }(_react2.default.Component);

    InfiniteScroll.propTypes = {
      getMore: _propTypes2.default.func,
      bottomOffset: _propTypes2.default.number,
      items: _propTypes2.default.array,
      itemsCount: _propTypes2.default.number
    };

    return InfiniteScroll;
  };
};
exports.withInfiniteScroll = withInfiniteScroll;

/***/ }),

/***/ 2024:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = NotFound;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NotFound() {
  return _react2.default.createElement(
    'div',
    { className: 'container' },
    _react2.default.createElement(
      'h2',
      { className: 'description__sub-title' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'NotFound8', defaultMessage: 'Page not found!' })
    )
  );
}

/***/ }),

/***/ 2025:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var About = function About(_ref) {
  var address = _ref.address;
  return _react2.default.createElement(
    'section',
    { style: { height: '100%' } },
    _react2.default.createElement('iframe', { width: '100%', height: '750px', style: { marginTop: "30px" }, title: 'wiki.swap.online', src: ' https://wiki.swap.online/about-swap-online/', frameBorder: '0' })
  );
};

exports.default = (0, _redaction.connect)(function (state) {
  return {
    address: state.user.ethData.address
  };
})(About);

/***/ }),

/***/ 2026:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _helpers = __webpack_require__(20);

var _Title = __webpack_require__(514);

var _Title2 = _interopRequireDefault(_Title);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _Toggle = __webpack_require__(510);

var _Toggle2 = _interopRequireDefault(_Toggle);

var _Row = __webpack_require__(2027);

var _Row2 = _interopRequireDefault(_Row);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouter = __webpack_require__(165);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Currency = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      ltcData = _ref$user.ltcData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      nimData = _ref$user.nimData,
      usdtData = _ref$user.usdtData;
  return {
    tokens: (0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }),
    items: [ethData, btcData, eosData, usdtData, ltcData /* nimData */],
    hiddenCoinsList: hiddenCoinsList
  };
}), (0, _reactRouter.withRouter)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(Currency, _Component);

  function Currency() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Currency);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Currency.__proto__ || (0, _getPrototypeOf2.default)(Currency)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      isBalanceFetching: false
    }, _this.getRows = function () {
      var currency = _this.props.match.params.currency;

      currency = currency.toLowerCase();

      return _helpers.constants.tradeTicker.filter(function (ticker) {
        ticker = ticker.split('-');
        return currency === ticker[0].toLowerCase() ? ticker[0].toLowerCase() === currency : ticker[1].toLowerCase() === currency;
      }).map(function (pair) {
        pair = pair.split('-');
        return {
          from: pair[0],
          to: pair[1]
        };
      });
    }, _this.getCurrencyName = function () {
      return _this.props.match.params.currency.toLowerCase();
    }, _this.getCoin = function () {
      return [].concat((0, _toConsumableArray3.default)(_this.props.items), (0, _toConsumableArray3.default)(_this.props.tokens)).find(function (coin) {
        return coin.currency.toLowerCase() === _this.getCurrencyName();
      });
    }, _this.handleReloadBalance = function () {
      var isBalanceFetching = _this.state.isBalanceFetching;

      var coin = _this.getCoin();
      var currency = coin.currency.toLowerCase();
      var token = !!coin.token;
      var action = token ? 'token' : currency;

      if (isBalanceFetching) {
        return null;
      }

      _this.setState({
        isBalanceFetching: true
      });

      _actions2.default[action].getBalance(currency).finally(function () {
        return _this.setState({
          isBalanceFetching: false
        });
      });
    }, _this.isInWallet = function () {
      return !_this.props.hiddenCoinsList.includes(_this.getCoin().currency);
    }, _this.handleInWalletChange = function (val) {
      return val ? _actions2.default.core.markCoinAsVisible(_this.getCoin().currency) : _actions2.default.core.markCoinAsHidden(_this.getCoin().currency);
    }, _this.componentWillMount = function () {
      if (!_this.getCoin()) {
        _this.props.history.push('/');
        return false;
      }

      _this.handleReloadBalance();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Currency, [{
    key: 'render',
    value: function render() {
      var currency = this.props.match.params.currency;

      var _getCoin = this.getCoin(),
          balance = _getCoin.balance;

      return _react2.default.createElement(
        'section',
        null,
        _react2.default.createElement(
          _PageHeadline2.default,
          null,
          _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _Title2.default,
              null,
              currency
            ),
            _react2.default.createElement(
              _SubTitle2.default,
              null,
              currency.toUpperCase(),
              ' Trade'
            )
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Currency101', defaultMessage: 'Balance: ' }),
            _react2.default.createElement(
              'span',
              null,
              (String(balance).length > 5 ? balance.toFixed(5) : balance) || 0,
              ' ',
              currency
            )
          ),
          _react2.default.createElement(_Toggle2.default, { onChange: this.handleInWalletChange, checked: this.isInWallet() }),
          'Added to Wallet'
        ),
        _react2.default.createElement(_Table2.default, {
          titles: ['Coin', 'Exchange', ''],
          rows: this.getRows(),
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row));
          }
        })
      );
    }
  }]);
  return Currency;
}(_react.Component)) || _class) || _class);
exports.default = Currency;

/***/ }),

/***/ 2027:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(62);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2028);

var _Row2 = _interopRequireDefault(_Row);

var _Coins = __webpack_require__(282);

var _Coins2 = _interopRequireDefault(_Coins);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _reactCssModules2.default)(_Row2.default), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    (0, _classCallCheck3.default)(this, Row);
    return (0, _possibleConstructorReturn3.default)(this, (Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).apply(this, arguments));
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          from = _props.from,
          to = _props.to;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coins2.default, { styleName: 'coins', names: [from, to], size: 40 })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row30', defaultMessage: 'Exchange ' }),
            from.toUpperCase(),
            '/',
            to.toUpperCase()
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { styleName: 'button', to: '' + _helpers.links.home + from.toLowerCase() + '-' + to.toLowerCase() },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row35', defaultMessage: 'Exchange ' })
          )
        )
      );
    }
  }]);
  return Row;
}(_react.Component), _class2.propTypes = {
  from: _propTypes2.default.string.isRequired,
  to: _propTypes2.default.string.isRequired
}, _temp)) || _class);
exports.default = Row;

/***/ }),

/***/ 2028:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"_1Wexht","reloadButton":"_3ixjtr","copied":"_3V2rdt","button":"_2_YN3T"};

/***/ }),

/***/ 2029:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PartialClosure = __webpack_require__(2030);

var _PartialClosure2 = _interopRequireDefault(_PartialClosure);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _bignumber = __webpack_require__(48);

var _reactRouterDom = __webpack_require__(62);

var _SelectGroup = __webpack_require__(2031);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _controls = __webpack_require__(57);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _InlineLoader = __webpack_require__(86);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterIsPartial = function filterIsPartial(orders) {
  return orders.filter(function (order) {
    return order.isPartialClosure;
  });
};

var PartialClosure = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      orders = _ref.core.orders;
  return {
    currencies: currencies.items,
    orders: filterIsPartial(orders)
  };
}), _dec2 = (0, _reactCssModules2.default)(_PartialClosure2.default), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(PartialClosure, _Component);

  function PartialClosure() {
    (0, _classCallCheck3.default)(this, PartialClosure);

    var _this = (0, _possibleConstructorReturn3.default)(this, (PartialClosure.__proto__ || (0, _getPrototypeOf2.default)(PartialClosure)).call(this));

    _this.sendRequest = function () {
      var _this$state = _this.state,
          getAmount = _this$state.getAmount,
          haveAmount = _this$state.haveAmount,
          haveCurrency = _this$state.haveCurrency,
          getCurrency = _this$state.getCurrency,
          peer = _this$state.peer,
          orderId = _this$state.orderId;


      if (!String(getAmount) || !peer || !orderId || !String(haveAmount)) {
        return;
      }

      var order = {
        buyCurrency: haveCurrency,
        sellCurrency: getCurrency,
        sellAmount: getAmount,
        buyAmount: haveAmount
      };

      _this.setState(function () {
        return { isFetching: true };
      });

      _actions2.default.core.requestToPeer('request partial closure', peer, { order: order, orderId: orderId }, function (orderId) {
        console.log('orderId', orderId);
        // TODO change callback on boolean type
        if (orderId) {
          _actions2.default.core.sendRequest(orderId, function (isAccept) {
            if (isAccept) {
              _this.setState(function () {
                return {
                  redirect: true,
                  isFetching: false,
                  orderId: orderId
                };
              });
            } else {
              _this.setDeclinedOffer();
            }
          });
        } else {
          _this.setDeclinedOffer();
        }
      });
    };

    _this.setDeclinedOffer = function () {
      _this.setState(function () {
        return { haveAmount: '', isFetching: false, isDeclinedOffer: true };
      });

      setTimeout(function () {
        _this.setState(function () {
          return {
            isDeclinedOffer: false
          };
        });
      }, 5000);
    };

    _this.setNoOfferState = function () {
      _this.setState(function () {
        return { isNonOffers: true };
      });
    };

    _this.setAmountOnState = function (maxAmount, getAmount) {

      _this.setState(function () {
        return {
          maxAmount: String(maxAmount),
          getAmount: getAmount
        };
      });

      return getAmount.isLessThan(maxAmount);
    };

    _this.setAmount = function (value) {
      _this.setState(function () {
        return { haveAmount: value, maxAmount: 0 };
      });

      var filteredOrders = _this.state.filteredOrders;


      if (filteredOrders.length === 0) {
        _this.setNoOfferState();
        return;
      }

      var sortedOrder = filteredOrders.sort(function (a, b) {
        return Number(a.buyAmount.dividedBy(a.sellAmount)) - Number(b.buyAmount.dividedBy(b.sellAmount));
      });
      var exRate = sortedOrder[0].buyAmount.dividedBy(sortedOrder[0].sellAmount);
      var getAmount = new _bignumber.BigNumber(String(value)).dividedBy(exRate);

      var checkAmount = _this.setAmountOnState(sortedOrder[0].sellAmount, getAmount);

      if (!checkAmount) {
        _this.setNoOfferState();
        return;
      }

      _this.setState(function () {
        return {
          isNonOffers: false,
          peer: sortedOrder[0].owner.peer,
          orderId: sortedOrder[0].id
        };
      }, console.log('this state ' + _this.state.getAmount + ' ' + _this.state.haveAmount));
    };

    _this.handleSetGetValue = function (_ref2) {
      var value = _ref2.value;
      var _this$state2 = _this.state,
          getCurrency = _this$state2.getCurrency,
          haveCurrency = _this$state2.haveCurrency;


      if (haveCurrency === value) {
        haveCurrency = getCurrency;
      }

      _this.setState(function () {
        return {
          maxAmount: 0,
          haveCurrency: haveCurrency,
          getCurrency: value
        };
      }, _this.setAmount(_this.state.haveAmount));
    };

    _this.handleSetHaveValue = function (_ref3) {
      var value = _ref3.value;
      var _this$state3 = _this.state,
          getCurrency = _this$state3.getCurrency,
          haveCurrency = _this$state3.haveCurrency;


      if (getCurrency === value) {
        getCurrency = haveCurrency;
      }

      _this.setState(function () {
        return {
          maxAmount: 0,
          getCurrency: getCurrency,
          haveCurrency: value
        };
      }, _this.setAmount(_this.state.haveAmount));
    };

    _this.state = {
      haveCurrency: 'btc',
      getCurrency: 'eth',
      haveAmount: '',
      getAmount: '',
      maxAmount: 0,
      peer: '',
      filteredOrders: [],
      isNonOffers: false,
      isFetching: false,
      isDeclinedOffer: false
    };
    return _this;
  }

  (0, _createClass3.default)(PartialClosure, [{
    key: 'render',
    value: function render() {
      var currencies = this.props.currencies;
      var _state = this.state,
          haveCurrency = _state.haveCurrency,
          getCurrency = _state.getCurrency,
          isNonOffers = _state.isNonOffers,
          redirect = _state.redirect,
          orderId = _state.orderId,
          isDeclinedOffer = _state.isDeclinedOffer,
          isFetching = _state.isFetching,
          maxAmount = _state.maxAmount;


      var linked = _swValuelink2.default.all(this, 'haveAmount', 'getAmount');

      if (redirect) {
        return _react2.default.createElement(_reactRouterDom.Redirect, { push: true, to: _helpers.links.swap + '/' + getCurrency + '-' + haveCurrency + '/' + orderId });
      }

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_PageHeadline2.default, { subTitle: 'Partial closure offers' }),
        _react2.default.createElement(
          'div',
          { styleName: 'section' },
          _react2.default.createElement(
            'div',
            { styleName: 'block' },
            _react2.default.createElement('iframe', {
              title: 'swap online video',
              width: '560',
              height: '315',
              src: 'https://www.youtube-nocookie.com/embed/Jhrb7xOT_7s?controls=0',
              frameBorder: '0',
              allow: 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture',
              allowFullScreen: true
            })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'block' },
            _react2.default.createElement(_SelectGroup2.default, {
              inputValueLink: linked.haveAmount.pipe(this.setAmount),
              selectedValue: haveCurrency,
              onSelect: this.handleSetHaveValue,
              label: 'You have',
              placeholder: 'Enter amount',
              currencies: currencies
            }),
            _react2.default.createElement(
              'p',
              null,
              'Max amount for offer: ',
              maxAmount,
              ' ',
              getCurrency.toUpperCase()
            ),
            _react2.default.createElement(_SelectGroup2.default, {
              inputValueLink: linked.getAmount,
              selectedValue: getCurrency,
              onSelect: this.handleSetGetValue,
              label: 'You get',
              disabled: true,
              currencies: currencies
            }),
            isNonOffers && _react2.default.createElement(
              'p',
              { styleName: 'error' },
              'No offers '
            ),
            isDeclinedOffer && _react2.default.createElement(
              'p',
              { styleName: 'error' },
              'Offer is declined'
            ),
            isFetching && _react2.default.createElement(
              'span',
              null,
              'Wait participant:',
              _react2.default.createElement(_InlineLoader2.default, null)
            ),
            _react2.default.createElement(
              _controls.Button,
              { styleName: 'button', brand: true, fullWidth: true, onClick: this.sendRequest, disabled: isNonOffers },
              'Start'
            )
          )
        )
      );
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref4, _ref5) {
      var orders = _ref4.orders;
      var haveCurrency = _ref5.haveCurrency,
          getCurrency = _ref5.getCurrency,
          haveAmount = _ref5.haveAmount;

      if (!Array.isArray(orders)) {
        return;
      }

      var filteredOrders = orders.filter(function (order) {
        return !order.isMy && order.buyAmount > haveAmount && order.sellCurrency === getCurrency.toUpperCase() && order.buyCurrency === haveCurrency.toUpperCase();
      });

      return {
        filteredOrders: filteredOrders
      };
    }
  }]);
  return PartialClosure;
}(_react.Component), _class2.defaultProps = {
  orders: []
}, _temp)) || _class) || _class);
exports.default = PartialClosure;

/***/ }),

/***/ 2030:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"jFTRV6","section":"_1FNt_2","block":"TVAmdO","error":"_1ECuKC"};

/***/ }),

/***/ 2031:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SelectGroup = __webpack_require__(2032);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(284);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _CurrencySelect = __webpack_require__(515);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO to split data and view this component
var SelectGroup = function SelectGroup(_ref) {
  var selectedValue = _ref.selectedValue,
      onSelect = _ref.onSelect,
      currencies = _ref.currencies,
      placeholder = _ref.placeholder,
      label = _ref.label,
      disabled = _ref.disabled,
      className = _ref.className,
      inputValueLink = _ref.inputValueLink;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      _FieldLabel2.default,
      { inRow: true },
      label
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'groupField', className: className },
      _react2.default.createElement(_Input2.default, {
        styleName: 'inputRoot',
        inputContainerClassName: 'inputContainer',
        valueLink: inputValueLink,
        type: 'number',
        placeholder: placeholder,
        pattern: '0-9.',
        disabled: disabled
      }),
      _react2.default.createElement(_CurrencySelect2.default, {
        styleName: 'currencySelect',
        selectedValue: selectedValue,
        onSelect: onSelect,
        currencies: currencies
      })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(SelectGroup, _SelectGroup2.default);

/***/ }),

/***/ 2032:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"_3TmrEA","inputRoot":"_2We0O-","inputContainer":"cJ1yiw","currencySelect":"_336f6U"};

/***/ }),

/***/ 2033:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"label":"_1AbkiC","inRow":"_2Hoger"};

/***/ }),

/***/ 2034:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _values = __webpack_require__(355);

var _values2 = _interopRequireDefault(_values);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(62);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyWallet = __webpack_require__(2035);

var _CurrencyWallet2 = _interopRequireDefault(_CurrencyWallet);

var _Row = __webpack_require__(840);

var _Row2 = _interopRequireDefault(_Row);

var _SwapsHistory = __webpack_require__(842);

var _SwapsHistory2 = _interopRequireDefault(_SwapsHistory);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _controls = __webpack_require__(57);

var _PageHeadline = __webpack_require__(177);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _PageSeo = __webpack_require__(832);

var _PageSeo2 = _interopRequireDefault(_PageSeo);

var _seo = __webpack_require__(368);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencyWallet = (_dec = (0, _redaction.connect)(function (_ref) {
  var core = _ref.core,
      user = _ref.user,
      _ref$history = _ref.history,
      transactions = _ref$history.transactions,
      swapHistory = _ref$history.swapHistory;
  return {
    user: user,
    hiddenCoinsList: core.hiddenCoinsList,
    txHistory: transactions,
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_CurrencyWallet2.default), _dec(_class = (0, _reactRouterDom.withRouter)(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(CurrencyWallet, _Component);

  function CurrencyWallet(props) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, CurrencyWallet);

    var _this = (0, _possibleConstructorReturn3.default)(this, (CurrencyWallet.__proto__ || (0, _getPrototypeOf2.default)(CurrencyWallet)).call(this, props));

    _this.handleWithdraw = function () {
      var _this$state = _this.state,
          currency = _this$state.currency,
          address = _this$state.address,
          contractAddress = _this$state.contractAddress,
          decimals = _this$state.decimals,
          balance = _this$state.balance;


      _actions2.default.analytics.dataEvent('balances-withdraw-' + currency.toLowerCase());
      _actions2.default.modals.open(_helpers.constants.modals.Withdraw, {
        currency: currency,
        address: address,
        contractAddress: contractAddress,
        decimals: decimals,
        balance: balance
      });
    };

    _this.handleEosBuyAccount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _actions2.default.modals.open(_helpers.constants.modals.EosBuyAccount);

            case 1:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    }));


    _this.state = {
      name: null,
      address: null,
      balance: null
    };
    return _this;
  }

  (0, _createClass3.default)(CurrencyWallet, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          swapHistory = _props.swapHistory,
          txHistory = _props.txHistory,
          location = _props.location;
      var _state = this.state,
          fullName = _state.fullName,
          address = _state.address,
          balance = _state.balance,
          currency = _state.currency;


      txHistory = txHistory.filter(function (tx) {
        return tx.type === currency.toLowerCase();
      });

      swapHistory = (0, _keys2.default)(swapHistory).map(function (key) {
        return swapHistory[key];
      }).filter(function (swap) {
        return swap.sellCurrency === currency || swap.buyCurrency === currency;
      });

      var seoPage = (0, _seo.getSeoPage)(location.pathname);

      var eosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.eosAccountActivated) === "true";

      return _react2.default.createElement(
        'div',
        { className: 'root' },
        _react2.default.createElement(_PageSeo2.default, {
          location: location,
          defaultTitle: 'Swap.Online - ' + fullName + ' (' + currency + ') Web Wallet with Atomic Swap.',
          defaultDescription: 'Atomic Swap Wallet allows you to manage and securely exchange ' + fullName + ' (' + currency + ') with 0% fees. Based on Multi-Sig and Atomic Swap technologies.' }),
        _react2.default.createElement(_PageHeadline2.default, { styleName: 'title', subTitle: !!seoPage ? seoPage.h1 : 'Your online ' + fullName + ' (' + currency + ') web wallet with Atomic Swap.' }),
        _react2.default.createElement(
          'h3',
          { styleName: 'subtitle' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet95', defaultMessage: 'Your address: ' }),
          _react2.default.createElement(
            'span',
            null,
            address
          ),
          ' ',
          _react2.default.createElement('br', null),
          ' Your ',
          fullName,
          ' balance: ',
          balance,
          ' ',
          currency.toUpperCase()
        ),
        currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
          _controls.Button,
          { onClick: this.handleEosBuyAccount, gray: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet105', defaultMessage: 'Activate account' })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'inRow' },
          _react2.default.createElement(
            _controls.Button,
            { brand: true, style: { marginRight: '15px' }, onClick: this.handleWithdraw },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet100', defaultMessage: 'Send' })
          ),
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: '' + _helpers.links.home + currency.toLowerCase() },
            _react2.default.createElement(
              _controls.Button,
              { gray: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet104', defaultMessage: 'Exchange' })
            )
          )
        ),
        swapHistory.length > 0 && _react2.default.createElement(_SwapsHistory2.default, { orders: swapHistory }),
        _react2.default.createElement(
          'h2',
          { style: { marginTop: '20px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet110', defaultMessage: 'History your transactions' })
        ),
        txHistory && _react2.default.createElement(_Table2.default, { titles: ['Coin', 'Status', 'Statement', 'Amount'], rows: txHistory, styleName: 'table', rowRender: function rowRender(row) {
            return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: row.hash }, row));
          } })
      );
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(nextProps) {
      var user = nextProps.user,
          fullName = nextProps.match.params.fullName;


      var currencyData = (0, _values2.default)(user).concat((0, _values2.default)(user.tokensData)).filter(function (v) {
        return v.fullName && v.fullName.toLowerCase() === fullName.toLowerCase();
      })[0];

      var currency = currencyData.currency,
          address = currencyData.address,
          contractAddress = currencyData.contractAddress,
          decimals = currencyData.decimals,
          balance = currencyData.balance;


      return {
        currency: currency,
        address: address,
        contractAddress: contractAddress,
        decimals: decimals,
        fullName: fullName,
        balance: balance
      };
    }
  }]);
  return CurrencyWallet;
}(_react.Component)) || _class) || _class) || _class);
exports.default = CurrencyWallet;

/***/ }),

/***/ 2035:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"root":"_1TjWDA","title":"_35iypG","heading":"_2RoUlC","subtitle":"_aHkas","table":"zSPrnH","inRow":"_10I6Nv","info":"_3TO0H9","actions":"_1ycHcq"};

/***/ }),

/***/ 2036:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = __webpack_require__(693);

var _reactRouterRedux = __webpack_require__(689);

var _App = __webpack_require__(2037);

var _App2 = _interopRequireDefault(_App);

var _IntlProviderContainer = __webpack_require__(3332);

var _IntlProviderContainer2 = _interopRequireDefault(_IntlProviderContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Root = (_temp = _class = function (_React$PureComponent) {
  (0, _inherits3.default)(Root, _React$PureComponent);

  function Root() {
    (0, _classCallCheck3.default)(this, Root);
    return (0, _possibleConstructorReturn3.default)(this, (Root.__proto__ || (0, _getPrototypeOf2.default)(Root)).apply(this, arguments));
  }

  (0, _createClass3.default)(Root, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          history = _props.history,
          store = _props.store,
          routes = _props.routes;

      return _react2.default.createElement(
        _reactRedux.Provider,
        { store: store },
        _react2.default.createElement(
          _IntlProviderContainer2.default,
          null,
          _react2.default.createElement(
            _reactRouterRedux.ConnectedRouter,
            { history: history },
            _react2.default.createElement(
              _App2.default,
              null,
              routes
            )
          )
        )
      );
    }
  }]);
  return Root;
}(_react2.default.PureComponent), _class.propTypes = {
  store: _propTypes2.default.object.isRequired,
  history: _propTypes2.default.object.isRequired,
  routes: _propTypes2.default.element.isRequired
}, _temp);
exports.default = Root;

/***/ }),

/***/ 2037:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(62);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(47);

var _momentWithLocalesEs = __webpack_require__(841);

var _momentWithLocalesEs2 = _interopRequireDefault(_momentWithLocalesEs);

var _helpers = __webpack_require__(20);

var _reactDeviceDetect = __webpack_require__(199);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _App = __webpack_require__(2038);

var _App2 = _interopRequireDefault(_App);

__webpack_require__(2039);

var _newSwap = __webpack_require__(2040);

var _Core = __webpack_require__(3233);

var _Core2 = _interopRequireDefault(_Core);

var _Header = __webpack_require__(3234);

var _Header2 = _interopRequireDefault(_Header);

var _Footer = __webpack_require__(3251);

var _Footer2 = _interopRequireDefault(_Footer);

var _Loader = __webpack_require__(655);

var _Loader2 = _interopRequireDefault(_Loader);

var _PreventMultiTabs = __webpack_require__(3264);

var _PreventMultiTabs2 = _interopRequireDefault(_PreventMultiTabs);

var _RequestLoader = __webpack_require__(3265);

var _RequestLoader2 = _interopRequireDefault(_RequestLoader);

var _ModalConductor = __webpack_require__(1250);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

var _WidthContainer = __webpack_require__(283);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _NotificationConductor = __webpack_require__(3323);

var _NotificationConductor2 = _interopRequireDefault(_NotificationConductor);

var _Seo = __webpack_require__(835);

var _Seo2 = _interopRequireDefault(_Seo);

var _UserTooltip = __webpack_require__(1247);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var userLanguage = (navigator.userLanguage || navigator.language || 'en-gb').split('-')[0];
_momentWithLocalesEs2.default.locale(userLanguage);

var App = (_dec = (0, _redaction.connect)({
  isVisible: 'loader.isVisible',
  ethAddress: 'user.ethData.address',
  btcAddress: 'user.btcData.address',
  tokenAddress: 'user.tokensData.swap.address'
}), _dec2 = (0, _reactCssModules2.default)(_App2.default), (0, _reactRouterDom.withRouter)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(App, _React$Component);

  function App() {
    (0, _classCallCheck3.default)(this, App);

    var _this = (0, _possibleConstructorReturn3.default)(this, (App.__proto__ || (0, _getPrototypeOf2.default)(App)).call(this));

    _this.localStorageListener = null;

    _this.state = {
      fetching: false,
      multiTabs: false,
      error: ''
    };
    return _this;
  }

  (0, _createClass3.default)(App, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      _helpers.localStorage.setItem(_helpers.constants.localStorage.activeTabId, Date.now());

      if (_helpers.localStorage.getItem(_helpers.constants.localStorage.activeTabId)) {
        _helpers.localStorage.setItem(_helpers.constants.localStorage.activeTabId, Date.now());
      }

      this.localStorageListener = _helpers.localStorage.subscribe(_helpers.constants.localStorage.activeTabId, function (newValue) {
        if (newValue !== _helpers.localStorage.getItem(_helpers.constants.localStorage.activeTabId)) {
          _this2.setState({ multiTabs: true });
        }
      });

      if (!_helpers.localStorage.getItem(_helpers.constants.localStorage.demoMoneyReceived)) {
        _actions2.default.user.getDemoMoney();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _helpers.localStorage.unsubscribe(this.localStorageListener);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      window.onerror = function (error) {
        _actions2.default.notifications.show(_helpers.constants.notifications.ErrorNotification, { error: error });
        _actions2.default.analytics.errorEvent(error);
      };

      setTimeout(function () {
        _actions2.default.user.sign();
        (0, _newSwap.createSwapApp)();
        _this3.setState({ fetching: true });
      }, 1000);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          fetching = _state.fetching,
          multiTabs = _state.multiTabs,
          error = _state.error;
      var _props = this.props,
          children = _props.children,
          ethAddress = _props.ethAddress,
          btcAddress = _props.btcAddress,
          tokenAddress = _props.tokenAddress,
          history = _props.history;

      var isFetching = !ethAddress || !btcAddress || !tokenAddress || !fetching;
      if (multiTabs) {
        return _react2.default.createElement(_PreventMultiTabs2.default, null);
      }

      if (isFetching) {
        return _react2.default.createElement(_Loader2.default, { showTips: true });
      }

      var mainContent = _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_Seo2.default, { location: history.location }),
        _reactDeviceDetect.isMobile && _react2.default.createElement(_UserTooltip2.default, null),
        _react2.default.createElement(_Header2.default, null),
        _react2.default.createElement(
          _WidthContainer2.default,
          { styleName: 'main' },
          _react2.default.createElement(
            'main',
            null,
            children
          )
        ),
        _react2.default.createElement(_Core2.default, null),
        !_reactDeviceDetect.isMobile && _react2.default.createElement(_Footer2.default, null),
        _react2.default.createElement(_RequestLoader2.default, null),
        _react2.default.createElement(_ModalConductor2.default, null),
        _react2.default.createElement(_NotificationConductor2.default, null)
      );

      return  false ? _react2.default.createElement(
        _reactRouterDom.HashRouter,
        null,
        mainContent
      ) : mainContent;
    }
  }]);
  return App;
}(_react2.default.Component), _class2.propTypes = {
  children: _propTypes2.default.element.isRequired
}, _temp)) || _class) || _class) || _class);
exports.default = App;

/***/ }),

/***/ 2038:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"main":"_3gjuKq"};

/***/ }),

/***/ 2039:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"UVZ-gM","btn":"_2xXs60"};

/***/ }),

/***/ 2040:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createSwapApp = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _eos = __webpack_require__(333);

__webpack_require__(2041);

var _web = __webpack_require__(349);

var _web2 = _interopRequireDefault(_web);

var _bitcoinjsLib = __webpack_require__(134);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _coininfo = __webpack_require__(753);

var _coininfo2 = _interopRequireDefault(_coininfo);

var _humanStandardTokenAbi = __webpack_require__(790);

var _humanStandardTokenAbi2 = _interopRequireDefault(_humanStandardTokenAbi);

var _ipfsPubsubRoom = __webpack_require__(2042);

var _ipfsPubsubRoom2 = _interopRequireDefault(_ipfsPubsubRoom);

var _ipfs = __webpack_require__(2064);

var _ipfs2 = _interopRequireDefault(_ipfs);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(438);

var _swap4 = _interopRequireDefault(_swap3);

var _swap5 = __webpack_require__(650);

var _swap6 = _interopRequireDefault(_swap5);

var _swap7 = __webpack_require__(3157);

var _swap8 = _interopRequireDefault(_swap7);

var _swap9 = __webpack_require__(3168);

var _swap10 = __webpack_require__(3181);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var repo = _helpers.utils.createRepo(); /* eslint-disable import/no-mutable-exports,max-len */

_helpers.utils.exitListener();

var createSwapApp = function createSwapApp() {

  _swap2.default.setup({
    network:  true ? 'mainnet' : 'testnet',

    env: {
      eos: _eos.eos,
      web3: _web2.default,
      bitcoin: _bitcoinjsLib2.default,
      coininfo: _coininfo2.default,
      Ipfs: _ipfs2.default,
      IpfsRoom: _ipfsPubsubRoom2.default,
      storage: window.localStorage
    },

    services: [new _swap4.default({
      // TODO need init swapApp only after private keys created!!!!!!!!!!!!!!!!!!!
      eth: localStorage.getItem(_helpers.constants.privateKeyNames.eth),
      btc: localStorage.getItem(_helpers.constants.privateKeyNames.btc),
      ltc: localStorage.getItem(_helpers.constants.privateKeyNames.ltc),
      eos: _helpers.constants.privateKeyNames.eosAccount
    }), new _swap6.default({
      repo: repo,
      config: {
        Addresses: {
          Swarm: [_appConfig2.default.ipfs.swarm]
        }
      }
    }), new _swap8.default()],
    swaps: [new _swap10.EthSwap({
      address: _appConfig2.default.swapContract.eth,
      gasLimit: 1e5,
      abi: [{ 'constant': false, 'inputs': [{ 'name': 'val', 'type': 'uint256' }], 'name': 'testnetWithdrawn', 'outputs': [], 'payable': false, 'stateMutability': 'nonpayable', 'type': 'function' }, { 'constant': false, 'inputs': [{ 'name': '_secret', 'type': 'bytes32' }, { 'name': '_ownerAddress', 'type': 'address' }], 'name': 'withdraw', 'outputs': [], 'payable': false, 'stateMutability': 'nonpayable', 'type': 'function' }, { 'constant': true, 'inputs': [{ 'name': '_participantAddress', 'type': 'address' }], 'name': 'getSecret', 'outputs': [{ 'name': '', 'type': 'bytes32' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': true, 'inputs': [{ 'name': '', 'type': 'address' }, { 'name': '', 'type': 'address' }], 'name': 'participantSigns', 'outputs': [{ 'name': '', 'type': 'uint256' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': true, 'inputs': [], 'name': 'owner', 'outputs': [{ 'name': '', 'type': 'address' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': true, 'inputs': [{ 'name': '', 'type': 'address' }, { 'name': '', 'type': 'address' }], 'name': 'swaps', 'outputs': [{ 'name': 'secret', 'type': 'bytes32' }, { 'name': 'secretHash', 'type': 'bytes20' }, { 'name': 'createdAt', 'type': 'uint256' }, { 'name': 'balance', 'type': 'uint256' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': false, 'inputs': [{ 'name': '_secretHash', 'type': 'bytes20' }, { 'name': '_participantAddress', 'type': 'address' }], 'name': 'createSwap', 'outputs': [], 'payable': true, 'stateMutability': 'payable', 'type': 'function' }, { 'constant': true, 'inputs': [], 'name': 'ratingContractAddress', 'outputs': [{ 'name': '', 'type': 'address' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': true, 'inputs': [{ 'name': '_ownerAddress', 'type': 'address' }], 'name': 'getBalance', 'outputs': [{ 'name': '', 'type': 'uint256' }], 'payable': false, 'stateMutability': 'view', 'type': 'function' }, { 'constant': false, 'inputs': [{ 'name': '_participantAddress', 'type': 'address' }], 'name': 'refund', 'outputs': [], 'payable': false, 'stateMutability': 'nonpayable', 'type': 'function' }, { 'inputs': [], 'payable': false, 'stateMutability': 'nonpayable', 'type': 'constructor' }, { 'anonymous': false, 'inputs': [{ 'indexed': false, 'name': 'createdAt', 'type': 'uint256' }], 'name': 'CreateSwap', 'type': 'event' }, { 'anonymous': false, 'inputs': [{ 'indexed': false, 'name': '_secret', 'type': 'bytes32' }, { 'indexed': false, 'name': 'addr', 'type': 'address' }, { 'indexed': false, 'name': 'amount', 'type': 'uint256' }], 'name': 'Withdraw', 'type': 'event' }, { 'anonymous': false, 'inputs': [], 'name': 'Close', 'type': 'event' }, { 'anonymous': false, 'inputs': [], 'name': 'Refund', 'type': 'event' }],
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.eth.fetchBalance(address);
      }
    }), new _swap10.BtcSwap({
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.btc.fetchBalance(address);
      },
      fetchUnspents: function fetchUnspents(scriptAddress) {
        return _actions2.default.btc.fetchUnspents(scriptAddress);
      },
      broadcastTx: function broadcastTx(txRaw) {
        return _actions2.default.btc.broadcastTx(txRaw);
      }
    }), new _swap10.LtcSwap({
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.ltc.fetchBalance(address);
      },
      fetchUnspents: function fetchUnspents(scriptAddress) {
        return _actions2.default.ltc.fetchUnspents(scriptAddress);
      },
      broadcastTx: function broadcastTx(txRaw) {
        return _actions2.default.ltc.broadcastTx(txRaw);
      },
      fetchTx: function fetchTx(hash) {
        return _actions2.default.ltc.fetchTx(hash);
      }
    }), new _swap10.EosSwap({
      swapAccount: _appConfig2.default.swapContract.eos,
      swapLockPeriod: 300 // safe time in seconds
    })].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return new _swap10.EthTokenSwap({
        name: key,
        tokenAbi: _humanStandardTokenAbi2.default,
        address: _appConfig2.default.swapContract.erc20,
        decimals: _appConfig2.default.erc20[key].decimals,
        tokenAddress: _appConfig2.default.erc20[key].address,
        fetchBalance: function fetchBalance(address) {
          return _actions2.default.token.fetchBalance(address, _appConfig2.default.erc20[key].address, _appConfig2.default.erc20[key].decimals);
        },
        abi: [{ "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "_ownerAddress", "type": "address" }], "name": "withdraw", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "getSecret", "outputs": [{ "name": "", "type": "bytes32" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }, { "name": "_targetWallet", "type": "address" }, { "name": "_value", "type": "uint256" }, { "name": "_token", "type": "address" }], "name": "createSwapTarget", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "participantAddress", "type": "address" }], "name": "withdrawNoMoney", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "address" }, { "name": "", "type": "address" }], "name": "swaps", "outputs": [{ "name": "token", "type": "address" }, { "name": "targetWallet", "type": "address" }, { "name": "secret", "type": "bytes32" }, { "name": "secretHash", "type": "bytes20" }, { "name": "createdAt", "type": "uint256" }, { "name": "balance", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }, { "name": "_value", "type": "uint256" }, { "name": "_token", "type": "address" }], "name": "createSwap", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "tokenOwnerAddress", "type": "address" }], "name": "getTargetWallet", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_ownerAddress", "type": "address" }], "name": "getBalance", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "refund", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "createdAt", "type": "uint256" }], "name": "CreateSwap", "type": "event" }, { "anonymous": false, "inputs": [], "name": "Withdraw", "type": "event" }, { "anonymous": false, "inputs": [], "name": "Refund", "type": "event" }]
      });
    }))),
    flows: [_swap9.ETH2BTC, _swap9.BTC2ETH, _swap9.ETH2LTC, _swap9.LTC2ETH, _swap9.LTC2BTC, _swap9.BTC2LTC, _swap9.EOS2BTC, _swap9.BTC2EOS].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.ETHTOKEN2BTC)(key);
    })), (0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.BTC2ETHTOKEN)(key);
    })), (0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.ETHTOKEN2USDT)(key);
    })), (0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.USDT2ETHTOKEN)(key);
    })))
  });

  // eslint-disable-next-line
   true ? _swap2.default._addSwap(new _swap10.UsdtSwap({
    assetId: 31, // USDT
    fetchBalance: function fetchBalance(address) {
      return _actions2.default.usdt.fetchBalance(address, 31).then(function (res) {
        return res.balance;
      });
    },
    fetchUnspents: function fetchUnspents(scriptAddress) {
      return _actions2.default.btc.fetchUnspents(scriptAddress);
    },
    broadcastTx: function broadcastTx(txRaw) {
      return _actions2.default.btc.broadcastTx(txRaw);
    },
    fetchTx: function fetchTx(hash) {
      return _actions2.default.btc.fetchTx(hash);
    }
  })) : null;

  window.swapApp = _swap2.default;
};

exports.createSwapApp = createSwapApp;

/***/ }),

/***/ 212:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TextArea = exports.Input = exports.FieldLabel = undefined;

var _FieldLabel = __webpack_require__(284);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _TextArea = __webpack_require__(830);

var _TextArea2 = _interopRequireDefault(_TextArea);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.FieldLabel = _FieldLabel2.default;
exports.Input = _Input2.default;
exports.TextArea = _TextArea2.default;

/***/ }),

/***/ 2143:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2145:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 22:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _modals = __webpack_require__(1669);

var _modals2 = _interopRequireDefault(_modals);

var _loader = __webpack_require__(1670);

var _loader2 = _interopRequireDefault(_loader);

var _notifications = __webpack_require__(1671);

var _notifications2 = _interopRequireDefault(_notifications);

var _user = __webpack_require__(1672);

var _user2 = _interopRequireDefault(_user);

var _feed = __webpack_require__(1674);

var _feed2 = _interopRequireDefault(_feed);

var _core = __webpack_require__(1675);

var _core2 = _interopRequireDefault(_core);

var _filter = __webpack_require__(1676);

var _filter2 = _interopRequireDefault(_filter);

var _btc = __webpack_require__(1677);

var _btc2 = _interopRequireDefault(_btc);

var _bch = __webpack_require__(1683);

var _bch2 = _interopRequireDefault(_bch);

var _ltc = __webpack_require__(1684);

var _ltc2 = _interopRequireDefault(_ltc);

var _eth = __webpack_require__(1685);

var _eth2 = _interopRequireDefault(_eth);

var _eos = __webpack_require__(1689);

var _eos2 = _interopRequireDefault(_eos);

var _tlos = __webpack_require__(1710);

var _tlos2 = _interopRequireDefault(_tlos);

var _token = __webpack_require__(1711);

var _token2 = _interopRequireDefault(_token);

var _nimiq = __webpack_require__(1712);

var _nimiq2 = _interopRequireDefault(_nimiq);

var _api = __webpack_require__(1714);

var _api2 = _interopRequireDefault(_api);

var _referral = __webpack_require__(781);

var _referral2 = _interopRequireDefault(_referral);

var _analytics = __webpack_require__(1715);

var _analytics2 = _interopRequireDefault(_analytics);

var _ipfs = __webpack_require__(1720);

var _ipfs2 = _interopRequireDefault(_ipfs);

var _usdt = __webpack_require__(1721);

var _usdt2 = _interopRequireDefault(_usdt);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var tokens = {};

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  tokens[key] = _token2.default;
});

exports.default = (0, _assign2.default)({}, tokens, {
  filter: _filter2.default,
  modals: _modals2.default,
  loader: _loader2.default,
  notifications: _notifications2.default,
  user: _user2.default,
  core: _core2.default,
  ltc: _ltc2.default,
  bch: _bch2.default,
  btc: _btc2.default,
  usdt: _usdt2.default,
  eth: _eth2.default,
  token: _token2.default,
  nimiq: _nimiq2.default,
  eos: _eos2.default,
  tlos: _tlos2.default,
  feed: _feed2.default,
  analytics: _analytics2.default,
  referral: _referral2.default,
  ipfs: _ipfs2.default,
  api: _api2.default
});

/***/ }),

/***/ 225:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(62);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Href = __webpack_require__(1900);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Href = function Href(_ref) {
  var children = _ref.children,
      to = _ref.to,
      redirect = _ref.redirect,
      tab = _ref.tab,
      rel = _ref.rel,
      className = _ref.className;

  if (to) {
    return _react2.default.createElement(
      _reactRouterDom.NavLink,
      { styleName: 'link' },
      children
    );
  }

  return _react2.default.createElement(
    'a',
    {
      styleName: 'link',
      className: className,
      href: redirect || tab,
      target: tab ? '_blank' : null,
      rel: rel || null
    },
    children
  );
};

Href.propTypes = {
  children: _propTypes2.default.node.isRequired,
  to: _propTypes2.default.string,
  redirect: _propTypes2.default.string,
  tab: _propTypes2.default.string,
  rel: _propTypes2.default.string,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Href, _Href2.default);

/***/ }),

/***/ 226:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _Tooltip = __webpack_require__(1957);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Tooltip = function Tooltip(_ref) {
  var text = _ref.text;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'span',
      { 'data-tip': text, styleName: 'tooltip' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Tooltip11', defaultMessage: '?' })
    ),
    _react2.default.createElement(_reactTooltip2.default, { effect: 'solid', type: 'light', multiline: true })
  );
};

exports.default = (0, _reactCssModules2.default)(Tooltip, _Tooltip2.default);

/***/ }),

/***/ 227:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"table":"_18lfg0","color":"cbmQ26","wallet":"_3f2xoz","exchange":"_1E6Kgf","historySwap":"_2VKg9V","history":"mc5i5B","mobileThead":"_15tnNH"};

/***/ }),

/***/ 2345:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2398:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2450:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2545:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2559:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2586:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2593:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2595:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2620:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2657:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2681:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2683:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2690:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2692:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2702:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2734:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2771:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 281:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Center = __webpack_require__(1920);

var _Center2 = _interopRequireDefault(_Center);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Center = function Center(_ref) {
  var children = _ref.children,
      scrollable = _ref.scrollable,
      centerHorizontally = _ref.centerHorizontally,
      centerVertically = _ref.centerVertically,
      keepFontSize = _ref.keepFontSize,
      relative = _ref.relative,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'scrollable', 'centerHorizontally', 'centerVertically', 'keepFontSize', 'relative']);

  // TODO move overflow to Modal and any other cases where it belongs
  var styleName = (0, _classnames2.default)('centringContainer', {
    'scrollable': scrollable,
    'centerHorizontally': centerHorizontally,
    'centerVertically': centerVertically,
    'keepFontSize': keepFontSize,
    'relative': relative
  });

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: styleName }, rest),
    _react2.default.createElement(
      'div',
      { styleName: 'centringContent' },
      children
    )
  );
};

Center.propTypes = {
  relative: _propTypes2.default.bool,
  children: _propTypes2.default.node,
  scrollable: _propTypes2.default.bool,
  keepFontSize: _propTypes2.default.bool,
  centerVertically: _propTypes2.default.bool,
  centerHorizontally: _propTypes2.default.bool
};

Center.defaultProps = {
  relative: false,
  scrollable: false,
  keepFontSize: false,
  centerVertically: true,
  centerHorizontally: true
};

exports.default = (0, _reactCssModules2.default)(Center, _Center2.default, { allowMultiple: true });

/***/ }),

/***/ 282:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Coins = __webpack_require__(1977);

var _Coins2 = _interopRequireDefault(_Coins);

var _Coin = __webpack_require__(370);

var _Coin2 = _interopRequireDefault(_Coin);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Coins = function Coins(_ref) {
  var className = _ref.className,
      names = _ref.names,
      size = _ref.size;
  return _react2.default.createElement(
    'div',
    { styleName: 'coins', className: className },
    _react2.default.createElement(_Coin2.default, { name: names[0], size: size }),
    _react2.default.createElement(_Coin2.default, { name: names[1], size: size })
  );
};

Coins.defaultProps = {
  size: 40
};

Coins.propTypes = {
  names: _propTypes2.default.array.isRequired,
  size: _propTypes2.default.number,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Coins, _Coins2.default);

/***/ }),

/***/ 283:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WidthContainer = __webpack_require__(1999);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var WidthContainer = function WidthContainer(_ref) {
  var children = _ref.children,
      className = _ref.className,
      main = _ref.main,
      fullHeight = _ref.fullHeight,
      relative = _ref.relative,
      contentCentering = _ref.contentCentering,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'className', 'main', 'fullHeight', 'relative', 'contentCentering']);

  var containerStyleName = (0, _classnames2.default)('widthContainer', {
    'main': main,
    'fullHeight': fullHeight,
    'centeringContent': contentCentering
  });

  if (fullHeight || relative) {
    var containerInStyleName = (0, _classnames2.default)('widthContainerIn', {
      'fullHeight': fullHeight,
      'relative': relative
    });

    return _react2.default.createElement(
      'div',
      (0, _extends3.default)({ styleName: containerStyleName, className: className }, rest),
      _react2.default.createElement(
        'div',
        { styleName: containerInStyleName },
        children
      )
    );
  }

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: containerStyleName, className: className }, rest),
    children
  );
};

WidthContainer.propTypes = {
  children: _propTypes2.default.node,
  main: _propTypes2.default.bool, // uses for main container between header and footer with vertical paddings
  fullHeight: _propTypes2.default.bool,
  relative: _propTypes2.default.bool,
  contentCentering: _propTypes2.default.bool,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(WidthContainer, _WidthContainer2.default, { allowMultiple: true });

/***/ }),

/***/ 2839:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 284:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FieldLabel = __webpack_require__(2033);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FieldLabel = function FieldLabel(_ref) {
  var children = _ref.children,
      inRow = _ref.inRow;
  return _react2.default.createElement(
    'div',
    { styleName: (0, _classnames2.default)('label', { 'inRow': inRow }) },
    children
  );
};

FieldLabel.propTypes = {
  children: _propTypes2.default.element.isRequired,
  inRow: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(FieldLabel, _FieldLabel2.default, { allowMultiple: true });

/***/ }),

/***/ 2981:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2993:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2995:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 30:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// resolve object in webpack
exports.default = {"propENV":"mainnet.prod","paths":{},"publicPath":"https://swap.online/","http":{"host":"localhost","port":9001},"i18nDate":{"month":"long","day":"numeric","hour":"numeric","minute":"numeric"},"env":"production","entry":"mainnet","local":"online","dir":"mainnet","base":"https://swap.online/","web3":{"provider":"https://mainnet.infura.io/5lcMmHUURYg8F20GLGSr"},"link":{"bitpay":"https://insight.bitpay.com","etherscan":"https://etherscan.io","eos":"https://eospark.com/MainNet","tlos":"http://testnet.telosfoundation.io","omniexplorer":"https://www.omniexplorer.info","bch":"https://bch-insight.bitpay.com/#","ltc":"https://ltc.coinapp.io/"},"api":{"blocktrail":"https://api.blocktrail.com/v1/BTC","bitpay":"https://insight.bitpay.com/api","etherscan":"https://api.etherscan.io/api","bch":"https://bch-insight.bitpay.com/api","ltc":"https://ltc.coinapp.io/api","eos":{"chainId":"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","httpEndpoint":"https://api.eosnewyork.io","registerEndpoint":"https://seven.swap.online/eos-mainnet/buyaccount","buyAccountPriceInBTC":0.01,"buyAccountPaymentRecipient":"14xdPidvcTWhNEF4uNpYtdQFALALNdDVWD"},"telos":{"chainId":"6c8aacc339bf1567743eb9c8ab4d933173aa6dca4ae6b6180a849c422f5bb207","httpEndpoint":"https://seven.swap.online/telos-endpoint","registerEndpoint":"https://seven.swap.online/telos-testnet/newaccount"}},"ipfs":{"swarm":"/dns4/discovery.libp2p.array.io/tcp/9091/wss/p2p-websocket-star/","server":"discovery.libp2p.array.io"},"erc20":{"swap":{"address":"0x14a52cf6B4F68431bd5D9524E4fcD6F41ce4ADe9","decimals":18,"fullName":"swap"},"lev":{"address":"0x0f4ca92660efad97a9a70cb0fe969c755439772c","decimals":9,"fullName":"Leverj"},"drt":{"address":"0x9af4f26941677c706cfecf6d3379ff01bb85d5ab","decimals":8,"fullName":"DomRaider"},"syc2":{"address":"0x49feeF410293261c04F1d14600Ba427F8eED8723","decimals":2,"fullName":"Synexcoin2"},"arn":{"address":"0xBA5F11b16B155792Cf3B2E6880E8706859A8AEB6","decimals":8,"fullName":"Aeron"},"deb":{"address":"0x151202c9c18e495656f372281f493eb7698961d5","decimals":18,"fullName":"Debitum"},"gusd":{"address":"0x056fd409e1d7a124bd7017459dfea2f387b6d5cd","decimals":2,"fullName":"Gemini dollar"},"kn":{"address":"0xbfd18F20423694a69e35d65cB9c9D74396CC2c2d","decimals":18,"fullName":"Know"},"yup":{"address":"0xD9A12Cde03a86E800496469858De8581D3A5353d","decimals":18,"fullName":"Yupie"},"jot":{"address":"0xdb455c71c1bc2de4e80ca451184041ef32054001","decimals":18,"fullName":"Jury"},"noxon":{"address":"0x9E4AD79049282F942c1b4c9b418F0357A0637017","decimals":0,"fullName":"noxon"},"bxb":{"address":"0x60cbB964Db3f60D14f0d00B5109BccFB01981Aca","decimals":18,"fullName":"Bobcoin"},"dcn":{"address":"0x08d32b0da63e2C3bcF8019c9c5d849d7a9d791e6","decimals":0,"fullName":"Dentacoin"},"mbrs":{"address":"0x386467F1f3ddbE832448650418311a479EECFC57","decimals":0,"fullName":"Embers"},"sct":{"address":"0x63b992e6246d88f07fc35a056d2c365e6d441a3d","decimals":18,"fullName":"Soma"},"nexo":{"address":"0xb62132e35a6c13ee1ee0f84dc5d40bad8d815206","decimals":18,"fullName":"nexo"},"btrm":{"address":"0xae72146eb535607ee79f5d8834303ea18751845f","decimals":18,"fullName":"Betrium"},"bnty":{"address":"0xd2d6158683aee4cc838067727209a0aaf4359de3","decimals":18,"fullName":"Bounty0x"},"pbl":{"address":"0x55648de19836338549130b1af587f16bea46f66b","decimals":18,"fullName":"Publica"},"senc":{"address":"0xa13f0743951b4f6e3e3aa039f682e17279f52bc3","decimals":18,"fullName":"Sentinel Chain"},"mth":{"address":"0xaf4dce16da2877f8c9e00544c93b62ac40631f16","decimals":5,"fullName":"Meritage"},"star":{"address":"0xf70a642bd387f94380ffb90451c2c81d4eb82cbc","decimals":18,"fullName":"Starbase"},"xyo":{"address":"0x55296f69f40ea6d20e478533c15a6b08b654e758","decimals":18,"fullName":"XY Oracle"},"xnk":{"address":"0xbc86727e770de68b1060c91f6bb6945c73e10388","decimals":18,"fullName":"Link Protocol"},"loc":{"address":"0x5e3346444010135322268a4630d2ed5f8d09446c","decimals":18,"fullName":"LockTrip"},"key":{"address":"0x4cc19356f2d37338b9802aa8e8fc58b0373296e7","decimals":18,"fullName":"SelfKey"},"dai":{"address":"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","decimals":18,"fullName":"Dai StableCoin"},"tnt":{"address":"0x08f5a9235b08173b7569f83645d2c7fb55e8ccd8","decimals":8,"fullName":"Tierion Network"},"avt":{"address":"0x0d88ed6e74bbfd96b831231638b66c05571e824f","decimals":18,"fullName":"Aventus Protocol"},"hbt":{"address":"0xdd6c68bb32462e01705011a4e2ad1a60740f217f","decimals":15,"fullName":"Hubiits"},"view":{"address":"0xf03f8d65bafa598611c3495124093c56e8f638f0","decimals":18,"fullName":"View"},"cs":{"address":"0x46b9ad944d1059450da1163511069c718f699d31","decimals":18,"fullName":"Credits"},"pix":{"address":"0x8eFFd494eB698cc399AF6231fCcd39E08fd20B15","decimals":0,"fullName":"PIX Token"},"gen":{"address":"0x543ff227f64aa17ea132bf9886cab5db55dcaddf","decimals":18,"fullName":"DAO Stack"},"data":{"address":"0x0cf0ee63788a0849fe5297f3407f701e122cc023","decimals":18,"fullName":"Streamr DATAcoin"},"gai":{"address":"0x74f276ca78133e156f52f8fe7b2d003f4e321aaa","decimals":5,"fullName":"GraphGrail Ai"},"emtv":{"address":"0x07a7ed332c595b53a317afcee50733af571475e7","decimals":18,"fullName":"Multiversum"},"cgc":{"address":"0x2d9765a94ff22e0ca3afc3e3f4b116de2b67582a","decimals":16,"fullName":"CGCOINS"}},"swapContract":{"erc20":"0x30f85eBCFAc9f6Dd69503955e95ab7F55Fa3fDeC","eth":"0x843FcaAeb0Cce5FFaf272F5F2ddFFf3603F9c2A0","eos":"swaponline42"}};

/***/ }),

/***/ 3026:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3040:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3042:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3046:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3099:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3155:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./": 438,
	"./SwapAuth": 649,
	"./SwapAuth.js": 649,
	"./btc": 1230,
	"./btc.js": 1230,
	"./eos": 1231,
	"./eos.js": 1231,
	"./eth": 1232,
	"./eth.js": 1232,
	"./index": 438,
	"./index.js": 438,
	"./ltc": 1233,
	"./ltc.js": 1233
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 3155;

/***/ }),

/***/ 3156:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _typeof2 = __webpack_require__(213);

var _typeof3 = _interopRequireDefault(_typeof2);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapRoom = function (_ServiceInterface) {
  (0, _inherits3.default)(SwapRoom, _ServiceInterface);
  (0, _createClass3.default)(SwapRoom, null, [{
    key: 'name',
    get: function get() {
      return 'room';
    }
  }]);

  function SwapRoom(config) {
    (0, _classCallCheck3.default)(this, SwapRoom);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapRoom.__proto__ || (0, _getPrototypeOf2.default)(SwapRoom)).call(this));

    _this._handleUserOnline = function (peer) {
      if (peer !== _this.peer) {
        _this._events.dispatch('user online', peer);
      }
    };

    _this._handleUserOffline = function (peer) {
      if (peer !== _this.peer) {
        _this._events.dispatch('user offline', peer);
      }
    };

    _this._handleNewMessage = function (message) {
      console.log('message', message);
      var from = message.from,
          rawData = message.data;


      if (from === _this.peer) {
        return;
      }

      var parsedData = void 0;

      try {
        parsedData = JSON.parse(rawData.toString());
      } catch (err) {
        console.error('parse message data err:', err);
      }

      var _parsedData = parsedData,
          fromAddress = _parsedData.fromAddress,
          data = _parsedData.data,
          sign = _parsedData.sign,
          event = _parsedData.event,
          action = _parsedData.action;


      if (!data) {
        return;
      }

      console.log('parsedData', parsedData);

      var recover = _this._recoverMessage(data, sign);

      if (recover !== fromAddress) {
        console.error('Wrong message sign! Message from: ' + fromAddress + ', recover: ' + recover);
        return;
      }

      if (action === 'active') {
        _this.acknowledgeReceipt(parsedData);
      }

      _this._events.dispatch(event, (0, _extends3.default)({
        fromPeer: from
      }, data));
    };

    if (!config || (typeof config === 'undefined' ? 'undefined' : (0, _typeof3.default)(config)) !== 'object' || (0, _typeof3.default)(config.config) !== 'object') {
      throw new Error('SwapRoomService: "config" of type object required');
    }

    _this._serviceName = 'room';
    _this._config = config;
    _this._events = new _swap.Events();
    _this.peer = null;
    _this.connection = null;
    _this.roomName = null;
    return _this;
  }

  (0, _createClass3.default)(SwapRoom, [{
    key: 'initService',
    value: function initService() {
      var _this2 = this;

      if (!_swap2.default.env.Ipfs) {
        throw new Error('SwapRoomService: Ipfs required');
      }
      if (!_swap2.default.env.IpfsRoom) {
        throw new Error('SwapRoomService: IpfsRoom required');
      }

      var _config = this._config,
          roomName = _config.roomName,
          EXPERIMENTAL = _config.EXPERIMENTAL,
          config = (0, _objectWithoutProperties3.default)(_config, ['roomName', 'EXPERIMENTAL']);


      var ipfs = new _swap2.default.env.Ipfs((0, _extends3.default)({
        EXPERIMENTAL: {
          pubsub: true
        }
      }, config)).on('ready', function () {
        return ipfs.id(function (err, info) {
          console.info('IPFS ready!');

          if (err) {
            throw err;
          }

          _this2._init({
            peer: info.id,
            ipfsConnection: ipfs
          });
        });
      }).on('error', function (err) {
        console.log('IPFS error!', err);
      });
    }
  }, {
    key: '_init',
    value: function _init(_ref) {
      var _this3 = this;

      var peer = _ref.peer,
          ipfsConnection = _ref.ipfsConnection;

      if (!ipfsConnection) {
        setTimeout(function () {
          _this3._init({ peer: peer, ipfsConnection: ipfsConnection });
        }, 999);
        return;
      }

      this.peer = peer;

      var defaultRoomName = _swap2.default.isMainNet() ? 'swap.online' : 'testnet.swap.online';

      this.roomName = this._config.roomName || defaultRoomName;

      console.log('Using room: ' + this.roomName);

      this.connection = _swap2.default.env.IpfsRoom(ipfsConnection, this.roomName, {
        pollInterval: 1000
      });

      this.connection.on('peer joined', this._handleUserOnline);
      this.connection.on('peer left', this._handleUserOffline);
      this.connection.on('message', this._handleNewMessage);

      this._events.dispatch('ready');
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      this._events.subscribe(eventName, handler);
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      this._events.unsubscribe(eventName, handler);
    }
  }, {
    key: 'once',
    value: function once(eventName, handler) {
      this._events.once(eventName, handler);
    }
  }, {
    key: 'subscribe',
    value: function subscribe(eventName, handler) {
      this._events.subscribe(eventName, handler);
    }
  }, {
    key: 'unsubscribe',
    value: function unsubscribe(eventName, handler) {
      this._events.unsubscribe(eventName, handler);
    }
  }, {
    key: '_recoverMessage',
    value: function _recoverMessage(message, sign) {
      var hash = _swap2.default.env.web3.utils.soliditySha3((0, _stringify2.default)(message));
      var recover = _swap2.default.env.web3.eth.accounts.recover(hash, sign.signature);

      return recover;
    }
  }, {
    key: '_signMessage',
    value: function _signMessage(message) {
      var hash = _swap2.default.env.web3.utils.soliditySha3((0, _stringify2.default)(message));
      var sign = _swap2.default.env.web3.eth.accounts.sign(hash, _swap2.default.services.auth.accounts.eth.privateKey);

      return sign;
    }
  }, {
    key: 'checkReceiving',
    value: function checkReceiving(message, callback) {
      var _this4 = this;

      var address = message.fromAddress;

      var waitReceipt = function waitReceipt(data) {
        if (!data.action || data.action !== 'confirmation') {
          return;
        }

        if ((0, _stringify2.default)(message.data) === (0, _stringify2.default)(data.message)) {
          _this4.unsubscribe(address, waitReceipt);

          if (_this4.CheckReceiptsT[message.peer]) {
            clearTimeout(_this4.CheckReceiptsT[message.peer]);
          }

          callback(true);
        }
      };

      this.subscribe(address, waitReceipt);

      if (!this.CheckReceiptsT) {
        this.CheckReceiptsT = {};
      }

      this.CheckReceiptsT[message.peer] = setTimeout(function () {
        _this4.unsubscribe(address, waitReceipt);

        callback(false);
      }, 15000);
    }
  }, {
    key: 'sendConfirmation',
    value: function sendConfirmation(peer, message) {
      var _this5 = this;

      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var repeat = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 9;


      if (!this.connection) {
        setTimeout(function () {
          _this5.sendConfirmation(peer, message, callback, repeat);
        }, 1000);
        return;
      }

      if (message.action === 'confirmation' && peer !== this.peer) {
        return;
      }

      message = this.sendMessagePeer(peer, message);

      this.checkReceiving(message, function (delivered) {
        if (!delivered && repeat > 0) {
          repeat--;
          setTimeout(function () {
            _this5.sendConfirmation(peer, message, callback, repeat);
          }, 1000);
          return;
        }

        if (callback) callback(delivered);
      });
    }
  }, {
    key: 'acknowledgeReceipt',
    value: function acknowledgeReceipt(message) {
      if (!message.peer || !message.action || message.action === 'confirmation' || message.action === 'active') {
        return;
      }

      var fromAddress = message.fromAddress,
          data = message.data;


      this.sendMessagePeer(fromAddress, {
        action: 'confirmation',
        data: data
      });
    }
  }, {
    key: 'sendMessagePeer',
    value: function sendMessagePeer(peer, message) {
      var _this6 = this;

      if (!this.connection) {
        if (message.action !== 'active') {
          setTimeout(function () {
            _this6.sendMessagePeer(peer, message);
          }, 999);
        }
        return;
      }

      console.log('peer', peer);
      console.log('message', message);

      var data = message.data,
          event = message.event;

      var sign = this._signMessage(data);

      this.connection.sendTo(peer, (0, _stringify2.default)({
        fromAddress: _swap2.default.services.auth.accounts.eth.address,
        data: data,
        event: event,
        sign: sign
      }));

      return message;
    }
  }, {
    key: 'sendMessageRoom',
    value: function sendMessageRoom(message) {
      var data = message.data,
          event = message.event;

      var sign = this._signMessage(data);

      this.connection.broadcast((0, _stringify2.default)({
        fromAddress: _swap2.default.services.auth.accounts.eth.address,
        data: data,
        event: event,
        sign: sign
      }));
    }
  }]);
  return SwapRoom;
}(_swap.ServiceInterface);

exports.default = SwapRoom;
module.exports = exports['default'];

/***/ }),

/***/ 3157:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapOrders = __webpack_require__(3158);

var _SwapOrders2 = _interopRequireDefault(_SwapOrders);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapOrders2.default;
module.exports = exports['default'];

/***/ }),

/***/ 3158:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(650);

var _swap4 = _interopRequireDefault(_swap3);

var _aggregation2 = __webpack_require__(3159);

var _aggregation3 = _interopRequireDefault(_aggregation2);

var _events = __webpack_require__(1235);

var _events2 = _interopRequireDefault(_events);

var _Order = __webpack_require__(3167);

var _Order2 = _interopRequireDefault(_Order);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getUniqueId = function () {
  var id = Date.now();
  return function () {
    return _swap2.default.services.room.peer + '-' + ++id;
  };
}();

var checkIncomeOrderFormat = function checkIncomeOrderFormat(order) {
  var format = {
    id: '?String',
    owner: (0, _extends3.default)({
      peer: 'String',
      reputation: _swap.util.typeforce.t.maybe(_swap.util.typeforce.isNumeric)
    }, function () {
      var result = {};
      (0, _keys2.default)(_swap.constants.COINS).forEach(function (key) {
        result[key] = _swap.util.typeforce.t.maybe({
          address: _swap.util.typeforce.isCoinAddress[_swap.constants.COINS[key]],
          publicKey: _swap.util.typeforce.isPublicKey[_swap.constants.COINS[key]]
        });
      });
      return result;
    }()),
    buyCurrency: _swap.util.typeforce.isCoinName,
    sellCurrency: _swap.util.typeforce.isCoinName,
    buyAmount: _swap.util.typeforce.isNumeric,
    sellAmount: _swap.util.typeforce.isNumeric,
    exchangeRate: _swap.util.typeforce.t.maybe(_swap.util.typeforce.isNumeric),
    isProcessing: '?Boolean',
    isRequested: '?Boolean',
    isPartialClosure: '?Boolean',
    destinationBuyAddress: _swap.util.typeforce.t.maybe('String'),
    destinationSellAddress: _swap.util.typeforce.t.maybe('String')
  };

  var isValid = _swap.util.typeforce.check(format, order, true);

  if (!isValid) {
    console.log('Wrong income order format. Excepted:', format, 'got:', order);
  }

  return isValid;
};

var checkIncomeOrderOwner = function checkIncomeOrderOwner(_ref, fromPeer) {
  var peer = _ref.owner.peer;
  return peer === fromPeer;
};

var checkIncomeOrder = function checkIncomeOrder(order, fromPeer) {
  var isFormatValid = checkIncomeOrderFormat(order);
  var isOwnerValid = checkIncomeOrderOwner(order, fromPeer);

  return isFormatValid && isOwnerValid;
};

var SwapOrders = function (_aggregation) {
  (0, _inherits3.default)(SwapOrders, _aggregation);
  (0, _createClass3.default)(SwapOrders, null, [{
    key: 'name',
    get: function get() {
      return 'orders';
    }
  }]);

  function SwapOrders() {
    (0, _classCallCheck3.default)(this, SwapOrders);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapOrders.__proto__ || (0, _getPrototypeOf2.default)(SwapOrders)).call(this));

    _this._handleReady = function () {
      _this._persistMyOrders();
    };

    _this._handleUserOnline = function (peer) {
      var myOrders = _this.getMyOrders();

      if (myOrders.length) {
        // clean orders from other additional props
        myOrders = myOrders.map(function (item) {
          return _swap.util.pullProps(item, 'id', 'owner', 'buyCurrency', 'sellCurrency', 'buyAmount', 'exchangeRate', 'sellAmount', 'isRequested', 'isProcessing', 'isPartialClosure', 'destinationBuyAddress', 'destinationSellAddress');
        });

        _swap2.default.services.room.sendMessagePeer(peer, {
          event: 'new orders',
          data: {
            orders: myOrders
          }
        });
      }
    };

    _this._handleUserOffline = function (peer) {
      var peerOrders = _this.getPeerOrders(peer);

      if (peerOrders.length) {
        peerOrders.forEach(function (_ref2) {
          var id = _ref2.id;

          _this._handleRemove(id);
        });
      }
    };

    _this._handleNewOrders = function (_ref3) {
      var fromPeer = _ref3.fromPeer,
          orders = _ref3.orders;

      // ductape to check if such orders already exist
      var filteredOrders = orders.filter(function (_ref4) {
        var id = _ref4.id,
            peer = _ref4.owner.peer;
        return !_this.getByKey(id) && peer === fromPeer;
      });

      _this._handleMultipleCreate({ orders: filteredOrders, fromPeer: fromPeer });
    };

    _this._handleNewOrder = function (_ref5) {
      var fromPeer = _ref5.fromPeer,
          order = _ref5.order;

      if (order && order.owner && order.owner.peer === fromPeer) {
        if (checkIncomeOrder(order, fromPeer)) {
          _this._handleCreate(order);
        }
      }
    };

    _this._handleRemoveOrder = function (_ref6) {
      var fromPeer = _ref6.fromPeer,
          orderId = _ref6.orderId;

      var order = _this.getByKey(orderId);

      if (order && order.owner && order.owner.peer === fromPeer) {
        _this._handleRemove(orderId);
      }
    };

    _this._serviceName = 'orders';
    _this._dependsOn = [_swap4.default];
    return _this;
  }

  (0, _createClass3.default)(SwapOrders, [{
    key: 'initService',
    value: function initService() {
      _swap2.default.services.room.on('ready', this._handleReady);
      _swap2.default.services.room.on('user online', this._handleUserOnline);
      _swap2.default.services.room.on('user offline', this._handleUserOffline);
      _swap2.default.services.room.on('new orders', this._handleNewOrders);
      _swap2.default.services.room.on('new order', this._handleNewOrder);
      _swap2.default.services.room.on('remove order', this._handleRemoveOrder);
    }
  }, {
    key: '_persistMyOrders',
    value: function _persistMyOrders() {
      var _this2 = this;

      this.getMyOrders().forEach(function (orderData) {
        _this2._handleCreate(orderData);
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.id
     * @param {object} data.owner
     * @param {string} data.owner.peer
     * @param {number} data.owner.reputation
     * @param {object} data.owner.<currency>
     * @param {string} data.owner.<currency>.address
     * @param {string} data.owner.<currency>.publicKey
     * @param {string} data.buyCurrency
     * @param {string} data.sellCurrency
     * @param {number} data.buyAmount
     * @param {number} data.sellAmount
     * @param {boolean} data.isProcessing
     * @param {boolean} data.isRequested
     */

  }, {
    key: '_create',
    value: function _create(data) {
      var id = data.id,
          buyAmount = data.buyAmount,
          sellAmount = data.sellAmount,
          buyCurrency = data.buyCurrency,
          sellCurrency = data.sellCurrency,
          rest = (0, _objectWithoutProperties3.default)(data, ['id', 'buyAmount', 'sellAmount', 'buyCurrency', 'sellCurrency']);


      var order = new _Order2.default(this, (0, _extends3.default)({
        id: id || getUniqueId(),
        buyAmount: new _bignumber2.default(String(buyAmount)),
        sellAmount: new _bignumber2.default(String(sellAmount)),
        buyCurrency: buyCurrency.toUpperCase(),
        sellCurrency: sellCurrency.toUpperCase()
      }, rest));

      this.append(order, order.id);

      return order;
    }
  }, {
    key: '_handleCreate',
    value: function _handleCreate(data) {
      var order = this._create(data);

      if (order) {
        _events2.default.dispatch('new order', order);
      }
    }
  }, {
    key: '_handleMultipleCreate',
    value: function _handleMultipleCreate(_ref7) {
      var _this3 = this;

      var orders = _ref7.orders,
          fromPeer = _ref7.fromPeer;

      var newOrders = [];

      orders.forEach(function (data) {
        if (checkIncomeOrder(data, fromPeer)) {
          var order = _this3._create(data);

          newOrders.push(order);
        }
      });

      if (newOrders.length) {
        _events2.default.dispatch('new orders', newOrders);
      }
    }

    /**
     *
     * @param {string} orderId
     */

  }, {
    key: '_handleRemove',
    value: function _handleRemove(orderId) {
      try {
        var order = this.getByKey(orderId);

        if (order) {
          this.removeByKey(orderId);
          _events2.default.dispatch('remove order', order);
        }
      } catch (err) {}
    }
  }, {
    key: '_saveMyOrders',
    value: function _saveMyOrders() {
      var myOrders = this.items.filter(function (_ref8) {
        var peer = _ref8.owner.peer;
        return peer === _swap2.default.services.room.peer;
      });

      // clean orders from other additional props
      // TODO need to add functionality to sync `requests` for users who going offline / online
      // problem: when I going online and persisting my orders need to show only online users requests,
      // but then user comes online need to change status. Ofc we can leave this bcs developers can do this themselves
      // with filters - skip requests where user is offline, but it looks like not very good
      myOrders = myOrders.map(function (item) {
        return _swap.util.pullProps(item, 'id', 'owner', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'exchangeRate', 'participant', 'requests', 'isRequested', 'isProcessing', 'isPartialClosure', 'destinationBuyAddress', 'destinationSellAddress');
      });

      _swap2.default.env.storage.setItem('myOrders', myOrders);
    }
  }, {
    key: 'getMyOrders',
    value: function getMyOrders() {
      return _swap2.default.env.storage.getItem('myOrders') || [];
    }
  }, {
    key: 'getPeerOrders',
    value: function getPeerOrders(peer) {
      return this.items.filter(function (_ref9) {
        var owner = _ref9.owner;
        return peer === owner.peer;
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.buyCurrency
     * @param {string} data.sellCurrency
     * @param {number} data.buyAmount
     * @param {number} data.sellAmount
     */

  }, {
    key: 'create',
    value: function create(data) {
      var order = this._create((0, _extends3.default)({}, data, {
        owner: _swap2.default.services.auth.getPublicData()
      }));
      this._saveMyOrders();

      _swap2.default.services.room.sendMessageRoom({
        event: 'new order',
        data: {
          order: _swap.util.pullProps(order, 'id', 'owner', 'buyCurrency', 'exchangeRate', 'sellCurrency', 'buyAmount', 'sellAmount', 'isRequested', 'isProcessing', 'isPartialClosure', 'destinationBuyAddress', 'destinationSellAddress')
        }
      });

      return order;
    }

    /**
     *
     * @param {string} orderId
     */

  }, {
    key: 'remove',
    value: function remove(orderId) {
      this.removeByKey(orderId);
      _swap2.default.services.room.sendMessageRoom({
        event: 'remove order',
        data: {
          orderId: orderId
        }
      });
      this._saveMyOrders();
    }

    /**
     *
     * @param {String} event
     * @param {String} peer
     * @param {Object} data
     * @param {function} callback
     */

  }, {
    key: 'requestToPeer',
    value: function requestToPeer(event, peer, data, callback) {
      _swap2.default.services.room.sendMessagePeer(peer, {
        event: event,
        data: data
      });

      if (!callback) {
        return;
      }

      _swap2.default.services.room.on('accept request', function (_ref10) {
        var fromPeer = _ref10.fromPeer,
            orderId = _ref10.orderId;

        console.log('requestToPeer accept request', fromPeer);
        if (peer === fromPeer) {
          this.unsubscribe();

          console.log('requestToPeer IF');

          callback(orderId);
        }
      });

      _swap2.default.services.room.on('decline request', function (_ref11) {
        var fromPeer = _ref11.fromPeer;

        if (peer === fromPeer) {
          this.unsubscribe();

          callback(false);
        }
      });
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      _events2.default.subscribe(eventName, handler);
      return this;
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      _events2.default.unsubscribe(eventName, handler);
      return this;
    }
  }]);
  return SwapOrders;
}((0, _aggregation3.default)(_swap.ServiceInterface, _swap.Collection));

exports.default = SwapOrders;
module.exports = exports['default'];

/***/ }),

/***/ 3159:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = __webpack_require__(1234);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(459);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertySymbols = __webpack_require__(3162);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

var _getOwnPropertyNames = __webpack_require__(3164);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
 Allows multiple extending
 */

var aggregation = function aggregation(baseClass) {
  for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    mixins[_key - 1] = arguments[_key];
  }

  var base = function (_baseClass) {
    (0, _inherits3.default)(_Combined, _baseClass);

    function _Combined() {
      var _ref;

      (0, _classCallCheck3.default)(this, _Combined);

      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = _Combined.__proto__ || (0, _getPrototypeOf2.default)(_Combined)).call.apply(_ref, [this].concat(args)));

      mixins.forEach(function (mixin) {
        mixin.prototype._constructor.call(_this);
      });
      return _this;
    }

    return _Combined;
  }(baseClass);

  var copyProps = function copyProps(target, source) {
    (0, _getOwnPropertyNames2.default)(source).concat((0, _getOwnPropertySymbols2.default)(source)).forEach(function (prop) {
      if (prop.match(/^(?:_?constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
        return;
      }

      (0, _defineProperty2.default)(target, prop, (0, _getOwnPropertyDescriptor2.default)(source, prop));
    });
  };

  mixins.forEach(function (mixin) {
    copyProps(base.prototype, mixin.prototype);
    copyProps(base, mixin);
  });

  return base;
};

exports.default = aggregation;
module.exports = exports["default"];

/***/ }),

/***/ 3167:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _events = __webpack_require__(1235);

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Order = function () {

  /**
   *
   * @param {object}  parent
   * @param {object}  data
   * @param {string}  data.id
   * @param {object}  data.owner
   * @param {string}  data.owner.peer
   * @param {number}  data.owner.reputation
   * @param {object}  data.owner.<currency>
   * @param {string}  data.owner.<currency>.address
   * @param {string}  data.owner.<currency>.publicKey
   * @param {string}  data.buyCurrency
   * @param {string}  data.sellCurrency
   * @param {number}  data.buyAmount
   * @param {number}  data.sellAmount
   */
  function Order(parent, data) {
    (0, _classCallCheck3.default)(this, Order);

    this.id = data.id;
    this.isMy = null;
    this.owner = null;
    this.participant = null;
    this.buyCurrency = null;
    this.exchangeRate = null;
    this.sellCurrency = null;
    this.buyAmount = null;
    this.sellAmount = null;

    this.collection = parent;
    this.requests = []; // income requests
    this.isRequested = false; // outcome request status
    this.isProcessing = false; // if swap isProcessing
    this.isPartialClosure = false;
    this.destinationBuyAddress = null; // (!my Buy==Sell)
    this.destinationSellAddress = null; // (!my Sell==Buy)

    this._update((0, _extends3.default)({}, data, {
      isMy: data.owner.peer === _swap2.default.services.room.peer
    }));

    this._onMount();
  }

  (0, _createClass3.default)(Order, [{
    key: '_onMount',
    value: function _onMount() {
      var _this = this;

      _swap2.default.services.room.on('request swap', function (_ref) {
        var orderId = _ref.orderId,
            participant = _ref.participant;

        if (orderId === _this.id && !_this.requests.find(function (_ref2) {
          var peer = _ref2.peer;
          return peer === participant.peer;
        })) {
          _this.requests.push(participant);

          _events2.default.dispatch('new order request', {
            orderId: orderId,
            participant: participant
          });
        }
      });
    }
  }, {
    key: '_update',
    value: function _update(values) {
      var _this2 = this;

      (0, _keys2.default)(values).forEach(function (key) {
        _this2[key] = values[key];
      });
    }
  }, {
    key: 'update',
    value: function update(values) {
      this._update(values);
      this.collection._saveMyOrders();

      _events2.default.dispatch('swap update', this, values);
    }

    /**
     *
     * @param callback - awaiting for response - accept / decline
     */

  }, {
    key: 'sendRequest',
    value: function sendRequest(callback) {
      var self = this;

      if (_swap2.default.services.room.peer === this.owner.peer) {
        console.warn('You are the owner of this Order. You can\'t send request to yourself.');
        return;
      }

      if (this.isRequested) {
        console.warn('You have already requested this swap.');
        return;
      }

      this.update({
        isRequested: true
      });

      var participant = _swap2.default.services.auth.getPublicData();

      _swap2.default.services.room.sendMessagePeer(this.owner.peer, {
        event: 'request swap',
        data: {
          orderId: this.id,
          // TODO why do we send this info?
          participant: participant
        }
      });

      _swap2.default.services.room.on('accept swap request', function (_ref3) {
        var orderId = _ref3.orderId;

        if (orderId === self.id) {
          this.unsubscribe();

          self.update({
            isProcessing: true,
            isRequested: false
          });

          callback(true);
        }
      });

      _swap2.default.services.room.on('decline swap request', function (_ref4) {
        var orderId = _ref4.orderId;

        if (orderId === self.id) {
          this.unsubscribe();

          self.update({
            isRequested: false
          });

          // TODO think about preventing user from sent requests every N seconds
          callback(false);
        }
      });
    }
  }, {
    key: 'acceptRequest',
    value: function acceptRequest(participantPeer) {
      var participant = this.requests.find(function (_ref5) {
        var peer = _ref5.peer;
        return peer === participantPeer;
      });

      this.update({
        isRequested: false,
        isProcessing: true,
        participant: participant,
        requests: []
      });

      _swap2.default.services.room.sendMessagePeer(participantPeer, {
        event: 'accept swap request',
        data: {
          orderId: this.id
        }
      });
    }
  }, {
    key: 'declineRequest',
    value: function declineRequest(participantPeer) {
      var index = void 0;

      this.requests.some(function (_ref6, _index) {
        var peer = _ref6.peer;

        if (peer === participantPeer) {
          index = _index;
        }
        return index !== undefined;
      });

      var requests = [].concat((0, _toConsumableArray3.default)(this.requests.slice(0, index)), (0, _toConsumableArray3.default)(this.requests.slice(index + 1)));

      this.update({
        isRequested: false,
        requests: requests
      });

      _swap2.default.services.room.sendMessagePeer(participantPeer, {
        event: 'decline swap request',
        data: {
          orderId: this.id
        }
      });
    }
  }]);
  return Order;
}();

exports.default = Order;
module.exports = exports['default'];

/***/ }),

/***/ 3168:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ETHTOKEN2USDT = exports.USDT2ETHTOKEN = exports.BTC2ETHTOKEN = exports.ETHTOKEN2BTC = exports.BTC2EOS = exports.EOS2BTC = exports.LTC2ETH = exports.ETH2LTC = exports.BTC2LTC = exports.LTC2BTC = exports.BTC2ETH = exports.ETH2BTC = undefined;

var _ETH2BTC = __webpack_require__(3169);

var _ETH2BTC2 = _interopRequireDefault(_ETH2BTC);

var _BTC2ETH = __webpack_require__(3170);

var _BTC2ETH2 = _interopRequireDefault(_BTC2ETH);

var _LTC2BTC = __webpack_require__(3171);

var _LTC2BTC2 = _interopRequireDefault(_LTC2BTC);

var _BTC2LTC = __webpack_require__(3172);

var _BTC2LTC2 = _interopRequireDefault(_BTC2LTC);

var _ETH2LTC = __webpack_require__(3173);

var _ETH2LTC2 = _interopRequireDefault(_ETH2LTC);

var _LTC2ETH = __webpack_require__(3174);

var _LTC2ETH2 = _interopRequireDefault(_LTC2ETH);

var _EOS2BTC = __webpack_require__(3175);

var _EOS2BTC2 = _interopRequireDefault(_EOS2BTC);

var _BTC2EOS = __webpack_require__(3176);

var _BTC2EOS2 = _interopRequireDefault(_BTC2EOS);

var _ETHTOKEN2BTC = __webpack_require__(3177);

var _ETHTOKEN2BTC2 = _interopRequireDefault(_ETHTOKEN2BTC);

var _BTC2ETHTOKEN = __webpack_require__(3178);

var _BTC2ETHTOKEN2 = _interopRequireDefault(_BTC2ETHTOKEN);

var _USDT2ETHTOKEN = __webpack_require__(3179);

var _USDT2ETHTOKEN2 = _interopRequireDefault(_USDT2ETHTOKEN);

var _ETHTOKEN2USDT = __webpack_require__(3180);

var _ETHTOKEN2USDT2 = _interopRequireDefault(_ETHTOKEN2USDT);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ETH2BTC = _ETH2BTC2.default;
exports.BTC2ETH = _BTC2ETH2.default;
exports.LTC2BTC = _LTC2BTC2.default;
exports.BTC2LTC = _BTC2LTC2.default;
exports.ETH2LTC = _ETH2LTC2.default;
exports.LTC2ETH = _LTC2ETH2.default;
exports.EOS2BTC = _EOS2BTC2.default;
exports.BTC2EOS = _BTC2EOS2.default;
exports.ETHTOKEN2BTC = _ETHTOKEN2BTC2.default;
exports.BTC2ETHTOKEN = _BTC2ETHTOKEN2.default;
exports.USDT2ETHTOKEN = _USDT2ETHTOKEN2.default;
exports.ETHTOKEN2USDT = _ETHTOKEN2USDT2.default;

/***/ }),

/***/ 3169:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
var ETH2BTC = function (_Flow) {
  (0, _inherits3.default)(ETH2BTC, _Flow);
  (0, _createClass3.default)(ETH2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eth;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function ETH2BTC(swap) {
    (0, _classCallCheck3.default)(this, ETH2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ETH2BTC.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC)).call(this, swap));

    _this._flowName = ETH2BTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-btc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-eth': 5,
      'wait-withdraw-eth': 6, // aka getSecret
      'withdraw-btc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ethSwap = swap.participantSwap;
    _this.btcSwap = swap.ownerSwap;

    if (!_this.ethSwap) {
      throw new Error('BTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2ETH: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      btcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      isEthContractFunded: false,

      secret: null,

      isEthWithdrawn: false,
      isBtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(ETH2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(ETH2BTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(ETH2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund BTC Script

      function () {
        flow.swap.room.once('create btc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            btcScriptValues: scriptValues,
            btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
          }, { step: 'wait-lock-btc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request btc script'
        });
      },

      // 3. Verify BTC Script

      function () {
        console.log('waiting verify btc script');
        // this.verifyBtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
      },

      // 5. Create ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, participant, buyAmount, sellAmount, utcNow, getLockTime, scriptCheckResult, swapData;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context.next = 5;
                return flow.btcSwap.checkScript(flow.state.btcScriptValues, {
                  value: buyAmount,
                  recipientPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                  lockTime: getLockTime()
                });

              case 5:
                scriptCheckResult = _context.sent;

                if (!scriptCheckResult) {
                  _context.next = 10;
                  break;
                }

                console.error('Btc script check error:', scriptCheckResult);
                flow.swap.events.dispatch('btc script check error', scriptCheckResult);
                return _context.abrupt('return');

              case 10:
                swapData = {
                  participantAddress: participant.eth.address,
                  secretHash: flow.state.secretHash,
                  amount: sellAmount
                };
                _context.prev = 11;
                _context.next = 14;
                return _this2.ethSwap.create(swapData, function (hash) {
                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: hash
                    }
                  });

                  flow.setState({
                    ethSwapCreationTransactionHash: hash
                  });
                });

              case 14:
                _context.next = 27;
                break;

              case 16:
                _context.prev = 16;
                _context.t0 = _context['catch'](11);

                if (!/known transaction/.test(_context.t0.message)) {
                  _context.next = 22;
                  break;
                }

                return _context.abrupt('return', console.error('known tx: ' + _context.t0.message));

              case 22:
                if (!/out of gas/.test(_context.t0.message)) {
                  _context.next = 26;
                  break;
                }

                return _context.abrupt('return', console.error('tx failed (wrong secret?): ' + _context.t0.message));

              case 26:
                return _context.abrupt('return', console.error(_context.t0));

              case 27:

                console.log('finish step');

                flow.finishStep({
                  isEthContractFunded: true
                }, { step: 'lock-eth' });

              case 29:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2, [[11, 16]]);
      })),

      // 6. Wait participant withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var participant, checkSecretExist, checkSecretTimer;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                flow.swap.room.once('ethWithdrawTxHash', function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_ref5) {
                    var ethSwapWithdrawTransactionHash = _ref5.ethSwapWithdrawTransactionHash;
                    var secret;
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            flow.setState({
                              ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                            });

                            _context2.next = 3;
                            return flow.ethSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);

                          case 3:
                            secret = _context2.sent;


                            if (!flow.state.isEthWithdrawn && secret) {
                              console.log('got secret from tx', ethSwapWithdrawTransactionHash, secret);
                              flow.finishStep({
                                isEthWithdrawn: true,
                                secret: secret
                              }, { step: 'wait-withdraw-eth' });
                            }

                          case 5:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2);
                  }));

                  return function (_x) {
                    return _ref4.apply(this, arguments);
                  };
                }());

                flow.swap.room.sendMessage({
                  event: 'request ethWithdrawTxHash'
                });

                // If partner decides to scam and doesn't send ethWithdrawTxHash
                // then we try to withdraw as in ETHTOKEN2USDT

                participant = flow.swap.participant;

                checkSecretExist = function () {
                  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
                    var secret;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            _context3.prev = 0;
                            _context3.next = 3;
                            return flow.ethSwap.getSecret({
                              participantAddress: participant.eth.address
                            });

                          case 3:
                            secret = _context3.sent;

                            if (!secret) {
                              _context3.next = 10;
                              break;
                            }

                            clearInterval(checkSecretTimer);

                            if (!(flow.state.secret && secret !== flow.state.secret)) {
                              _context3.next = 8;
                              break;
                            }

                            throw new Error('Secret already exists and it differs! ' + secret + ' \u2260 ' + flow.state.secret);

                          case 8:

                            console.log('got secret from smart contract', secret);
                            flow.finishStep({
                              secret: secret,
                              isEthWithdrawn: true
                            }, { step: 'wait-withdraw-eth' });

                          case 10:
                            _context3.next = 15;
                            break;

                          case 12:
                            _context3.prev = 12;
                            _context3.t0 = _context3['catch'](0);
                            console.error(_context3.t0);
                          case 15:
                          case 'end':
                            return _context3.stop();
                        }
                      }
                    }, _callee3, _this2, [[0, 12]]);
                  }));

                  return function checkSecretExist() {
                    return _ref6.apply(this, arguments);
                  };
                }();

                checkSecretTimer = setInterval(checkSecretExist, 20 * 1000);


                flow.swap.room.once('finish eth withdraw', function () {
                  checkSecretExist();
                });

              case 6:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, _this2);
      })),

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var _flow$state, secret, btcScriptValues;

        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, btcScriptValues = _flow$state.btcScriptValues;

                if (btcScriptValues) {
                  _context5.next = 4;
                  break;
                }

                console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                return _context5.abrupt('return');

              case 4:
                _context5.next = 6;
                return flow.btcSwap.withdraw({
                  scriptValues: flow.state.btcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 6:

                flow.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 7:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.sendMessage({
          event: 'swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: _swap2.default.services.auth.accounts.eth.address,
        participantAddress: participant.eth.address
      };

      return this.ethSwap.checkSwapExists(swapData);
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
        var _this3 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context6.sent;

                if (!swapExists) {
                  _context6.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context6.next = 13;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.on('request sign', function () {
                  _this3.swap.room.sendMessage({
                    event: 'swap sign'
                  });
                });

                this.swap.room.sendMessage({
                  event: 'swap sign'
                });

                this.finishStep({
                  isMeSigned: true
                }, { step: 'sign', silentError: true });

                return _context6.abrupt('return', true);

              case 13:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function sign() {
        return _ref8.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyBtcScript',
    value: function verifyBtcScript() {
      if (this.state.btcScriptVerified) {
        return true;
      }
      if (!this.state.btcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        btcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context7.next = 4;
                return this.ethSwap.fetchBalance(_swap2.default.services.auth.accounts.eth.address);

              case 4:
                balance = _context7.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function syncBalance() {
        return _ref9.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this4 = this;

      var participant = this.swap.participant;


      return this.ethSwap.refund({
        participantAddress: participant.eth.address
      }, function (hash) {
        _this4.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this4.swap.room.sendMessage({
          event: 'refund completed'
        });

        _this4.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(_secret) {
        var _this5 = this;

        var _state, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, btcScriptValues = _state.btcScriptValues;

                if (_secret) {
                  _context8.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (btcScriptValues) {
                  _context8.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                console.log('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match!');

                _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                _context8.next = 13;
                return this.btcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context8.sent;


                console.log('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context8.next = 18;
                  break;
                }

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context8.next = 20;
                return this.btcSwap.withdraw({
                  scriptValues: btcScriptValues,
                  secret: _secret
                }, function (hash) {
                  console.log('TX hash=' + hash);
                  _this5.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                console.log('TX withdraw sent: ' + this.state.btcSwapWithdrawTransactionHash);

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 22:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function tryWithdraw(_x2) {
        return _ref10.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return ETH2BTC;
}(_swap3.Flow);

exports.default = ETH2BTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3170:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BTC2ETH = function (_Flow) {
  (0, _inherits3.default)(BTC2ETH, _Flow);
  (0, _createClass3.default)(BTC2ETH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eth;
    }
  }]);

  function BTC2ETH(swap) {
    (0, _classCallCheck3.default)(this, BTC2ETH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2ETH.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.btcSwap.getRefundHexTransaction({
        scriptValues: _this.state.btcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = BTC2ETH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-btc': 4,
      'wait-lock-eth': 5,
      'withdraw-eth': 6,
      'finish': 7,
      'end': 8
    };

    _this.ethSwap = swap.ownerSwap;
    _this.btcSwap = swap.participantSwap;

    if (!_this.ethSwap) {
      throw new Error('BTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2ETH: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      btcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isEthContractFunded: false,

      ethSwapWithdrawTransactionHash: null,
      isEthWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(BTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(BTC2ETH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(BTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH.prototype), '_persistState', this).call(this);

      // this.ethSwap.getBalance({
      //   ownerAddress: this.swap.participant.eth.address,
      // })
      //   .then((balance) => {
      //     console.log('balance:', balance)
      //   })
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create BTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, sellAmount, participant, btcScriptCreatingTransactionHash, utcNow, getLockTime, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                btcScriptCreatingTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 3;
                }; // 3 hours from now

                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                  recipientPublicKey: participant.btc.publicKey,
                  lockTime: getLockTime()
                };
                _context.next = 7;
                return flow.btcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  btcScriptCreatingTransactionHash = hash;
                  flow.setState({
                    btcScriptCreatingTransactionHash: hash
                  });
                });

              case 7:

                flow.swap.room.on('request btc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: scriptValues,
                      btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create btc script',
                  data: {
                    scriptValues: scriptValues,
                    btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                  }
                });

                flow.finishStep({
                  isBtcScriptFunded: true,
                  btcScriptValues: scriptValues
                }, { step: 'lock-btc' });

              case 10:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 5. Wait participant creates ETH Contract

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create eth contract', function (_ref2) {
          var ethSwapCreationTransactionHash = _ref2.ethSwapCreationTransactionHash;

          flow.setState({
            ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
          });
        });

        var checkEthBalance = function checkEthBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var balance;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.next = 2;
                    return flow.ethSwap.getBalance({
                      ownerAddress: participant.eth.address
                    });

                  case 2:
                    balance = _context2.sent;


                    if (balance > 0) {
                      if (!flow.state.isEthContractFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isEthContractFunded: true
                        }, { step: 'wait-lock-eth' });
                      }
                    } else {
                      checkEthBalance();
                    }

                  case 4:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          })), 20 * 1000);
        };

        checkEthBalance();

        flow.swap.room.once('create eth contract', function () {
          if (!flow.state.isEthContractFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isEthContractFunded: true
            }, { step: 'wait-lock-eth' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, buyAmount, participant, data, balanceCheckResult;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, buyAmount = _flow$swap2.buyAmount, participant = _flow$swap2.participant;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: flow.state.secret
                };
                _context3.next = 4;
                return flow.ethSwap.checkBalance({
                  ownerAddress: participant.eth.address,
                  expectedValue: buyAmount
                });

              case 4:
                balanceCheckResult = _context3.sent;

                if (!balanceCheckResult) {
                  _context3.next = 9;
                  break;
                }

                console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                return _context3.abrupt('return');

              case 9:
                _context3.prev = 9;
                _context3.next = 12;
                return flow.ethSwap.withdraw(data, function (hash) {
                  flow.setState({
                    ethSwapWithdrawTransactionHash: hash
                  });

                  // Spot where there was an a vulnerability
                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: hash
                    }
                  });
                });

              case 12:
                _context3.next = 25;
                break;

              case 14:
                _context3.prev = 14;
                _context3.t0 = _context3['catch'](9);

                if (!/known transaction/.test(_context3.t0.message)) {
                  _context3.next = 20;
                  break;
                }

                return _context3.abrupt('return', console.error('known tx: ' + _context3.t0.message));

              case 20:
                if (!/out of gas/.test(_context3.t0.message)) {
                  _context3.next = 24;
                  break;
                }

                return _context3.abrupt('return', console.error('tx failed (wrong secret?): ' + _context3.t0.message));

              case 24:
                return _context3.abrupt('return', console.error(_context3.t0));

              case 25:

                flow.swap.room.on('request ethWithdrawTxHash', function () {
                  // Spot where there was an a vulnerability
                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: flow.state.ethSwapWithdrawTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'finish eth withdraw'
                });

                flow.finishStep({
                  isEthWithdrawn: true
                });

              case 28:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2, [[9, 14]]);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function () {
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      this.finishStep({
        secret: secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context4.next = 4;
                return this.btcSwap.fetchBalance(_swap2.default.services.auth.accounts.btc.getAddress());

              case 4:
                balance = _context4.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function syncBalance() {
        return _ref5.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.btcSwap.refund({
        scriptValues: this.state.btcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }]);
  return BTC2ETH;
}(_swap3.Flow);

exports.default = BTC2ETH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3171:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
var LTC2BTC = function (_Flow) {
  (0, _inherits3.default)(LTC2BTC, _Flow);
  (0, _createClass3.default)(LTC2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.ltc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function LTC2BTC(swap) {
    (0, _classCallCheck3.default)(this, LTC2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LTC2BTC.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.ltcSwap.getRefundHexTransaction({
        scriptValues: _this.state.ltcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = LTC2BTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-btc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-ltc': 5,
      'wait-withdraw-ltc': 6, // aka getSecret
      'withdraw-btc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ltcSwap = swap.participantSwap;
    _this.btcSwap = swap.ownerSwap;

    if (!_this.ltcSwap) {
      throw new Error('BTC2LTC: "ltcSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2LTC: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      btcScriptValues: null,
      ltcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      btcScriptCreatingTransactionHash: null,
      ltcSwapCreationTransactionHash: null,

      isLtcScriptFunded: false,

      secret: null,

      isLtcWithdrawn: false,
      isBtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(LTC2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(LTC2BTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(LTC2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund BTC Script

      function () {
        flow.swap.room.once('create btc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            btcScriptValues: scriptValues,
            btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
          }, { step: 'wait-lock-btc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request btc script'
        });
      },

      // 3. Verify BTC Script

      function () {
        console.log('waiting verify btc script');
        // this.verifyBtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
        console.log(_this2);
      },

      // 5. Create LTC Script

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, participant, buyAmount, sellAmount, ltcSwapCreationTransactionHash, utcNow, getLockTime, scriptCheckResult, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                ltcSwapCreationTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context.next = 6;
                return flow.btcSwap.checkScript(flow.state.btcScriptValues, {
                  value: buyAmount,
                  recipientPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                  lockTime: getLockTime()
                });

              case 6:
                scriptCheckResult = _context.sent;

                if (!scriptCheckResult) {
                  _context.next = 11;
                  break;
                }

                console.error('Btc script check error:', scriptCheckResult);
                flow.swap.events.dispatch('btc script check error', scriptCheckResult);
                return _context.abrupt('return');

              case 11:
                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _swap2.default.services.auth.accounts.ltc.getPublicKey(),
                  recipientPublicKey: participant.ltc.publicKey,
                  lockTime: getLockTime()
                };
                _context.prev = 12;
                _context.next = 15;
                return flow.ltcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  ltcSwapCreationTransactionHash = hash;
                  flow.setState({
                    ltcSwapCreationTransactionHash: hash
                  });
                });

              case 15:
                _context.next = 28;
                break;

              case 17:
                _context.prev = 17;
                _context.t0 = _context['catch'](12);

                if (!/known transaction/.test(_context.t0.message)) {
                  _context.next = 23;
                  break;
                }

                return _context.abrupt('return', console.error('known tx: ' + _context.t0.message));

              case 23:
                if (!/out of gas/.test(_context.t0.message)) {
                  _context.next = 27;
                  break;
                }

                return _context.abrupt('return', console.error('tx failed (wrong secret?): ' + _context.t0.message));

              case 27:
                return _context.abrupt('return', console.error(_context.t0));

              case 28:

                flow.swap.room.on('request ltc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create ltc script',
                    data: {
                      scriptValues: scriptValues,
                      ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create ltc script',
                  data: {
                    scriptValues: scriptValues,
                    ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
                  }
                });

                flow.finishStep({
                  isLtcScriptFunded: true,
                  ltcScriptValues: scriptValues
                }, { step: 'lock-ltc' });

              case 31:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2, [[12, 17]]);
      })),

      // 6. Wait participant withdraw

      function () {

        flow.swap.room.once('ltcWithdrawTxHash', function () {
          var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_ref4) {
            var ltcSwapWithdrawTransactionHash = _ref4.ltcSwapWithdrawTransactionHash;
            var secret;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    flow.setState({
                      ltcSwapWithdrawTransactionHash: ltcSwapWithdrawTransactionHash
                    });

                    _context2.next = 3;
                    return flow.ltcSwap.getSecretFromTxhash(ltcSwapWithdrawTransactionHash);

                  case 3:
                    secret = _context2.sent;


                    if (!flow.state.isLtcWithdrawn && secret) {
                      flow.finishStep({
                        isLtcWithdrawn: true,
                        secret: secret
                      }, { step: 'wait-withdraw-ltc' });
                    }

                  case 5:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          }));

          return function (_x) {
            return _ref3.apply(this, arguments);
          };
        }());

        flow.swap.room.sendMessage({
          event: 'request ltcWithdrawTxHash'
        });
      },

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$state, secret, btcScriptValues;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, btcScriptValues = _flow$state.btcScriptValues;

                if (btcScriptValues) {
                  _context3.next = 4;
                  break;
                }

                console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                return _context3.abrupt('return');

              case 4:
                _context3.next = 6;
                return flow.btcSwap.withdraw({
                  scriptValues: flow.state.btcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 6:

                flow.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 7:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.sendMessage({
          event: 'swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: _swap2.default.services.auth.accounts.ltc.address,
        participantAddress: participant.ltc.address
      };

      return false; //this.ltcSwap.checkSwapExists(swapData)
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var _this3 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context4.sent;

                if (!swapExists) {
                  _context4.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context4.next = 13;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.on('request sign', function () {
                  _this3.swap.room.sendMessage({
                    event: 'swap sign'
                  });
                });

                this.swap.room.sendMessage({
                  event: 'swap sign'
                });

                this.finishStep({
                  isMeSigned: true
                }, { step: 'sign', silentError: true });

                return _context4.abrupt('return', true);

              case 13:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function sign() {
        return _ref6.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyBtcScript',
    value: function verifyBtcScript() {
      if (this.state.btcScriptVerified) {
        return true;
      }
      if (!this.state.btcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        btcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context5.next = 4;
                return this.ltcSwap.fetchBalance(_swap2.default.services.auth.accounts.ltc.getAddress());

              case 4:
                balance = _context5.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function syncBalance() {
        return _ref7.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this4 = this;

      var participant = this.swap.participant;


      return this.ltcSwap.refund({
        scriptValues: this.state.ltcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this4.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this4.swap.room.sendMessage({
          event: 'refund completed'
        });

        _this4.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
        var _this5 = this;

        var _state, secret, secretHash, isLtcWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isLtcWithdrawn = _state.isLtcWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, btcScriptValues = _state.btcScriptValues;

                if (_secret) {
                  _context6.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (btcScriptValues) {
                  _context6.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                console.log('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match!');

                _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                _context6.next = 13;
                return this.btcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context6.sent;


                console.log('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context6.next = 18;
                  break;
                }

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context6.next = 20;
                return this.btcSwap.withdraw({
                  scriptValues: btcScriptValues,
                  secret: _secret
                }, function (hash) {
                  console.log('TX hash=' + hash);
                  _this5.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                console.log('TX withdraw sent: ' + this.state.btcSwapWithdrawTransactionHash);

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 22:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function tryWithdraw(_x2) {
        return _ref8.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return LTC2BTC;
}(_swap3.Flow);

exports.default = LTC2BTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3172:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BTC2LTC = function (_Flow) {
  (0, _inherits3.default)(BTC2LTC, _Flow);
  (0, _createClass3.default)(BTC2LTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.ltc;
    }
  }]);

  function BTC2LTC(swap) {
    (0, _classCallCheck3.default)(this, BTC2LTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2LTC.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.btcSwap.getRefundHexTransaction({
        scriptValues: _this.state.btcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = BTC2LTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-btc': 4,
      'wait-lock-ltc': 5,
      'withdraw-ltc': 6,
      'finish': 7,
      'end': 8
    };

    _this.ltcSwap = swap.ownerSwap;
    _this.btcSwap = swap.participantSwap;

    if (!_this.ltcSwap) {
      throw new Error('BTC2LTC: "ltcSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2LTC: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      btcScriptCreatingTransactionHash: null,
      ltcSwapCreationTransactionHash: null,

      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      ltcScriptValues: null,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isLtcScriptFunded: false,

      ltcSwapWithdrawTransactionHash: null,
      isLtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(BTC2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(BTC2LTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(BTC2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC.prototype), '_persistState', this).call(this);

      // this.ltcSwap.getBalance({
      //   ownerAddress: this.swap.participant.ltc.address,
      // })
      //   .then((balance) => {
      //     console.log('balance:', balance)
      //   })
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create BTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, sellAmount, participant, btcScriptCreatingTransactionHash, utcNow, getLockTime, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                btcScriptCreatingTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 3;
                }; // 3 hours from now

                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                  recipientPublicKey: participant.btc.publicKey,
                  lockTime: getLockTime()
                };
                _context.next = 7;
                return flow.btcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  btcScriptCreatingTransactionHash = hash;
                  flow.setState({
                    btcScriptCreatingTransactionHash: hash
                  });
                });

              case 7:

                flow.swap.room.on('request btc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: scriptValues,
                      btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create btc script',
                  data: {
                    scriptValues: scriptValues,
                    btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                  }
                });

                flow.finishStep({
                  isBtcScriptFunded: true,
                  btcScriptValues: scriptValues
                }, { step: 'lock-btc' });

              case 10:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 5. Wait participant creates LTC Script

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create ltc script', function (_ref2) {
          var scriptValues = _ref2.scriptValues,
              ltcSwapCreationTransactionHash = _ref2.ltcSwapCreationTransactionHash;

          flow.setState({
            secretHash: scriptValues.secretHash,
            ltcScriptValues: scriptValues,
            ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
          });
        });

        flow.swap.room.sendMessage({
          event: 'request ltc script'
        });

        var checkLtcBalance = function checkLtcBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var _ltcSwap$createScript, scriptAddress, balance;

            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _ltcSwap$createScript = _this2.ltcSwap.createScript(flow.state.ltcScriptValues), scriptAddress = _ltcSwap$createScript.scriptAddress;
                    _context2.next = 3;
                    return flow.ltcSwap.getBalance(scriptAddress);

                  case 3:
                    balance = _context2.sent;


                    console.log('Litecoin balance - ' + balance);

                    if (balance > 0) {
                      if (!flow.state.isLtcScriptFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isLtcScriptFunded: true
                        }, { step: 'wait-lock-ltc' });
                      }
                    } else {
                      checkLtcBalance();
                    }

                  case 6:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          })), 20 * 1000);
        };

        checkLtcBalance();

        flow.swap.room.once('create ltc script', function () {
          if (!flow.state.isLtcScriptFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isLtcScriptFunded: true
            }, { step: 'wait-lock-ltc' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, buyAmount, participant, _flow$state, secret, ltcScriptValues, data, balanceCheckResult;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, buyAmount = _flow$swap2.buyAmount, participant = _flow$swap2.participant;
                _flow$state = flow.state, secret = _flow$state.secret, ltcScriptValues = _flow$state.ltcScriptValues;
                data = {
                  ownerAddress: participant.ltc.address,
                  secret: flow.state.secret
                };
                _context3.next = 5;
                return flow.ltcSwap.checkBalance({
                  ownerAddress: participant.ltc.address,
                  expectedValue: buyAmount
                });

              case 5:
                balanceCheckResult = _context3.sent;

                if (!balanceCheckResult) {
                  _context3.next = 10;
                  break;
                }

                console.error('Waiting until deposit: LTC balance check error:', balanceCheckResult);
                flow.swap.events.dispatch('ltc balance check error', balanceCheckResult);
                return _context3.abrupt('return');

              case 10:
                _context3.prev = 10;
                _context3.next = 13;
                return flow.ltcSwap.withdraw({
                  scriptValues: ltcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 13:
                _context3.next = 26;
                break;

              case 15:
                _context3.prev = 15;
                _context3.t0 = _context3['catch'](10);

                if (!/known transaction/.test(_context3.t0.message)) {
                  _context3.next = 21;
                  break;
                }

                return _context3.abrupt('return', console.error('known tx: ' + _context3.t0.message));

              case 21:
                if (!/out of gas/.test(_context3.t0.message)) {
                  _context3.next = 25;
                  break;
                }

                return _context3.abrupt('return', console.error('tx failed (wrong secret?): ' + _context3.t0.message));

              case 25:
                return _context3.abrupt('return', console.error(_context3.t0));

              case 26:

                flow.swap.room.on('request ltcWithdrawTxHash', function () {
                  flow.swap.room.sendMessage({
                    event: 'ltcWithdrawTxHash',
                    data: {
                      scriptValues: flow.state.ltcScriptValues,
                      ltcSwapWithdrawTransactionHash: flow.state.ltcSwapWithdrawTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'finish ltc withdraw'
                });

                flow.finishStep({
                  isLtcWithdrawn: true
                });

              case 29:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2, [[10, 15]]);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function () {
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      this.finishStep({
        secret: secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context4.next = 4;
                return this.btcSwap.fetchBalance(_swap2.default.services.auth.accounts.btc.getAddress());

              case 4:
                balance = _context4.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function syncBalance() {
        return _ref5.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.btcSwap.refund({
        scriptValues: this.state.btcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }]);
  return BTC2LTC;
}(_swap3.Flow);

exports.default = BTC2LTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3173:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to LtcSwap
var ETH2LTC = function (_Flow) {
  (0, _inherits3.default)(ETH2LTC, _Flow);
  (0, _createClass3.default)(ETH2LTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eth;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.ltc;
    }
  }]);

  function ETH2LTC(swap) {
    (0, _classCallCheck3.default)(this, ETH2LTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ETH2LTC.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC)).call(this, swap));

    _this._flowName = ETH2LTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-ltc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-eth': 5,
      'wait-withdraw-eth': 6, // aka getSecret
      'withdraw-ltc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ethSwap = swap.participantSwap;
    _this.ltcSwap = swap.ownerSwap;

    if (!_this.ethSwap) {
      throw new Error('LTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.ltcSwap) {
      throw new Error('LTC2ETH: "ltcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      ltcScriptValues: null,

      ltcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      ltcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      isEthContractFunded: false,

      secret: null,

      isEthWithdrawn: false,
      isLtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(ETH2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(ETH2LTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(ETH2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund LTC Script

      function () {
        flow.swap.room.once('create ltc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              ltcScriptCreatingTransactionHash = _ref.ltcScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            ltcScriptValues: scriptValues,
            ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
          }, { step: 'wait-lock-ltc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request ltc script'
        });
      },

      // 3. Verify LTC Script

      function () {
        console.log('waiting verify ltc script');
        // this.verifyLtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
      },

      // 5. Create ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, participant, buyAmount, sellAmount, utcNow, getLockTime, scriptCheckResult, swapData;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context.next = 5;
                return flow.ltcSwap.checkScript(flow.state.ltcScriptValues, {
                  value: buyAmount,
                  recipientPublicKey: _swap2.default.services.auth.accounts.ltc.getPublicKey(),
                  lockTime: getLockTime()
                });

              case 5:
                scriptCheckResult = _context.sent;

                if (!scriptCheckResult) {
                  _context.next = 10;
                  break;
                }

                console.error('Ltc script check error:', scriptCheckResult);
                flow.swap.events.dispatch('ltc script check error', scriptCheckResult);
                return _context.abrupt('return');

              case 10:
                swapData = {
                  participantAddress: participant.eth.address,
                  secretHash: flow.state.secretHash,
                  amount: sellAmount
                };
                _context.prev = 11;
                _context.next = 14;
                return _this2.ethSwap.create(swapData, function (hash) {
                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: hash
                    }
                  });

                  flow.setState({
                    ethSwapCreationTransactionHash: hash
                  });
                });

              case 14:
                _context.next = 27;
                break;

              case 16:
                _context.prev = 16;
                _context.t0 = _context['catch'](11);

                if (!/known transaction/.test(_context.t0.message)) {
                  _context.next = 22;
                  break;
                }

                return _context.abrupt('return', console.error('known tx: ' + _context.t0.message));

              case 22:
                if (!/out of gas/.test(_context.t0.message)) {
                  _context.next = 26;
                  break;
                }

                return _context.abrupt('return', console.error('tx failed (wrong secret?): ' + _context.t0.message));

              case 26:
                return _context.abrupt('return', console.error(_context.t0));

              case 27:

                console.log('finish step');

                flow.finishStep({
                  isEthContractFunded: true
                }, { step: 'lock-eth' });

              case 29:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2, [[11, 16]]);
      })),

      // 6. Wait participant withdraw

      function () {
        flow.swap.room.once('ethWithdrawTxHash', function () {
          var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_ref4) {
            var ethSwapWithdrawTransactionHash = _ref4.ethSwapWithdrawTransactionHash;
            var secret;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    flow.setState({
                      ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                    });

                    _context2.next = 3;
                    return flow.ethSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);

                  case 3:
                    secret = _context2.sent;


                    if (!flow.state.isEthWithdrawn && secret) {
                      flow.finishStep({
                        isEthWithdrawn: true,
                        secret: secret
                      }, { step: 'wait-withdraw-eth' });
                    }

                  case 5:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          }));

          return function (_x) {
            return _ref3.apply(this, arguments);
          };
        }());

        flow.swap.room.sendMessage({
          event: 'request ethWithdrawTxHash'
        });
      },

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$state, secret, ltcScriptValues;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, ltcScriptValues = _flow$state.ltcScriptValues;

                if (ltcScriptValues) {
                  _context3.next = 4;
                  break;
                }

                console.error('There is no "ltcScriptValues" in state. No way to continue swap...');
                return _context3.abrupt('return');

              case 4:
                _context3.next = 6;
                return flow.ltcSwap.withdraw({
                  scriptValues: flow.state.ltcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 6:

                flow.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });

              case 7:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.sendMessage({
          event: 'swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: _swap2.default.services.auth.accounts.eth.address,
        participantAddress: participant.eth.address
      };

      return this.ethSwap.checkSwapExists(swapData);
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var _this3 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context4.sent;

                if (!swapExists) {
                  _context4.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context4.next = 11;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.once('request sign', function () {
                  _this3.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  _this3.finishStep({
                    isMeSigned: true
                  }, { step: 'sign' });
                });

                return _context4.abrupt('return', true);

              case 11:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function sign() {
        return _ref6.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyLtcScript',
    value: function verifyLtcScript() {
      if (this.state.ltcScriptVerified) {
        return true;
      }
      if (!this.state.ltcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        ltcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context5.next = 4;
                return this.ethSwap.fetchBalance(_swap2.default.services.auth.accounts.eth.address);

              case 4:
                balance = _context5.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function syncBalance() {
        return _ref7.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this4 = this;

      var participant = this.swap.participant;


      return this.ethSwap.refund({
        participantAddress: participant.eth.address
      }, function (hash) {
        _this4.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this4.swap.room.sendMessage({
          event: 'refund completed'
        });

        _this4.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
        var _this5 = this;

        var _state, secret, secretHash, isEthWithdrawn, isLtcWithdrawn, ltcScriptValues, _secretHash, _ltcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isLtcWithdrawn = _state.isLtcWithdrawn, ltcScriptValues = _state.ltcScriptValues;

                if (_secret) {
                  _context6.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (ltcScriptValues) {
                  _context6.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isLtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                console.log('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match!');

                _ltcSwap$createScript = this.ltcSwap.createScript(ltcScriptValues), scriptAddress = _ltcSwap$createScript.scriptAddress;
                _context6.next = 13;
                return this.ltcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context6.sent;


                console.log('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context6.next = 18;
                  break;
                }

                this.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context6.next = 20;
                return this.ltcSwap.withdraw({
                  scriptValues: ltcScriptValues,
                  secret: _secret
                }, function (hash) {
                  console.log('TX hash=' + hash);
                  _this5.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                console.log('TX withdraw sent: ' + this.state.ltcSwapWithdrawTransactionHash);

                this.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });

              case 22:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function tryWithdraw(_x2) {
        return _ref8.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return ETH2LTC;
}(_swap3.Flow);

exports.default = ETH2LTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3174:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LTC2ETH = function (_Flow) {
  (0, _inherits3.default)(LTC2ETH, _Flow);
  (0, _createClass3.default)(LTC2ETH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.ltc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eth;
    }
  }]);

  function LTC2ETH(swap) {
    (0, _classCallCheck3.default)(this, LTC2ETH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LTC2ETH.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.ltcSwap.getRefundHexTransaction({
        scriptValues: _this.state.ltcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = LTC2ETH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-ltc': 4,
      'wait-lock-eth': 5,
      'withdraw-eth': 6,
      'finish': 7,
      'end': 8
    };

    _this.ethSwap = swap.ownerSwap;
    _this.ltcSwap = swap.participantSwap;

    if (!_this.ethSwap) {
      throw new Error('LTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.ltcSwap) {
      throw new Error('LTC2ETH: "ltcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      ltcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      secretHash: null,
      ltcScriptValues: null,

      ltcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isEthContractFunded: false,

      ethSwapWithdrawTransactionHash: null,
      isEthWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(LTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(LTC2ETH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(LTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH.prototype), '_persistState', this).call(this);

      // this.ethSwap.getBalance({
      //   ownerAddress: this.swap.participant.eth.address,
      // })
      //   .then((balance) => {
      //     console.log('balance:', balance)
      //   })
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create LTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, sellAmount, participant, ltcScriptCreatingTransactionHash, utcNow, getLockTime, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                ltcScriptCreatingTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 3;
                }; // 3 hours from now

                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _swap2.default.services.auth.accounts.ltc.getPublicKey(),
                  recipientPublicKey: participant.ltc.publicKey,
                  lockTime: getLockTime()
                };
                _context.next = 7;
                return flow.ltcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  ltcScriptCreatingTransactionHash = hash;
                  flow.setState({
                    ltcScriptCreatingTransactionHash: hash
                  });
                });

              case 7:

                flow.swap.room.on('request ltc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create ltc script',
                    data: {
                      scriptValues: scriptValues,
                      ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create ltc script',
                  data: {
                    scriptValues: scriptValues,
                    ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
                  }
                });

                flow.finishStep({
                  isLtcScriptFunded: true,
                  ltcScriptValues: scriptValues
                }, { step: 'lock-ltc' });

              case 10:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 5. Wait participant creates ETH Contract

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create eth contract', function (_ref2) {
          var ethSwapCreationTransactionHash = _ref2.ethSwapCreationTransactionHash;

          flow.setState({
            ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
          });
        });

        var checkEthBalance = function checkEthBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var balance;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.next = 2;
                    return flow.ethSwap.getBalance({
                      ownerAddress: participant.eth.address
                    });

                  case 2:
                    balance = _context2.sent;


                    if (balance > 0) {
                      if (!flow.state.isEthContractFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isEthContractFunded: true
                        }, { step: 'wait-lock-eth' });
                      }
                    } else {
                      checkEthBalance();
                    }

                  case 4:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          })), 20 * 1000);
        };

        checkEthBalance();

        flow.swap.room.once('create eth contract', function () {
          if (!flow.state.isEthContractFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isEthContractFunded: true
            }, { step: 'wait-lock-eth' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, buyAmount, participant, data, balanceCheckResult;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, buyAmount = _flow$swap2.buyAmount, participant = _flow$swap2.participant;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: flow.state.secret
                };
                _context3.next = 4;
                return flow.ethSwap.checkBalance({
                  ownerAddress: participant.eth.address,
                  expectedValue: buyAmount
                });

              case 4:
                balanceCheckResult = _context3.sent;

                if (!balanceCheckResult) {
                  _context3.next = 9;
                  break;
                }

                console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                return _context3.abrupt('return');

              case 9:
                _context3.prev = 9;
                _context3.next = 12;
                return flow.ethSwap.withdraw(data, function (hash) {
                  flow.setState({
                    ethSwapWithdrawTransactionHash: hash
                  });

                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: hash
                    }
                  });
                });

              case 12:
                _context3.next = 25;
                break;

              case 14:
                _context3.prev = 14;
                _context3.t0 = _context3['catch'](9);

                if (!/known transaction/.test(_context3.t0.message)) {
                  _context3.next = 20;
                  break;
                }

                return _context3.abrupt('return', console.error('known tx: ' + _context3.t0.message));

              case 20:
                if (!/out of gas/.test(_context3.t0.message)) {
                  _context3.next = 24;
                  break;
                }

                return _context3.abrupt('return', console.error('tx failed (wrong secret?): ' + _context3.t0.message));

              case 24:
                return _context3.abrupt('return', console.error(_context3.t0));

              case 25:

                flow.swap.room.on('request ethWithdrawTxHash', function () {
                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: flow.state.ethSwapWithdrawTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'finish eth withdraw'
                });

                flow.finishStep({
                  isEthWithdrawn: true
                });

              case 28:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2, [[9, 14]]);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function () {
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      this.finishStep({
        secret: secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context4.next = 4;
                return this.ltcSwap.fetchBalance(_swap2.default.services.auth.accounts.ltc.getAddress());

              case 4:
                balance = _context4.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function syncBalance() {
        return _ref5.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.ltcSwap.refund({
        scriptValues: this.state.ltcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }]);
  return LTC2ETH;
}(_swap3.Flow);

exports.default = LTC2ETH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3175:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__webpack_provided_swap_dot_room) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sleep = function sleep(ms) {
  return new _promise2.default(function (resolve) {
    return setTimeout(resolve, ms);
  });
};

var handlers = function handlers(flow) {
  return {
    openSwap: function openSwap() {
      var secretHash = flow.state.secretHash;
      var _flow$swap = flow.swap,
          amount = _flow$swap.sellAmount,
          participant = _flow$swap.participant;


      return flow.eosSwap.open({
        btcOwner: participant.eos.address,
        secretHash: secretHash,
        amount: amount
      });
    },
    btcWithdraw: function btcWithdraw() {
      var _flow$state = flow.state,
          secret = _flow$state.secret,
          scriptValues = _flow$state.scriptValues;


      var tryWithdraw = function tryWithdraw() {
        return flow.btcSwap.withdraw({ scriptValues: scriptValues, secret: secret }, null, null, 'sha256');
      };

      return tryWithdraw().catch(function (error) {
        console.log('Cannot withdraw BTC, try again in 5 sec...');
        return sleep(5000).then(tryWithdraw);
      });
    },
    refund: function refund() {
      var btcOwner = undefined.swap.participant;


      return flow.eosSwap.refund({
        btcOwner: btcOwner
      });
    }
  };
};

var listeners = function listeners(flow) {
  return {
    btcScript: function btcScript() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.createBtcScript, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.createBtcScript
        });
      });
    },
    verifyScript: function verifyScript() {
      return new _promise2.default(function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(resolve, reject) {
          var buyAmount, getLockTime, scriptCheckResult;
          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  buyAmount = flow.swap.buyAmount;

                  getLockTime = function getLockTime() {
                    var eosLockTime = flow.eosSwap.getLockPeriod();
                    var btcLockTime = eosLockTime * 2;
                    var nowTime = Math.floor(Date.now() / 1000);

                    return nowTime + btcLockTime;
                  };

                  _context.next = 4;
                  return flow.btcSwap.checkScript(flow.state.scriptValues, {
                    value: buyAmount,
                    recipientPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                    lockTime: getLockTime()
                  });

                case 4:
                  scriptCheckResult = _context.sent;


                  if (scriptCheckResult) {
                    console.log('Cannot verify btc script', scriptCheckResult);
                    reject(scriptCheckResult);
                  } else {
                    resolve();
                  }

                case 6:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, undefined);
        }));

        return function (_x, _x2) {
          return _ref.apply(this, arguments);
        };
      }());
    },
    revealedSecret: function revealedSecret() {
      return new _promise2.default(function (resolve) {
        var _flow$swap2 = flow.swap,
            eosOwnerData = _flow$swap2.owner,
            btcOwnerData = _flow$swap2.participant;

        var eosOwner = eosOwnerData.eos.address;
        var btcOwner = btcOwnerData.btc.address;

        var fetchSecret = function () {
          var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var swap, secret;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.next = 2;
                    return undefined.eosSwap.findCurrentSwap({ eosOwner: eosOwner, btcOwner: btcOwner });

                  case 2:
                    swap = _context2.sent;
                    secret = swap.secret;
                    return _context2.abrupt('return', secret);

                  case 5:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, undefined);
          }));

          return function fetchSecret() {
            return _ref2.apply(this, arguments);
          };
        }();

        return fetchSecret().then(function (secret) {
          if (secret == 0) {
            console.log('Cannot fetch secret, try again in 5 sec...');
            return sleep(5000).then(fetchSecret);
          } else {
            return secret;
          }
        });
      });
    },
    eosWithdrawTx: function eosWithdrawTx() {
      return new _promise2.default(function (resolve) {
        __webpack_provided_swap_dot_room.once(flow.actions.eosWithdraw, resolve);
      });
    }
  };
};

var notifiers = function notifiers(flow) {
  return {
    openSwap: function openSwap() {
      var _flow$state2 = flow.state,
          openTx = _flow$state2.openTx,
          swapID = _flow$state2.swapID;


      flow.swap.room.sendMessage({
        event: 'open swap',
        data: {
          openTx: openTx, swapID: swapID
        }
      });
    },
    btcWithdraw: function btcWithdraw() {
      var btcWithdrawTx = flow.state.btcWithdrawTx;


      flow.swap.room.sendMessage({
        event: 'btc withdraw',
        data: {
          btcWithdrawTx: btcWithdrawTx
        }
      });
    }
  };
};

var EOS2BTC = function (_Flow) {
  (0, _inherits3.default)(EOS2BTC, _Flow);
  (0, _createClass3.default)(EOS2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eos;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function EOS2BTC(swap) {
    (0, _classCallCheck3.default)(this, EOS2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EOS2BTC.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC)).call(this, swap));

    _this._flowName = EOS2BTC.getName();

    _this.eosSwap = _swap2.default.swaps[_swap.constants.COINS.eos];
    _this.btcSwap = _swap2.default.swaps[_swap.constants.COINS.btc];

    _this.state = (0, _extends3.default)({}, _this.state, {
      swapID: null,

      secret: null,
      secretHash: null,

      scriptValues: null,

      createTx: null,
      openTx: null,
      eosWithdrawTx: null,
      btcWithdrawTx: null
    });

    _this.actions = {
      submitSecret: 'submit secret',
      createBtcScript: 'create btc script',
      verifyScript: 'verify script',
      openSwap: 'open swap',
      eosWithdraw: 'eos withdraw',
      btcWithdraw: 'btc withdraw'
    };

    _this.act = handlers(_this);
    _this.needs = listeners(_this);
    _this.notify = notifiers(_this);

    _this.listenNotifyRequests();

    (0, _get3.default)(EOS2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC.prototype), '_persistSteps', _this).call(_this);
    (0, _get3.default)(EOS2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC.prototype), '_persistState', _this).call(_this);
    return _this;
  }

  (0, _createClass3.default)(EOS2BTC, [{
    key: '_getSteps',
    value: function _getSteps() {
      var flow = this;

      return [function () {
        flow.needs.btcScript().then(function (_ref3) {
          var scriptValues = _ref3.scriptValues,
              createTx = _ref3.createTx;
          var secretHash = scriptValues.secretHash;


          flow.finishStep({ scriptValues: scriptValues, secretHash: secretHash, createTx: createTx });
        });
      }, function () {
        flow.needs.verifyScript().then(function () {
          flow.finishStep();
        });
      }, function () {
        flow.act.openSwap().then(function (_ref4) {
          var openTx = _ref4.openTx,
              swapID = _ref4.swapID;

          flow.finishStep({ openTx: openTx, swapID: swapID });
          flow.notify.openSwap();
        });
      }, function () {
        flow.needs.revealedSecret().then(function (secret) {
          flow.finishStep({ secret: secret });
        });
        flow.needs.eosWithdrawTx().then(function (eosWithdrawTx) {
          flow.setState({ eosWithdrawTx: eosWithdrawTx });
        });
      }, function () {
        flow.act.btcWithdraw().then(function (_ref5) {
          var txid = _ref5.txid;

          flow.finishStep({ btcWithdrawTx: txid });
          flow.notify.btcWithdraw();
        });
      }];
    }
  }, {
    key: 'listenNotifyRequests',
    value: function listenNotifyRequests() {
      var flow = this;

      flow.swap.room.on('request ' + flow.actions.openSwap, function () {
        if (flow.state.openTx && flow.state.swapID) {
          flow.notify.openSwap();
        }
      });

      flow.swap.room.on('request ' + flow.actions.btcWithdraw, function () {
        if (flow.state.btcWithdrawTx) {
          flow.notify.btcWithdraw();
        }
      });
    }
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var flow = this;

      return flow.act.refund().then(function (eosRefundTx) {
        flow.setState({ eosRefundTx: eosRefundTx });
      });
    }
  }]);
  return EOS2BTC;
}(_swap3.Flow);

exports.default = EOS2BTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(650)))

/***/ }),

/***/ 3176:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var handlers = function handlers(flow) {
  return {
    createBtcScript: function createBtcScript() {
      var _flow$swap = flow.swap,
          amount = _flow$swap.sellAmount,
          eosOwner = _flow$swap.participant;


      var getLockTime = function getLockTime() {
        var eosLockTime = flow.eosSwap.getLockPeriod();
        var btcLockTime = eosLockTime * 2;
        var nowTime = Math.floor(Date.now() / 1000);

        return nowTime + btcLockTime;
      };

      var lockTime = getLockTime();

      var scriptValues = {
        secretHash: flow.state.secretHash,
        ownerPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
        recipientPublicKey: eosOwner.btc.publicKey,
        lockTime: lockTime
      };

      var fundScript = function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var createTx;
          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  createTx = null;
                  _context.next = 3;
                  return flow.btcSwap.fundScript({
                    scriptValues: scriptValues, amount: amount
                  }, function (hash) {
                    createTx = hash;
                  }, 'sha256');

                case 3:
                  return _context.abrupt('return', createTx);

                case 4:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, undefined);
        }));

        return function fundScript() {
          return _ref.apply(this, arguments);
        };
      }();

      return fundScript().then(function (createTx) {
        return { createTx: createTx, scriptValues: scriptValues };
      });
    },
    eosWithdraw: function eosWithdraw() {
      var secret = flow.state.secret;
      var eosOwner = flow.swap.participant;


      return flow.eosSwap.withdraw({
        eosOwner: eosOwner.eos.address,
        secret: secret
      });
    },
    refund: function refund() {
      return undefined.btcSwap.refund({
        scriptValues: flow.state.btcScriptValues,
        secret: flow.state.secret
      });
    }
  };
};

var listeners = function listeners(flow) {
  return {
    secret: function secret() {
      return new _promise2.default(function (resolve) {
        flow.swap.events.once(flow.actions.submitSecret, resolve);
      });
    },
    openSwap: function openSwap() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.openSwap, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.openSwap
        });
      });
    },
    btcWithdraw: function btcWithdraw() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.btcWithdraw, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.btcWithdraw
        });
      });
    }
  };
};

var notifiers = function notifiers(flow) {
  return {
    createBtcScript: function createBtcScript() {
      var _flow$state = flow.state,
          scriptValues = _flow$state.scriptValues,
          createTx = _flow$state.createTx;


      flow.swap.room.sendMessage({
        event: flow.actions.createBtcScript,
        data: {
          scriptValues: scriptValues, createTx: createTx
        }
      });
    },
    eosWithdraw: function eosWithdraw() {
      var _flow$state2 = flow.state,
          eosWithdrawTx = _flow$state2.eosWithdrawTx,
          secret = _flow$state2.secret;


      flow.swap.room.sendMessage({
        event: flow.actions.eosWithdraw,
        data: {
          eosWithdrawTx: eosWithdrawTx, secret: secret
        }
      });
    }
  };
};

var BTC2EOS = function (_Flow) {
  (0, _inherits3.default)(BTC2EOS, _Flow);
  (0, _createClass3.default)(BTC2EOS, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eos;
    }
  }]);

  function BTC2EOS(swap) {
    (0, _classCallCheck3.default)(this, BTC2EOS);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2EOS.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS)).call(this, swap));

    _this._flowName = BTC2EOS.getName();

    _this.btcSwap = _swap2.default.swaps[_swap.constants.COINS.btc];
    _this.eosSwap = _swap2.default.swaps[_swap.constants.COINS.eos];

    _this.state = (0, _extends3.default)({}, _this.state, {
      swapID: null,

      secret: null,
      secretHash: null,

      scriptValues: null,

      createTx: null,
      openTx: null,
      eosWithdrawTx: null,
      btcWithdrawTx: null
    });

    _this.actions = {
      submitSecret: 'submit secret',
      createBtcScript: 'create btc script',
      verifyScript: 'verify script',
      openSwap: 'open swap',
      eosWithdraw: 'eos withdraw',
      btcWithdraw: 'btc withdraw'
    };

    _this.act = handlers(_this);
    _this.needs = listeners(_this);
    _this.notify = notifiers(_this);

    _this.listenNotifyRequests();

    (0, _get3.default)(BTC2EOS.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS.prototype), '_persistSteps', _this).call(_this);
    (0, _get3.default)(BTC2EOS.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS.prototype), '_persistState', _this).call(_this);
    return _this;
  }

  (0, _createClass3.default)(BTC2EOS, [{
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [function () {
        flow.needs.secret().then(function (_ref2) {
          var secret = _ref2.secret,
              secretHash = _ref2.secretHash;

          _this2.finishStep({
            secret: secret, secretHash: secretHash
          });
        });
      }, function () {
        flow.act.createBtcScript().then(function (_ref3) {
          var scriptValues = _ref3.scriptValues,
              createTx = _ref3.createTx;

          flow.finishStep({ scriptValues: scriptValues, createTx: createTx });
          flow.notify.createBtcScript();
        });
      }, function () {
        flow.needs.openSwap().then(function (_ref4) {
          var openTx = _ref4.openTx,
              swapID = _ref4.swapID;

          flow.finishStep({ openTx: openTx, swapID: swapID });
        });
      }, function () {
        flow.act.eosWithdraw().then(function (eosWithdrawTx) {
          flow.finishStep({ eosWithdrawTx: eosWithdrawTx });
          flow.notify.eosWithdraw();
        });
      }, function () {
        flow.needs.btcWithdraw().then(function (_ref5) {
          var btcWithdrawTx = _ref5.btcWithdrawTx;

          flow.finishStep({ btcWithdrawTx: btcWithdrawTx });
        });
      }];
    }
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var flow = this;

      return flow.act.refund().then(function (hash) {
        flow.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      });
    }
  }, {
    key: 'listenNotifyRequests',
    value: function listenNotifyRequests() {
      var flow = this;

      flow.swap.room.on('request ' + flow.actions.createBtcScript, function () {
        if (flow.state.scriptValues && flow.state.createTx) {
          flow.send().btcScript();
        }
      });

      flow.swap.room.on('request ' + flow.actions.eosWithdraw, function () {
        if (flow.state.eosWithdrawTx && flow.state.secret) {
          flow.send().eosWithdraw();
        }
      });
    }
  }]);
  return BTC2EOS;
}(_swap3.Flow);

exports.default = BTC2EOS;
module.exports = exports['default'];

/***/ }),

/***/ 3177:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
exports.default = function (tokenName) {
  var ETHTOKEN2BTC = function (_Flow) {
    (0, _inherits3.default)(ETHTOKEN2BTC, _Flow);
    (0, _createClass3.default)(ETHTOKEN2BTC, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return tokenName.toUpperCase();
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return _swap.constants.COINS.btc;
      }
    }]);

    function ETHTOKEN2BTC(swap) {
      (0, _classCallCheck3.default)(this, ETHTOKEN2BTC);

      var _this = (0, _possibleConstructorReturn3.default)(this, (ETHTOKEN2BTC.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC)).call(this, swap));

      _this._flowName = ETHTOKEN2BTC.getName();

      _this.stepNumbers = {
        'sign': 1,
        'wait-lock-btc': 2,
        'verify-script': 3,
        'sync-balance': 4,
        'lock-eth': 5,
        'wait-withdraw-eth': 6, // aka getSecret
        'withdraw-btc': 7,
        'finish': 8,
        'end': 9
      };

      _this.ethTokenSwap = swap.participantSwap;
      _this.btcSwap = swap.ownerSwap;

      if (!_this.ethTokenSwap) {
        throw new Error('ETHTOKEN2BTC: "ethTokenSwap" of type object required');
      }
      if (!_this.btcSwap) {
        throw new Error('ETHTOKEN2BTC: "btcSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isMeSigned: false,

        targetWallet: null,
        secretHash: null,
        btcScriptValues: null,

        btcScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        btcScriptCreatingTransactionHash: null,
        ethSwapCreationTransactionHash: null,
        isEthContractFunded: false,

        secret: null,

        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTransactionHash: null,
        isRefunded: false,

        isFinished: false,
        isSwapExist: false
      };

      (0, _get3.default)(ETHTOKEN2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(ETHTOKEN2BTC, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(ETHTOKEN2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Sign swap to start

        function () {
          // this.sign()
        },

        // 2. Wait participant create, fund BTC Script

        function () {
          flow.swap.room.once('create btc script', function (_ref) {
            var scriptValues = _ref.scriptValues,
                btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;

            flow.finishStep({
              secretHash: scriptValues.secretHash,
              btcScriptValues: scriptValues,
              btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
            }, { step: 'wait-lock-btc', silentError: true });
          });

          flow.swap.room.sendMessage({
            event: 'request btc script'
          });
        },

        // 3. Verify BTC Script

        function () {
          // this.verifyBtcScript()
        },

        // 4. Check balance

        function () {
          _this2.syncBalance();
        },

        // 5. Create ETH Contract

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
          var _flow$swap, participant, buyAmount, sellAmount, owner, utcNow, getLockTime, scriptCheckResult, swapData, allowance, ethSwapCreationTransactionHash;

          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount, owner = _flow$swap.owner;

                  // TODO move this somewhere!

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  getLockTime = function getLockTime() {
                    return utcNow() + 3600 * 1;
                  }; // 1 hour from now

                  _context2.next = 5;
                  return flow.btcSwap.checkScript(flow.state.btcScriptValues, {
                    value: buyAmount,
                    recipientPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                    lockTime: getLockTime()
                  });

                case 5:
                  scriptCheckResult = _context2.sent;

                  if (!scriptCheckResult) {
                    _context2.next = 10;
                    break;
                  }

                  console.error('Btc script check error:', scriptCheckResult);
                  flow.swap.events.dispatch('btc script check error', scriptCheckResult);
                  return _context2.abrupt('return');

                case 10:
                  swapData = {
                    participantAddress: participant.eth.address,
                    secretHash: flow.state.secretHash,
                    amount: sellAmount,
                    targetWallet: flow.swap.destinationSellAddress
                  };
                  _context2.next = 13;
                  return flow.ethTokenSwap.checkAllowance(_swap2.default.services.auth.getPublicData().eth.address);

                case 13:
                  allowance = _context2.sent;

                  if (!(allowance < sellAmount)) {
                    _context2.next = 17;
                    break;
                  }

                  _context2.next = 17;
                  return flow.ethTokenSwap.approve({
                    amount: sellAmount
                  });

                case 17:

                  /* create contract and save this hash */
                  ethSwapCreationTransactionHash = void 0;
                  _context2.next = 20;
                  return flow.ethTokenSwap.create(swapData, function () {
                    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(hash) {
                      return _regenerator2.default.wrap(function _callee$(_context) {
                        while (1) {
                          switch (_context.prev = _context.next) {
                            case 0:
                              ethSwapCreationTransactionHash = hash;

                            case 1:
                            case 'end':
                              return _context.stop();
                          }
                        }
                      }, _callee, _this2);
                    }));

                    return function (_x) {
                      return _ref3.apply(this, arguments);
                    };
                  }());

                case 20:

                  /* set Target wallet */
                  //await flow.setTargetWalletDo();

                  /* send data to other side */
                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                    }
                  });

                  flow.setState({
                    ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                  });

                  flow.finishStep({
                    isEthContractFunded: true
                  }, { step: 'lock-eth' });

                case 23:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2);
        })),

        // 6. Wait participant withdraw

        function () {
          flow.swap.room.once('ethWithdrawTxHash', function () {
            var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref5) {
              var ethSwapWithdrawTransactionHash = _ref5.ethSwapWithdrawTransactionHash;
              var secret;
              return _regenerator2.default.wrap(function _callee3$(_context3) {
                while (1) {
                  switch (_context3.prev = _context3.next) {
                    case 0:
                      flow.setState({
                        ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                      });

                      _context3.next = 3;
                      return flow.ethTokenSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);

                    case 3:
                      secret = _context3.sent;


                      if (!flow.state.isEthWithdrawn && secret) {
                        console.log('got secret from tx', ethSwapWithdrawTransactionHash, secret);
                        flow.finishStep({
                          isEthWithdrawn: true,
                          secret: secret
                        }, { step: 'wait-withdraw-eth' });
                      }

                    case 5:
                    case 'end':
                      return _context3.stop();
                  }
                }
              }, _callee3, _this2);
            }));

            return function (_x2) {
              return _ref4.apply(this, arguments);
            };
          }());

          flow.swap.room.sendMessage({
            event: 'request ethWithdrawTxHash'
          });

          // If partner decides to scam and doesn't send ethWithdrawTxHash
          // then we try to withdraw as in ETHTOKEN2USDT

          var participant = flow.swap.participant;


          var checkSecretExist = function () {
            var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
              var secret;
              return _regenerator2.default.wrap(function _callee4$(_context4) {
                while (1) {
                  switch (_context4.prev = _context4.next) {
                    case 0:
                      _context4.prev = 0;
                      _context4.next = 3;
                      return flow.ethTokenSwap.getSecret({
                        participantAddress: participant.eth.address
                      });

                    case 3:
                      secret = _context4.sent;

                      if (!secret) {
                        _context4.next = 10;
                        break;
                      }

                      clearInterval(checkSecretTimer);

                      if (!(flow.state.secret && secret !== flow.state.secret)) {
                        _context4.next = 8;
                        break;
                      }

                      throw new Error('Secret already exists and it differs! ' + secret + ' \u2260 ' + flow.state.secret);

                    case 8:

                      console.log('got secret from smart contract', secret);
                      flow.finishStep({
                        secret: secret,
                        isEthWithdrawn: true
                      }, { step: 'wait-withdraw-eth' });

                    case 10:
                      _context4.next = 15;
                      break;

                    case 12:
                      _context4.prev = 12;
                      _context4.t0 = _context4['catch'](0);
                      console.error(_context4.t0);
                    case 15:
                    case 'end':
                      return _context4.stop();
                  }
                }
              }, _callee4, _this2, [[0, 12]]);
            }));

            return function checkSecretExist() {
              return _ref6.apply(this, arguments);
            };
          }();

          var checkSecretTimer = setInterval(checkSecretExist, 20 * 1000);

          flow.swap.room.once('finish eth withdraw', function () {
            checkSecretExist();
          });
        },

        // 7. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
          var _flow$state, secret, btcScriptValues;

          return _regenerator2.default.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  _flow$state = flow.state, secret = _flow$state.secret, btcScriptValues = _flow$state.btcScriptValues;

                  if (btcScriptValues) {
                    _context5.next = 4;
                    break;
                  }

                  console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                  return _context5.abrupt('return');

                case 4:
                  _context5.next = 6;
                  return flow.btcSwap.withdraw({
                    scriptValues: flow.state.btcScriptValues,
                    secret: secret
                  }, function (hash) {
                    flow.setState({
                      btcSwapWithdrawTransactionHash: hash
                    });
                  });

                case 6:

                  flow.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-btc' });

                case 7:
                case 'end':
                  return _context5.stop();
              }
            }
          }, _callee5, _this2);
        })),

        // 8. Finish

        function () {
          flow.swap.room.sendMessage({
            event: 'swap finished'
          });

          flow.finishStep({
            isFinished: true
          });
        },

        // 9. Finished!

        function () {}];
      }
    }, {
      key: '_checkSwapAlreadyExists',
      value: function _checkSwapAlreadyExists() {
        var participant = this.swap.participant;


        var swapData = {
          ownerAddress: _swap2.default.services.auth.accounts.eth.address,
          participantAddress: participant.eth.address
        };

        return this.ethTokenSwap.checkSwapExists(swapData);
      }
    }, {
      key: 'sign',
      value: function () {
        var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
          var _this3 = this;

          var swapExists;
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.next = 2;
                  return this._checkSwapAlreadyExists();

                case 2:
                  swapExists = _context6.sent;

                  if (!swapExists) {
                    _context6.next = 8;
                    break;
                  }

                  this.swap.room.sendMessage({
                    event: 'swap exists'
                  });

                  this.setState({
                    isSwapExist: true
                  });
                  _context6.next = 15;
                  break;

                case 8:
                  if (!(this.state.isSignFetching || this.state.isMeSigned)) {
                    _context6.next = 10;
                    break;
                  }

                  return _context6.abrupt('return', true);

                case 10:

                  this.setState({
                    isSignFetching: true
                  });

                  this.swap.room.on('request sign', function () {
                    _this3.swap.room.sendMessage({
                      event: 'swap sign'
                    });
                  });

                  this.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  this.finishStep({
                    isMeSigned: true
                  }, { step: 'sign', silentError: true });

                  return _context6.abrupt('return', true);

                case 15:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, this);
        }));

        function sign() {
          return _ref8.apply(this, arguments);
        }

        return sign;
      }()
    }, {
      key: 'verifyBtcScript',
      value: function verifyBtcScript() {
        if (this.state.btcScriptVerified) {
          return true;
        }
        if (!this.state.btcScriptValues) {
          throw new Error('No script, cannot verify');
        }

        this.finishStep({
          btcScriptVerified: true
        }, { step: 'verify-script' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context7.next = 4;
                  return this.ethTokenSwap.fetchBalance(_swap2.default.services.auth.accounts.eth.address);

                case 4:
                  balance = _context7.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (isEnoughMoney) {
                    this.finishStep({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: true
                    }, { step: 'sync-balance' });
                  } else {
                    this.setState({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: false
                    });
                  }

                case 7:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, this);
        }));

        function syncBalance() {
          return _ref9.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
          var _this4 = this;

          var participant;
          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  participant = this.swap.participant;
                  return _context8.abrupt('return', this.ethTokenSwap.refund({
                    participantAddress: participant.eth.address
                  }, function (hash) {
                    _this4.setState({
                      refundTransactionHash: hash,
                      isRefunded: true
                    });
                  }).then(function () {
                    _this4.swap.room.sendMessage({
                      event: 'refund completed'
                    });

                    _this4.setState({
                      isSwapExist: false
                    });
                  }));

                case 2:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, this);
        }));

        function tryRefund() {
          return _ref10.apply(this, arguments);
        }

        return tryRefund;
      }()
    }, {
      key: 'tryWithdraw',
      value: function () {
        var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(_secret) {
          var _state, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

          return _regenerator2.default.wrap(function _callee9$(_context9) {
            while (1) {
              switch (_context9.prev = _context9.next) {
                case 0:
                  _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, btcScriptValues = _state.btcScriptValues;

                  if (_secret) {
                    _context9.next = 3;
                    break;
                  }

                  throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

                case 3:
                  if (btcScriptValues) {
                    _context9.next = 5;
                    break;
                  }

                  throw new Error('Cannot withdraw without script values');

                case 5:

                  if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                  if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                  console.log('WITHDRAW using secret = ' + _secret);

                  _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                  if (secretHash != _secretHash) console.warn('Hash does not match!');

                  _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                  _context9.next = 13;
                  return this.btcSwap.getBalance(scriptAddress);

                case 13:
                  balance = _context9.sent;


                  console.log('address=' + scriptAddress + ', balance=' + balance);

                  if (!(balance === 0)) {
                    _context9.next = 18;
                    break;
                  }

                  this.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-btc' });
                  throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

                case 18:
                case 'end':
                  return _context9.stop();
              }
            }
          }, _callee9, this);
        }));

        function tryWithdraw(_x3) {
          return _ref11.apply(this, arguments);
        }

        return tryWithdraw;
      }()
    }]);
    return ETHTOKEN2BTC;
  }(_swap3.Flow);

  return ETHTOKEN2BTC;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3178:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (tokenName) {
  var BTC2ETHTOKEN = function (_Flow) {
    (0, _inherits3.default)(BTC2ETHTOKEN, _Flow);
    (0, _createClass3.default)(BTC2ETHTOKEN, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return _swap.constants.COINS.btc;
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return tokenName.toUpperCase();
      }
    }]);

    function BTC2ETHTOKEN(swap) {
      (0, _classCallCheck3.default)(this, BTC2ETHTOKEN);

      var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2ETHTOKEN.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN)).call(this, swap));

      _this.getRefundTxHex = function () {
        _this.btcSwap.getRefundHexTransaction({
          scriptValues: _this.state.btcScriptValues,
          secret: _this.state.secret
        }).then(function (txHex) {
          _this.setState({
            refundTxHex: txHex
          });
        });
      };

      _this._flowName = BTC2ETHTOKEN.getName();

      _this.stepNumbers = {
        'sign': 1,
        'submit-secret': 2,
        'sync-balance': 3,
        'lock-btc': 4,
        'wait-lock-eth': 5,
        'withdraw-eth': 6,
        'finish': 7,
        'end': 8
      };

      _this.ethTokenSwap = swap.ownerSwap;
      _this.btcSwap = swap.participantSwap;

      if (!_this.ethTokenSwap) {
        throw new Error('BTC2ETH: "ethTokenSwap" of type object required');
      }
      if (!_this.btcSwap) {
        throw new Error('BTC2ETH: "btcSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isParticipantSigned: false,

        btcScriptCreatingTransactionHash: null,
        ethSwapCreationTransactionHash: null,

        secretHash: null,
        btcScriptValues: null,

        btcScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        isEthContractFunded: false,

        ethSwapWithdrawTransactionHash: null,
        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTxHex: null,
        isFinished: false,
        isSwapExist: false
      };

      (0, _get3.default)(BTC2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(BTC2ETHTOKEN, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(BTC2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Signs

        function () {
          flow.swap.room.once('swap sign', function () {
            flow.finishStep({
              isParticipantSigned: true
            }, { step: 'sign', silentError: true });
          });

          flow.swap.room.once('swap exists', function () {
            flow.setState({
              isSwapExist: true
            });
          });

          if (flow.state.isSwapExist) {
            flow.swap.room.once('refund completed', function () {
              flow.swap.room.sendMessage({
                event: 'request sign'
              });
            });
          } else {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          }
        },

        // 2. Create secret, secret hash and BTC script

        function () {
          // this.submitSecret()
        },

        // 3. Check system wallet balance

        function () {
          _this2.syncBalance();
        },

        // 4. Fund BTC Script if balance enough - else infinity loop BTC balance check, notify participant

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
          var sellAmount, btcScriptCreatingTransactionHash, onBTCFuncSuccess, btcCheckTimer, checkBTCScriptBalance;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  sellAmount = flow.swap.sellAmount;
                  btcScriptCreatingTransactionHash = void 0;

                  onBTCFuncSuccess = function onBTCFuncSuccess(txID) {

                    flow.swap.room.on('request btc script', function () {
                      flow.swap.room.sendMessage({
                        event: 'create btc script',
                        data: {
                          scriptValues: flow.state.btcScriptValues,
                          btcScriptCreatingTransactionHash: txID
                        }
                      });
                    });

                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: flow.state.btcScriptValues,
                        btcScriptCreatingTransactionHash: txID
                      }
                    });

                    flow.finishStep({
                      isBtcScriptFunded: true
                    }, { step: 'lock-btc' });
                  };

                  // Balance on system wallet enough


                  if (!flow.state.isBalanceEnough) {
                    _context2.next = 8;
                    break;
                  }

                  _context2.next = 6;
                  return flow.btcSwap.fundScript({
                    scriptValues: flow.state.btcScriptValues,
                    amount: sellAmount
                  }, function (hash) {
                    btcScriptCreatingTransactionHash = hash;

                    flow.setState({
                      btcScriptCreatingTransactionHash: hash
                    });

                    onBTCFuncSuccess(hash);
                  });

                case 6:
                  _context2.next = 11;
                  break;

                case 8:
                  btcCheckTimer = void 0;

                  checkBTCScriptBalance = function checkBTCScriptBalance() {
                    btcCheckTimer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                      var sellAmount, txID, unspends, unconfirmedTotalSatoshi, unconfirmedTotal, balance, balanceSatoshi, balanceOnScript, isEnoughMoney;
                      return _regenerator2.default.wrap(function _callee$(_context) {
                        while (1) {
                          switch (_context.prev = _context.next) {
                            case 0:
                              sellAmount = flow.swap.sellAmount;
                              txID = false;
                              _context.next = 4;
                              return _this2.btcSwap.fetchUnspents(flow.state.scriptAddress);

                            case 4:
                              unspends = _context.sent;

                              if (unspends.length) txID = unspends[0].txID;

                              unconfirmedTotalSatoshi = BigInt(unspends.reduce(function (summ, txData) {
                                return summ + !txData.confirmations ? txData.satoshis : 0;
                              }, 0));
                              unconfirmedTotal = unspends.reduce(function (summ, txData) {
                                return summ + !txData.confirmations ? txData.amount : 0;
                              }, 0);
                              _context.next = 10;
                              return _this2.btcSwap.getBalance(flow.state.scriptAddress);

                            case 10:
                              balance = _context.sent;
                              balanceSatoshi = BigInt(balance * 1e8);


                              flow.setState({
                                scriptBalance: balance,
                                scriptUnconfirmedBalance: unconfirmedTotal
                              });
                              balanceOnScript = balanceSatoshi + unconfirmedTotalSatoshi + BigInt(_this2.btcSwap.getTxFee(true));
                              isEnoughMoney = sellAmount.multipliedBy(1e8).isLessThanOrEqualTo(balanceOnScript);


                              if (isEnoughMoney) {
                                onBTCFuncSuccess(txID);
                              } else {
                                checkBTCScriptBalance();
                              }

                            case 16:
                            case 'end':
                              return _context.stop();
                          }
                        }
                      }, _callee, _this2);
                    })), 20 * 1000);
                  };

                  checkBTCScriptBalance();

                case 11:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2);
        })),

        // 5. Wait participant creates ETH Contract

        function () {
          var participant = flow.swap.participant;

          var timer = void 0;

          flow.swap.room.once('create eth contract', function (_ref3) {
            var ethSwapCreationTransactionHash = _ref3.ethSwapCreationTransactionHash;

            flow.setState({
              ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
            });
          });

          flow.waitEthBalance().then(function (balance) {
            if (balance > 0) {
              if (!flow.state.isEthContractFunded) {
                // redundant condition but who cares :D
                flow.finishStep({
                  isEthContractFunded: true
                }, { step: 'wait-lock-eth' });
              }
            }
          });

          flow.swap.room.once('create eth contract', function () {
            if (!flow.state.isEthContractFunded) {
              clearTimeout(timer);
              timer = null;

              flow.finishStep({
                isEthContractFunded: true
              }, { step: 'wait-lock-eth' });
            }
          });
        },

        // 6. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
          var _flow$swap, buyAmount, participant, data, balanceCheckResult, targetWallet, needTargetWallet;

          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _flow$swap = flow.swap, buyAmount = _flow$swap.buyAmount, participant = _flow$swap.participant;
                  data = {
                    ownerAddress: participant.eth.address,
                    secret: flow.state.secret
                  };
                  _context3.next = 4;
                  return flow.waitEthBalance();

                case 4:
                  balanceCheckResult = _context3.sent;

                  if (balanceCheckResult) {
                    _context3.next = 9;
                    break;
                  }

                  console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                  flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                  return _context3.abrupt('return');

                case 9:
                  _context3.next = 11;
                  return flow.ethTokenSwap.getTargetWallet(participant.eth.address);

                case 11:
                  targetWallet = _context3.sent;
                  needTargetWallet = flow.swap.destinationBuyAddress ? flow.swap.destinationBuyAddress : _swap2.default.services.auth.accounts.eth.address;

                  if (!(targetWallet != needTargetWallet)) {
                    _context3.next = 17;
                    break;
                  }

                  console.error("Destination address for tokens dismatch with needed (Needed, Getted). Stop swap now!", needTargetWallet, targetWallet);
                  flow.swap.events.dispatch('address for tokens invalid', { needed: needTargetWallet, getted: targetWallet });
                  return _context3.abrupt('return');

                case 17:
                  _context3.prev = 17;
                  _context3.next = 20;
                  return flow.ethTokenSwap.withdraw(data, function (hash) {
                    flow.setState({
                      ethSwapWithdrawTransactionHash: hash
                    });

                    flow.swap.room.sendMessage({
                      event: 'ethWithdrawTxHash',
                      data: {
                        ethSwapWithdrawTransactionHash: hash
                      }
                    });
                  });

                case 20:
                  _context3.next = 26;
                  break;

                case 22:
                  _context3.prev = 22;
                  _context3.t0 = _context3['catch'](17);

                  // TODO user can stuck here after page reload...
                  if (!/known transaction/.test(_context3.t0.message)) console.error(_context3.t0);
                  return _context3.abrupt('return');

                case 26:

                  flow.swap.room.on('request ethWithdrawTxHash', function () {
                    flow.swap.room.sendMessage({
                      event: 'ethWithdrawTxHash',
                      data: {
                        ethSwapWithdrawTransactionHash: flow.state.ethSwapWithdrawTransactionHash
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'finish eth withdraw'
                  });

                  flow.finishStep({
                    isEthWithdrawn: true
                  });

                case 29:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this2, [[17, 22]]);
        })),

        // 7. Finish

        function () {
          flow.swap.room.once('swap finished', function () {
            flow.finishStep({
              isFinished: true
            });
          });
        },

        // 8. Finished!
        function () {}];
      }
    }, {
      key: 'waitEthBalance',
      value: function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
          var _this3 = this;

          var flow, participant;
          return _regenerator2.default.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  flow = this;
                  participant = this.swap.participant;
                  return _context5.abrupt('return', new _promise2.default(function (resolve, reject) {
                    var checkEthBalance = function () {
                      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
                        var balance;
                        return _regenerator2.default.wrap(function _callee4$(_context4) {
                          while (1) {
                            switch (_context4.prev = _context4.next) {
                              case 0:
                                _context4.next = 2;
                                return flow.ethTokenSwap.getBalance({
                                  ownerAddress: participant.eth.address
                                });

                              case 2:
                                balance = _context4.sent;

                                if (balance > 0) {
                                  resolve(balance);
                                } else {
                                  setTimeout(checkEthBalance, 20 * 1000);
                                }

                              case 4:
                              case 'end':
                                return _context4.stop();
                            }
                          }
                        }, _callee4, _this3);
                      }));

                      return function checkEthBalance() {
                        return _ref6.apply(this, arguments);
                      };
                    }();

                    checkEthBalance();
                  }));

                case 3:
                case 'end':
                  return _context5.stop();
              }
            }
          }, _callee5, this);
        }));

        function waitEthBalance() {
          return _ref5.apply(this, arguments);
        }

        return waitEthBalance;
      }()
    }, {
      key: 'submitSecret',
      value: function submitSecret(secret) {
        if (this.state.secretHash) {
          return;
        }

        if (!this.state.isParticipantSigned) {
          throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
        }

        var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

        /* Secret hash generated - create BTC script - and only after this notify other part */
        this.createWorkBTCScript(secretHash);

        this.finishStep({
          secret: secret,
          secretHash: secretHash
        }, { step: 'submit-secret' });
      }
    }, {
      key: 'getBTCScriptAddress',
      value: function getBTCScriptAddress() {
        return this.state.scriptAddress;
      }
    }, {
      key: 'createWorkBTCScript',
      value: function createWorkBTCScript(secretHash) {
        if (this.state.btcScriptValues) {
          console.log('BTC Script already generated', this.state.btcScriptValues);
          return;
        }
        var participant = this.swap.participant;
        // TODO move this somewhere!

        var utcNow = function utcNow() {
          return Math.floor(Date.now() / 1000);
        };
        var getLockTime = function getLockTime() {
          return utcNow() + 3600 * 3;
        }; // 3 hours from now

        var scriptValues = {
          secretHash: secretHash,
          ownerPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
          recipientPublicKey: participant.btc.publicKey,
          lockTime: getLockTime()
        };
        var scriptData = this.btcSwap.createScript(scriptValues);

        this.setState({
          scriptAddress: scriptData.scriptAddress,
          btcScriptValues: scriptValues,
          scriptBalance: 0,
          scriptUnspendBalance: 0
        });
      }
    }, {
      key: 'checkScriptBalance',
      value: function () {
        var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  console.log("BTC2ETHTOKEN checkScriptBalance - nothing do - empty :p - wait infinity loop");

                case 1:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, this);
        }));

        function checkScriptBalance() {
          return _ref7.apply(this, arguments);
        }

        return checkScriptBalance;
      }()
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context7.next = 4;
                  return this.btcSwap.fetchBalance(_swap2.default.services.auth.accounts.btc.getAddress());

                case 4:
                  balance = _context7.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (!isEnoughMoney) {
                    console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  }
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: isEnoughMoney
                  }, { step: 'sync-balance' });

                case 8:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, this);
        }));

        function syncBalance() {
          return _ref8.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function tryRefund() {
        var _this4 = this;

        return this.btcSwap.refund({
          scriptValues: this.state.btcScriptValues,
          secret: this.state.secret
        }, function (hash) {
          _this4.setState({
            refundTransactionHash: hash,
            isRefunded: true
          });
        }).then(function () {
          _this4.setState({
            isSwapExist: false
          });
        });
      }
    }]);
    return BTC2ETHTOKEN;
  }(_swap3.Flow);

  return BTC2ETHTOKEN;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3179:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (tokenName) {
  var USDT2ETHTOKEN = function (_Flow) {
    (0, _inherits3.default)(USDT2ETHTOKEN, _Flow);
    (0, _createClass3.default)(USDT2ETHTOKEN, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return _swap.constants.COINS.usdt;
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return tokenName.toUpperCase();
      }
    }]);

    function USDT2ETHTOKEN(swap) {
      (0, _classCallCheck3.default)(this, USDT2ETHTOKEN);

      var _this = (0, _possibleConstructorReturn3.default)(this, (USDT2ETHTOKEN.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN)).call(this, swap));

      _this.getRefundTxHex = function () {
        _this.usdtSwap.getRefundHexTransaction({
          scriptValues: _this.state.usdtScriptValues,
          secret: _this.state.secret
        }).then(function (txHex) {
          _this.setState({
            refundTxHex: txHex
          });
        });
      };

      _this._flowName = USDT2ETHTOKEN.getName();

      _this.ethTokenSwap = _swap2.default.swaps[tokenName.toUpperCase()];
      _this.usdtSwap = _swap2.default.swaps[_swap.constants.COINS.usdt];

      _this.myBtcAddress = _swap2.default.services.auth.accounts.btc.getAddress();
      _this.myEthAddress = _swap2.default.services.auth.accounts.eth.address;

      _this.stepNumbers = {
        'sign': 1,
        'submit-secret': 2,
        'sync-balance': 3,
        'lock-usdt': 4,
        'wait-lock-eth': 5,
        'withdraw-eth': 6,
        'finish': 7,
        'end': 8
      };

      if (!_this.ethTokenSwap) {
        throw new Error('USDT2ETH: "ethTokenSwap" of type object required');
      }
      if (!_this.usdtSwap) {
        throw new Error('USDT2ETH: "usdtSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isParticipantSigned: false,

        // btcScriptCreatingTransactionHash: null,
        usdtFundingTransactionHash: null,
        usdtFundingTransactionValues: null,

        ethSwapCreationTransactionHash: null,

        secretHash: null,
        usdtScriptValues: null,

        usdtScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        isEthContractFunded: false,

        ethSwapWithdrawTransactionHash: null,
        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTxHex: null,
        isFinished: false
      };

      (0, _get3.default)(USDT2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(USDT2ETHTOKEN, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(USDT2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Signs

        function () {
          flow.swap.room.once('swap sign', function () {
            console.log('swap sign!');
            flow.finishStep({
              isParticipantSigned: true
            }, { step: 'sign', silentError: true });
          });

          flow.swap.room.once('swap exists', function () {
            console.log('swap already exists');
          });

          // if I came late and he ALREADY send this, I request AGAIN
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        },

        // 2. Create secret, secret hash

        function () {
          // this.submitSecret()
        },

        // 3. Check balance

        function () {
          _this2.syncBalance();
        },

        // 4. Create USDT Script, fund, notify participant

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var _flow$swap, sellAmount, participant, usdtScriptValues, utcNow, getLockTime, scriptValues, usdtFundingTransactionHash, usdtFunding, fundingValues;

          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                  usdtScriptValues = flow.state.usdtScriptValues;

                  // TODO move this somewhere!

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  getLockTime = function getLockTime() {
                    return utcNow() + 3600 * 3;
                  }; // 3 hours from now

                  scriptValues = void 0;


                  if (!usdtScriptValues) {
                    scriptValues = {
                      secretHash: flow.state.secretHash,
                      ownerPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                      recipientPublicKey: participant.btc.publicKey,
                      lockTime: getLockTime()
                    };

                    flow.setState({
                      usdtScriptValues: scriptValues
                    });
                  } else {
                    scriptValues = usdtScriptValues;
                  }

                  console.log('sellAmount', sellAmount);
                  console.log('scriptValues', scriptValues);

                  usdtFundingTransactionHash = void 0, usdtFunding = void 0;
                  fundingValues = void 0;

                  if (!flow.state.usdtFundingTransactionValues) {
                    _context.next = 14;
                    break;
                  }

                  fundingValues = flow.state.usdtFundingTransactionValues;
                  _context.next = 16;
                  break;

                case 14:
                  _context.next = 16;
                  return flow.usdtSwap.fundScript({ scriptValues: scriptValues, amount: sellAmount }, function (hash, funding) {
                    usdtFundingTransactionHash = hash;
                    fundingValues = {
                      txid: hash,
                      scriptAddress: funding.scriptValues.scriptAddress
                    };

                    flow.setState({
                      usdtFundingTransactionValues: fundingValues,
                      usdtFundingTransactionHash: hash
                    });
                  });

                case 16:

                  flow.swap.room.on('request btc script', function () {
                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: scriptValues,
                        fundingValues: fundingValues,
                        usdtFundingTransactionHash: usdtFundingTransactionHash
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: scriptValues,
                      usdtFundingTransactionHash: usdtFundingTransactionHash
                    }
                  });

                  flow.finishStep({
                    isBtcScriptFunded: true,
                    usdtScriptValues: scriptValues
                  });

                  // leave only when we have and the party has all values
                  // scriptValues: secretHash, lockTime
                  // funding: txHash
                  // redeem: txHex

                case 19:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this2);
        })),

        // 5. Wait participant creates ETH Contract

        function () {
          var _flow$swap2 = flow.swap,
              buyAmount = _flow$swap2.buyAmount,
              participant = _flow$swap2.participant;


          flow.swap.room.once('create eth contract', function (_ref2) {
            var ethSwapCreationTransactionHash = _ref2.ethSwapCreationTransactionHash;

            flow.setState({
              ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
            });
          });

          var checkContractBalance = function () {
            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
              var balanceCheckResult;
              return _regenerator2.default.wrap(function _callee2$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.next = 2;
                      return flow.ethTokenSwap.checkBalance({
                        ownerAddress: participant.eth.address,
                        expectedValue: buyAmount
                      });

                    case 2:
                      balanceCheckResult = _context2.sent;


                      if (balanceCheckResult) {
                        console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                        flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                      } else {
                        clearInterval(checkBalanceTimer);

                        if (!flow.state.isEthContractFunded) {
                          flow.finishStep({
                            isEthContractFunded: true
                          }, { step: 'wait-lock-eth' });
                        }
                      }

                    case 4:
                    case 'end':
                      return _context2.stop();
                  }
                }
              }, _callee2, _this2);
            }));

            return function checkContractBalance() {
              return _ref3.apply(this, arguments);
            };
          }();

          var checkBalanceTimer = setInterval(checkContractBalance, 20 * 1000);

          flow.swap.room.once('create eth contract', function () {
            checkContractBalance();
          });
        },

        // 6. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
          var data;
          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  if (flow.state.isEthWithdrawn) {
                    flow.finishStep();
                  }

                  data = {
                    ownerAddress: flow.swap.participant.eth.address,
                    secret: flow.state.secret
                  };
                  _context3.prev = 2;
                  _context3.next = 5;
                  return flow.ethTokenSwap.withdraw(data, function (hash) {
                    console.log('withdraw tx hash', hash);

                    flow.setState({
                      ethSwapWithdrawTransactionHash: hash
                    });
                  });

                case 5:
                  _context3.next = 11;
                  break;

                case 7:
                  _context3.prev = 7;
                  _context3.t0 = _context3['catch'](2);

                  // TODO user can stuck here after page reload...
                  if (!/known transaction/.test(_context3.t0.message)) console.error(_context3.t0);
                  return _context3.abrupt('return');

                case 11:

                  flow.swap.room.sendMessage({
                    event: 'finish eth withdraw'
                  });

                  flow.finishStep({
                    isEthWithdrawn: true
                  });

                case 13:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this2, [[2, 7]]);
        })),

        // 7. Finish

        function () {
          flow.swap.room.once('swap finished', function () {
            flow.finishStep({
              isFinished: true
            });
          });
        },

        // 8. Finished!
        function () {}];
      }
    }, {
      key: 'submitSecret',
      value: function submitSecret(secret) {
        if (this.state.secretHash) return true;
        if (!this.state.isParticipantSigned) throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);

        var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

        this.finishStep({
          secret: secret,
          secretHash: secretHash
        }, { step: 'submit-secret' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context4.next = 4;
                  return this.usdtSwap.fetchBalance(_swap2.default.services.auth.accounts.btc.getAddress());

                case 4:
                  balance = _context4.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (isEnoughMoney) {
                    this.finishStep({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: true
                    }, { step: 'sync-balance' });
                  } else {
                    this.setState({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: false
                    });
                  }

                case 7:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, this);
        }));

        function syncBalance() {
          return _ref5.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function tryRefund() {
        var _this3 = this;

        return this.usdtSwap.refund({
          scriptValues: this.state.usdtScriptValues,
          secret: this.state.secret
        }, function (hash) {
          _this3.setState({
            refundTransactionHash: hash
          });
        }).then(function () {
          _this3.setState({
            isRefunded: true
          });
        });
      }
    }]);
    return USDT2ETHTOKEN;
  }(_swap3.Flow);

  return USDT2ETHTOKEN;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3180:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(116);

var _get3 = _interopRequireDefault(_get2);

var _crypto = __webpack_require__(72);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(99);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
exports.default = function (tokenName) {
  var ETHTOKEN2USDT = function (_Flow) {
    (0, _inherits3.default)(ETHTOKEN2USDT, _Flow);
    (0, _createClass3.default)(ETHTOKEN2USDT, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return tokenName.toUpperCase();
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return _swap.constants.COINS.usdt;
      }
    }]);

    function ETHTOKEN2USDT(swap) {
      (0, _classCallCheck3.default)(this, ETHTOKEN2USDT);

      var _this = (0, _possibleConstructorReturn3.default)(this, (ETHTOKEN2USDT.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT)).call(this, swap));

      _this._flowName = ETHTOKEN2USDT.getName();

      _this.ethTokenSwap = _swap2.default.swaps[tokenName.toUpperCase()];
      _this.usdtSwap = _swap2.default.swaps[_swap.constants.COINS.usdt];

      _this.myBtcAddress = _swap2.default.services.auth.accounts.btc.getAddress();
      _this.myEthAddress = _swap2.default.services.auth.accounts.eth.address;

      _this.stepNumbers = {
        'sign': 1,
        'wait-lock-usdt': 2,
        'verify-script': 3,
        'sync-balance': 4,
        'lock-eth': 5,
        'wait-withdraw-eth': 6, // aka getSecret
        'withdraw-usdt': 7,
        'finish': 8,
        'end': 9
      };

      if (!_this.ethTokenSwap) {
        throw new Error('ETHTOKEN2USDT: "ethTokenSwap" of type object required');
      }
      if (!_this.usdtSwap) {
        throw new Error('ETHTOKEN2USDT: "usdtSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isMeSigned: false,

        secretHash: null,
        usdtScriptValues: null,

        usdtScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        usdtFundingTransactionHash: null,

        ethSwapCreationTransactionHash: null,
        usdtSwapWithdrawTransactionHash: null,

        isEthContractFunded: false,

        secret: null,

        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTransactionHash: null,

        isFinished: false
      };

      (0, _get3.default)(ETHTOKEN2USDT.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(ETHTOKEN2USDT, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(ETHTOKEN2USDT.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Sign swap to start

        function () {
          // this.sign()
        },

        // 2. Wait participant create, fund USDT Script

        function () {
          flow.swap.room.once('create btc script', function (_ref) {
            var scriptValues = _ref.scriptValues,
                usdtFundingTransactionHash = _ref.usdtFundingTransactionHash;

            flow.finishStep({
              secretHash: scriptValues.secretHash,
              usdtScriptValues: scriptValues,
              usdtFundingTransactionHash: usdtFundingTransactionHash
            }, { step: 'wait-lock-usdt', silentError: true });
          });

          flow.swap.room.sendMessage({
            event: 'request btc script'
          });
        },

        // 3. Verify USDT Script

        function () {
          // this.verifyBtcScript()
        },

        // 4. Check balance

        function () {
          _this2.syncBalance();
        },

        // 5. Create ETH Contract

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var _flow$swap, participant, buyAmount, sellAmount, ethSwapCreationTransactionHash, utcNow, getLockTime, scriptValues, scriptCheckResult, swapData;

          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                  ethSwapCreationTransactionHash = void 0;

                  // TODO move this somewhere!

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  getLockTime = function getLockTime() {
                    return utcNow() + 3600 * 1;
                  }; // 1 hour from now

                  scriptValues = {
                    scriptValues: flow.state.usdtScriptValues,
                    fundingTxHash: flow.state.usdtFundingTransactionHash
                  };
                  _context.next = 7;
                  return flow.usdtSwap.checkScript(scriptValues, {
                    amount: buyAmount,
                    recipientPublicKey: _swap2.default.services.auth.accounts.btc.getPublicKey(),
                    lockTime: getLockTime()
                  });

                case 7:
                  scriptCheckResult = _context.sent;

                  if (!scriptCheckResult) {
                    _context.next = 12;
                    break;
                  }

                  console.error('Btc script check error:', scriptCheckResult);
                  flow.swap.events.dispatch('usdt script check error', scriptCheckResult);
                  return _context.abrupt('return');

                case 12:
                  swapData = {
                    participantAddress: participant.eth.address,
                    secretHash: flow.state.secretHash,
                    amount: sellAmount
                  };


                  console.log('approve');

                  _context.next = 16;
                  return flow.ethTokenSwap.approve({
                    amount: sellAmount
                  }, function (hash) {
                    console.log('approve tx hash', hash);
                  });

                case 16:

                  console.log('create swap');

                  _context.next = 19;
                  return flow.ethTokenSwap.create(swapData, function (hash) {
                    ethSwapCreationTransactionHash = hash;

                    console.log('create swap tx hash', hash);

                    flow.setState({
                      ethSwapCreationTransactionHash: hash
                    });
                  });

                case 19:

                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                    }
                  });

                  flow.finishStep({
                    isEthContractFunded: true
                  });

                case 21:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this2);
        })),

        // 6. Wait participant withdraw

        function () {
          var participant = flow.swap.participant;


          var checkSecretExist = function () {
            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
              var secret;
              return _regenerator2.default.wrap(function _callee2$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.prev = 0;
                      _context2.next = 3;
                      return flow.ethTokenSwap.getSecret({
                        participantAddress: participant.eth.address
                      });

                    case 3:
                      secret = _context2.sent;

                      if (!secret) {
                        _context2.next = 9;
                        break;
                      }

                      clearInterval(checkSecretTimer);

                      if (!(flow.state.secret && secret !== flow.state.secret)) {
                        _context2.next = 8;
                        break;
                      }

                      throw new Error('Secret already exists and it differs! ' + secret + ' \u2260 ' + flow.state.secret);

                    case 8:

                      flow.finishStep({
                        secret: secret,
                        isEthWithdrawn: true
                      }, { step: 'wait-withdraw-eth' });

                    case 9:
                      _context2.next = 14;
                      break;

                    case 11:
                      _context2.prev = 11;
                      _context2.t0 = _context2['catch'](0);
                      console.error(_context2.t0);
                    case 14:
                    case 'end':
                      return _context2.stop();
                  }
                }
              }, _callee2, _this2, [[0, 11]]);
            }));

            return function checkSecretExist() {
              return _ref3.apply(this, arguments);
            };
          }();

          var checkSecretTimer = setInterval(checkSecretExist, 20 * 1000);

          flow.swap.room.once('finish eth withdraw', function () {
            checkSecretExist();
          });
        },

        // 7. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
          var _flow$swap2, participant, buyAmount, secret;

          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _flow$swap2 = flow.swap, participant = _flow$swap2.participant, buyAmount = _flow$swap2.buyAmount;
                  secret = flow.state.secret;

                  // if there is still no secret stop withdraw

                  if (secret) {
                    _context3.next = 5;
                    break;
                  }

                  console.error('Secret required! Got ' + secret);
                  return _context3.abrupt('return');

                case 5:
                  _context3.prev = 5;
                  _context3.next = 8;
                  return flow.usdtSwap.redeemScript({
                    scriptValues: flow.state.usdtScriptValues,
                    secret: secret,
                    amount: buyAmount
                  }, function (hash) {
                    console.log('withdraw tx hash', hash);

                    flow.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 8:
                  _context3.next = 14;
                  break;

                case 10:
                  _context3.prev = 10;
                  _context3.t0 = _context3['catch'](5);

                  console.error(_context3.t0);
                  return _context3.abrupt('return');

                case 14:

                  flow.finishStep({
                    isBtcWithdrawn: true
                  });

                case 15:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this2, [[5, 10]]);
        })),

        // 8. Finish

        function () {
          flow.swap.room.sendMessage({
            event: 'swap finished'
          });

          flow.finishStep({
            isFinished: true
          });
        },

        // 9. Finished!

        function () {}];
      }
    }, {
      key: '_checkSwapAlreadyExists',
      value: function _checkSwapAlreadyExists() {
        var participant = this.swap.participant;


        var swapData = {
          ownerAddress: _swap2.default.services.auth.accounts.eth.address,
          participantAddress: participant.eth.address
        };

        return this.ethTokenSwap.checkSwapExists(swapData);
      }
    }, {
      key: 'sign',
      value: function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var _this3 = this;

          var participant, isMeSigned, swapExists;
          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  participant = this.swap.participant;
                  isMeSigned = this.state.isMeSigned;

                  if (!isMeSigned) {
                    _context4.next = 4;
                    break;
                  }

                  return _context4.abrupt('return', this.swap.room.sendMessage({
                    event: 'swap sign'
                  }));

                case 4:
                  _context4.next = 6;
                  return this._checkSwapAlreadyExists();

                case 6:
                  swapExists = _context4.sent;

                  if (!swapExists) {
                    _context4.next = 11;
                    break;
                  }

                  this.swap.room.sendMessage({
                    event: 'swap exists'
                  });
                  // TODO go to 6 step automatically here
                  throw new Error('Cannot sign: swap with ' + participant.eth.address + ' already exists! Please refund it or drop ' + this.swap.id);

                case 11:

                  this.setState({
                    isSignFetching: true
                  });

                  this.swap.room.once('request sign', function () {
                    _this3.swap.room.sendMessage({
                      event: 'swap sign'
                    });
                  });

                  this.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  this.finishStep({
                    isMeSigned: true
                  }, { step: 'sign' });

                  return _context4.abrupt('return', true);

                case 16:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, this);
        }));

        function sign() {
          return _ref5.apply(this, arguments);
        }

        return sign;
      }()
    }, {
      key: 'verifyBtcScript',
      value: function verifyBtcScript() {
        if (this.state.usdtScriptVerified) return true;
        if (!this.state.usdtScriptValues) throw new Error('No script, cannot verify');

        this.finishStep({
          usdtScriptVerified: true
        }, { step: 'verify-script' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context5.next = 4;
                  return this.ethTokenSwap.fetchBalance(_swap2.default.services.auth.accounts.eth.address);

                case 4:
                  balance = _context5.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (isEnoughMoney) {
                    this.finishStep({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: true
                    }, { step: 'sync-balance' });
                  } else {
                    this.setState({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: false
                    });
                  }

                case 7:
                case 'end':
                  return _context5.stop();
              }
            }
          }, _callee5, this);
        }));

        function syncBalance() {
          return _ref6.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryWithdraw',
      value: function () {
        var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
          var _this4 = this;

          var _state, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, usdtScriptValues, _secretHash, _usdtSwap$createScrip, scriptAddress, balance;

          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, usdtScriptValues = _state.usdtScriptValues;

                  if (_secret) {
                    _context6.next = 3;
                    break;
                  }

                  throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

                case 3:
                  if (usdtScriptValues) {
                    _context6.next = 5;
                    break;
                  }

                  throw new Error('Cannot withdraw without script values');

                case 5:

                  if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                  if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                  console.log('WITHDRAW using secret = ' + _secret);

                  _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                  if (secretHash != _secretHash) console.warn('Hash does not match!');

                  _usdtSwap$createScrip = this.usdtSwap.createScript(usdtScriptValues), scriptAddress = _usdtSwap$createScrip.scriptAddress;
                  _context6.next = 13;
                  return this.usdtSwap.getBalance(scriptAddress);

                case 13:
                  balance = _context6.sent;


                  console.log('address=' + scriptAddress + ', balance=' + balance);

                  if (!(balance === 0)) {
                    _context6.next = 18;
                    break;
                  }

                  flow.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-usdt' });

                  throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

                case 18:
                  _context6.next = 20;
                  return this.usdtSwap.withdraw({
                    scriptValues: usdtScriptValues,
                    secret: _secret
                  }, function (hash) {
                    console.log('TX hash=' + hash);
                    _this4.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 20:

                  console.log('TX withdraw sent: ' + this.state.usdtSwapWithdrawTransactionHash);

                  this.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-usdt' });

                case 22:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, this);
        }));

        function tryWithdraw(_x) {
          return _ref7.apply(this, arguments);
        }

        return tryWithdraw;
      }()
    }, {
      key: 'tryRefund',
      value: function () {
        var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
          var _this5 = this;

          var participant, _state2, secret, usdtScriptValues;

          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  participant = this.swap.participant;
                  _state2 = this.state, secret = _state2.secret, usdtScriptValues = _state2.usdtScriptValues;


                  secret = 'c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078';

                  _context7.prev = 3;

                  console.log('TRYING REFUND!');

                  _context7.prev = 5;
                  _context7.next = 8;
                  return this.ethTokenSwap.refund({
                    participantAddress: participant.eth.address
                  }, function (hash) {
                    _this5.setState({
                      refundTransactionHash: hash
                    });
                  });

                case 8:

                  console.log('SUCCESS REFUND!');
                  return _context7.abrupt('return');

                case 12:
                  _context7.prev = 12;
                  _context7.t0 = _context7['catch'](5);

                  console.err('REFUND FAILED!', _context7.t0);

                case 15:
                  _context7.next = 20;
                  break;

                case 17:
                  _context7.prev = 17;
                  _context7.t1 = _context7['catch'](3);

                  console.error('Mbe it\'s still under lockTime?! ' + _context7.t1);

                case 20:

                  if (!usdtScriptValues) {
                    console.error('You can\'t do refund w/o usdt script values! Try wait until lockTime expires on eth contract!');
                  }

                  if (secret) {
                    _context7.next = 32;
                    break;
                  }

                  _context7.prev = 22;
                  _context7.next = 25;
                  return this.ethTokenSwap.getSecret(data);

                case 25:
                  secret = _context7.sent;
                  _context7.next = 32;
                  break;

                case 28:
                  _context7.prev = 28;
                  _context7.t2 = _context7['catch'](22);

                  console.error('Can\'t receive secret from contract');
                  return _context7.abrupt('return');

                case 32:

                  console.log('TRYING WITHDRAW!');

                  _context7.prev = 33;
                  _context7.next = 36;
                  return this.usdtSwap.withdraw({
                    scriptValues: this.state.usdtScriptValues,
                    secret: secret
                  }, function (hash) {
                    _this5.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 36:

                  console.log('SUCCESS WITHDRAW!');
                  _context7.next = 42;
                  break;

                case 39:
                  _context7.prev = 39;
                  _context7.t3 = _context7['catch'](33);

                  console.error('WITHDRAW FAILED!', _context7.t3);

                case 42:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, this, [[3, 17], [5, 12], [22, 28], [33, 39]]);
        }));

        function tryRefund() {
          return _ref8.apply(this, arguments);
        }

        return tryRefund;
      }()
    }]);
    return ETHTOKEN2USDT;
  }(_swap3.Flow);

  return ETHTOKEN2USDT;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3181:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UsdtSwap = exports.EosSwap = exports.EthTokenSwap = exports.LtcSwap = exports.BtcSwap = exports.EthSwap = undefined;

var _EthSwap = __webpack_require__(3182);

var _EthSwap2 = _interopRequireDefault(_EthSwap);

var _EthTokenSwap = __webpack_require__(3227);

var _EthTokenSwap2 = _interopRequireDefault(_EthTokenSwap);

var _BtcSwap = __webpack_require__(3228);

var _BtcSwap2 = _interopRequireDefault(_BtcSwap);

var _LtcSwap = __webpack_require__(3229);

var _LtcSwap2 = _interopRequireDefault(_LtcSwap);

var _EosSwap = __webpack_require__(3230);

var _EosSwap2 = _interopRequireDefault(_EosSwap);

var _UsdtSwap = __webpack_require__(3231);

var _UsdtSwap2 = _interopRequireDefault(_UsdtSwap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.EthSwap = _EthSwap2.default;
exports.BtcSwap = _BtcSwap2.default;
exports.LtcSwap = _LtcSwap2.default;
exports.EthTokenSwap = _EthTokenSwap2.default;
exports.EosSwap = _EosSwap2.default;
exports.UsdtSwap = _UsdtSwap2.default;

/***/ }),

/***/ 3182:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _ethereumInputDataDecoder = __webpack_require__(1236);

var _ethereumInputDataDecoder2 = _interopRequireDefault(_ethereumInputDataDecoder);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EthSwap, _SwapInterface);

  /**
   *
   * @param {object}    options
   * @param {string}    options.address
   * @param {array}     options.abi
   * @param {number}    options.gasLimit
   * @param {function}  options.fetchBalance
   */
  function EthSwap(options) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, EthSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthSwap.__proto__ || (0, _getPrototypeOf2.default)(EthSwap)).call(this));

    _this.repeatToTheResult = function (repeat, action) {
      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5000;
      return new _promise2.default(function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var result;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return action();

                case 2:
                  result = _context2.sent;


                  if (result === 0 || typeof result === 'undefined' || result === null) {
                    if (repeat > 0) {
                      repeat--;
                      setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                        return _regenerator2.default.wrap(function _callee$(_context) {
                          while (1) {
                            switch (_context.prev = _context.next) {
                              case 0:
                                _context.next = 2;
                                return _this.repeatToTheResult(repeat, action);

                              case 2:
                                result = _context.sent;

                                resolve(result);

                              case 4:
                              case 'end':
                                return _context.stop();
                            }
                          }
                        }, _callee, _this2);
                      })), delay);
                    }
                  } else {
                    resolve(result);
                  }

                case 4:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2);
        }));

        return function (_x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }());
    };

    _this.getSecretFromTxhash = function (transactionHash) {
      return _this.repeatToTheResult(9, function () {
        return _swap2.default.env.web3.eth.getTransaction(transactionHash).then(function (txResult) {
          try {
            var bytes32 = _this.decoder.decodeData(txResult.input);
            return _swap2.default.env.web3.utils.bytesToHex(bytes32.inputs[0]).split('0x')[1];
          } catch (err) {
            console.error(err);
            return;
          }
        });
      });
    };

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('EthSwap: "fetchBalance" required');
    }
    if (typeof options.address !== 'string') {
      throw new Error('EthSwap: "address" required');
    }
    if (!Array.isArray(options.abi)) {
      throw new Error('EthSwap: "abi" required');
    }

    _this.address = options.address;
    _this.abi = options.abi;

    _this._swapName = _swap.constants.COINS.eth;
    _this.gasLimit = options.gasLimit || 1e5;
    _this.gasPrice = options.gasPrice || 2e9;
    _this.fetchBalance = options.fetchBalance;
    return _this;
  }

  (0, _createClass3.default)(EthSwap, [{
    key: '_initSwap',
    value: function _initSwap() {
      this.decoder = new _ethereumInputDataDecoder2.default(this.abi);
      this.contract = new _swap2.default.env.web3.eth.Contract(this.abi, this.address);
    }
  }, {
    key: 'updateGas',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _this3 = this;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                _context3.next = 3;
                return _swap2.default.env.web3.eth.getGasPrice(function (err, _gasPrice) {
                  var newGas = new _bignumber2.default(String(_gasPrice)).plus(new _bignumber2.default(String(1300000000)));
                  _this3.gasPrice = Number(newGas);
                });

              case 3:
                _context3.next = 9;
                break;

              case 5:
                _context3.prev = 5;
                _context3.t0 = _context3['catch'](0);

                console.error(_context3.t0.name + ': ' + _context3.t0.message);
                this.gasPrice = 15e9;

              case 9:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this, [[0, 5]]);
      }));

      function updateGas() {
        return _ref3.apply(this, arguments);
      }

      return updateGas;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {number} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'create',
    value: function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, handleTransactionHash) {
        var _this4 = this;

        var secretHash, participantAddress, amount, base, newAmount;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount;


                console.log('create before', this.gasPrice);

                _context5.next = 4;
                return this.updateGas();

              case 4:

                console.log('create after', this.gasPrice);

                base = (0, _bignumber2.default)(10).pow(18);
                newAmount = new _bignumber2.default(amount.toString()).times(base).integerValue().toNumber();
                return _context5.abrupt('return', new _promise2.default(function () {
                  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
                    var _contract$methods;

                    var hash, params, values, receipt;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            hash = '0x' + secretHash.replace(/^0x/, '');
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this4.gasLimit,
                              value: newAmount,
                              gasPrice: _this4.gasPrice
                            };


                            console.log('params', params);

                            values = [hash, participantAddress];
                            _context4.next = 6;
                            return (_contract$methods = _this4.contract.methods).createSwap.apply(_contract$methods, values).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 6:
                            receipt = _context4.sent;


                            resolve(receipt);

                          case 8:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this4);
                  }));

                  return function (_x6, _x7) {
                    return _ref5.apply(this, arguments);
                  };
                }()));

              case 8:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function create(_x4, _x5) {
        return _ref4.apply(this, arguments);
      }

      return create;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @returns {Promise}
     */

  }, {
    key: 'getBalance',
    value: function getBalance(data) {
      var _this5 = this;

      var ownerAddress = data.ownerAddress;


      return new _promise2.default(function () {
        var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve, reject) {
          var balance;
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  balance = void 0;
                  _context6.prev = 1;
                  _context6.next = 4;
                  return _this5.contract.methods.getBalance(ownerAddress).call({
                    from: _swap2.default.services.auth.accounts.eth.address
                  });

                case 4:
                  balance = _context6.sent;
                  _context6.next = 10;
                  break;

                case 7:
                  _context6.prev = 7;
                  _context6.t0 = _context6['catch'](1);

                  reject(_context6.t0);

                case 10:

                  resolve(balance);

                case 11:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this5, [[1, 7]]);
        }));

        return function (_x8, _x9) {
          return _ref6.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'checkSwapExists',
    value: function checkSwapExists(data) {
      var _this6 = this;

      var ownerAddress = data.ownerAddress,
          participantAddress = data.participantAddress;


      return new _promise2.default(function () {
        var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(resolve, reject) {
          var swap, balance;
          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  swap = void 0;
                  _context7.prev = 1;
                  _context7.next = 4;
                  return _this6.contract.methods.swaps(ownerAddress, participantAddress).call();

                case 4:
                  swap = _context7.sent;
                  _context7.next = 10;
                  break;

                case 7:
                  _context7.prev = 7;
                  _context7.t0 = _context7['catch'](1);

                  reject(_context7.t0);

                case 10:

                  console.log('swapExists', swap);

                  balance = parseInt(swap.balance);

                  resolve(balance);

                case 13:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, _this6, [[1, 7]]);
        }));

        return function (_x10, _x11) {
          return _ref7.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {number} repeat
     * @param {function} action
     * @param delay
     * @returns {Promise<any>}
     */

  }, {
    key: 'checkBalance',


    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data) {
        var _this7 = this;

        var ownerAddress, expectedValue, balance;
        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                ownerAddress = data.ownerAddress, expectedValue = data.expectedValue;
                _context8.next = 3;
                return this.repeatToTheResult(9, function () {
                  return _this7.getBalance({ ownerAddress: ownerAddress });
                });

              case 3:
                balance = _context8.sent;

                if (!expectedValue.isGreaterThan(balance)) {
                  _context8.next = 6;
                  break;
                }

                return _context8.abrupt('return', 'Expected value: ' + expectedValue.toNumber() + ', got: ' + balance);

              case 6:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function checkBalance(_x12) {
        return _ref8.apply(this, arguments);
      }

      return checkBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function () {
      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(data, handleTransactionHash) {
        var _this8 = this;

        var ownerAddress, secret;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                ownerAddress = data.ownerAddress, secret = data.secret;
                _context10.next = 3;
                return this.updateGas();

              case 3:
                return _context10.abrupt('return', new _promise2.default(function () {
                  var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(resolve, reject) {
                    var _secret, params, receipt;

                    return _regenerator2.default.wrap(function _callee9$(_context9) {
                      while (1) {
                        switch (_context9.prev = _context9.next) {
                          case 0:
                            _secret = '0x' + secret.replace(/^0x/, '');
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this8.gasLimit,
                              gasPrice: _this8.gasPrice
                            };
                            _context9.next = 4;
                            return _this8.contract.methods.withdraw(_secret, ownerAddress).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 4:
                            receipt = _context9.sent;


                            resolve(receipt);

                          case 6:
                          case 'end':
                            return _context9.stop();
                        }
                      }
                    }, _callee9, _this8);
                  }));

                  return function (_x15, _x16) {
                    return _ref10.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function withdraw(_x13, _x14) {
        return _ref9.apply(this, arguments);
      }

      return withdraw;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function () {
      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(data, handleTransactionHash) {
        var _this9 = this;

        var participantAddress;
        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                participantAddress = data.participantAddress;
                _context12.next = 3;
                return this.updateGas();

              case 3:
                return _context12.abrupt('return', new _promise2.default(function () {
                  var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(resolve, reject) {
                    var params, receipt;
                    return _regenerator2.default.wrap(function _callee11$(_context11) {
                      while (1) {
                        switch (_context11.prev = _context11.next) {
                          case 0:
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this9.gasLimit,
                              gasPrice: _this9.gasPrice
                            };
                            _context11.next = 3;
                            return _this9.contract.methods.refund(participantAddress).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 3:
                            receipt = _context11.sent;


                            resolve(receipt);

                          case 5:
                          case 'end':
                            return _context11.stop();
                        }
                      }
                    }, _callee11, _this9);
                  }));

                  return function (_x19, _x20) {
                    return _ref12.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function refund(_x17, _x18) {
        return _ref11.apply(this, arguments);
      }

      return refund;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'getSecret',
    value: function getSecret(data) {
      var _this10 = this;

      var participantAddress = data.participantAddress;


      return new _promise2.default(function () {
        var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(resolve, reject) {
          var secret, secretValue;
          return _regenerator2.default.wrap(function _callee13$(_context13) {
            while (1) {
              switch (_context13.prev = _context13.next) {
                case 0:
                  _context13.prev = 0;
                  _context13.next = 3;
                  return _this10.contract.methods.getSecret(participantAddress).call({
                    from: _swap2.default.services.auth.accounts.eth.address
                  });

                case 3:
                  secret = _context13.sent;


                  console.log('secret ethswap.js', secret);

                  secretValue = secret && !/^0x0+/.test(secret) ? secret : null;


                  resolve(secretValue);
                  _context13.next = 12;
                  break;

                case 9:
                  _context13.prev = 9;
                  _context13.t0 = _context13['catch'](0);

                  reject(_context13.t0);

                case 12:
                case 'end':
                  return _context13.stop();
              }
            }
          }, _callee13, _this10, [[0, 9]]);
        }));

        return function (_x21, _x22) {
          return _ref13.apply(this, arguments);
        };
      }());
    }

    /*
      Function: withdraw(bytes32 _secret, address _ownerAddress)
      bytes32 {...}
      inputs: (2) […]
        0: Uint8Array(32) [ 208, 202, 170, … ]
        1: "e918c8719bae0525786548b8da7fbef9b33d4e25"
      name: "withdraw"
      types: (2) […]
        0: "bytes32"
        1: "address"
    */

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return EthSwap;
}(_swap.SwapInterface);

exports.default = EthSwap;
module.exports = exports['default'];

/***/ }),

/***/ 3227:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _values = __webpack_require__(355);

var _values2 = _interopRequireDefault(_values);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _ethereumInputDataDecoder = __webpack_require__(1236);

var _ethereumInputDataDecoder2 = _interopRequireDefault(_ethereumInputDataDecoder);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokenSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EthTokenSwap, _SwapInterface);

  /**
   *
   * @param {object}    options
   * @param {string}    options.name
   * @param {string}    options.address
   * @param {array}     options.abi
   * @param {string}    options.tokenAddress
   * @param {array}     options.tokenAbi
   * @param {number}    options.gasLimit
   * @param {function}  options.fetchBalance
   */
  function EthTokenSwap(options) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, EthTokenSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthTokenSwap.__proto__ || (0, _getPrototypeOf2.default)(EthTokenSwap)).call(this));

    _this.repeatToTheResult = function (repeat, action) {
      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5000;
      return new _promise2.default(function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var result;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return action();

                case 2:
                  result = _context2.sent;


                  if (result === 0 || typeof result === 'undefined' || result === null) {
                    if (repeat > 0) {
                      repeat--;
                      setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                        return _regenerator2.default.wrap(function _callee$(_context) {
                          while (1) {
                            switch (_context.prev = _context.next) {
                              case 0:
                                _context.next = 2;
                                return _this.repeatToTheResult(repeat, action);

                              case 2:
                                result = _context.sent;

                                resolve(result);

                              case 4:
                              case 'end':
                                return _context.stop();
                            }
                          }
                        }, _callee, _this2);
                      })), delay);
                    }
                  } else {
                    resolve(result);
                  }

                case 4:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2);
        }));

        return function (_x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }());
    };

    _this.getSecretFromTxhash = function (transactionHash) {
      return _this.repeatToTheResult(9, function () {
        return _swap2.default.env.web3.eth.getTransaction(transactionHash).then(function (txResult) {
          try {
            var bytes32 = _this.decoder.decodeData(txResult.input);
            return _swap2.default.env.web3.utils.bytesToHex(bytes32.inputs[0]).split('0x')[1];
          } catch (err) {
            console.error(err);
            return;
          }
        });
      });
    };

    if (!options.name) {
      throw new Error('EthTokenSwap: "name" required');
    }
    if (!(0, _values2.default)(_swap.constants.COINS).includes(options.name.toUpperCase())) {
      throw new Error('EthTokenSwap: "name" should be correct');
    }
    if (typeof options.address !== 'string') {
      throw new Error('EthTokenSwap: "address" required');
    }
    if (typeof options.decimals !== 'number') {
      throw new Error('EthTokenSwap: "decimals" required');
    }
    if (!Array.isArray(options.abi)) {
      throw new Error('EthTokenSwap: "abi" required');
    }
    if (typeof options.tokenAddress !== 'string') {
      throw new Error('EthTokenSwap: "tokenAddress" required');
    }
    if (!Array.isArray(options.tokenAbi)) {
      throw new Error('EthTokenSwap: "tokenAbi" required');
    }

    _this._swapName = options.name.toUpperCase();

    _this.address = options.address;
    _this.abi = options.abi;
    _this.decimals = options.decimals;
    _this.tokenAddress = options.tokenAddress;
    _this.tokenAbi = options.tokenAbi;

    _this.gasLimit = options.gasLimit || 2e5;
    _this.gasPrice = options.gasPrice || 2e9;
    _this.fetchBalance = options.fetchBalance;
    return _this;
  }

  (0, _createClass3.default)(EthTokenSwap, [{
    key: '_initSwap',
    value: function _initSwap() {
      this.decoder = new _ethereumInputDataDecoder2.default(this.abi);
      this.contract = new _swap2.default.env.web3.eth.Contract(this.abi, this.address);
      this.ERC20 = new _swap2.default.env.web3.eth.Contract(this.tokenAbi, this.tokenAddress);
    }
  }, {
    key: 'updateGas',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _this3 = this;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                _context3.next = 3;
                return _swap2.default.env.web3.eth.getGasPrice(function (err, _gasPrice) {
                  var newGas = new _bignumber2.default(String(_gasPrice)).plus(new _bignumber2.default(String(1300000000)));
                  _this3.gasPrice = Number(newGas);
                });

              case 3:
                _context3.next = 9;
                break;

              case 5:
                _context3.prev = 5;
                _context3.t0 = _context3['catch'](0);

                console.error(_context3.t0.name + ': ' + _context3.t0.message);
                this.gasPrice = 15e9;

              case 9:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this, [[0, 5]]);
      }));

      function updateGas() {
        return _ref3.apply(this, arguments);
      }

      return updateGas;
    }()

    /**
     *
     * @param {object} data
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'approve',
    value: function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, handleTransactionHash) {
        var _this4 = this;

        var amount, newAmount;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                amount = data.amount;
                newAmount = new _bignumber2.default(String(amount)).times(new _bignumber2.default(10).pow(this.decimals)).decimalPlaces(this.decimals).toNumber();
                _context5.next = 4;
                return this.updateGas();

              case 4:
                return _context5.abrupt('return', new _promise2.default(function () {
                  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
                    var result;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            _context4.prev = 0;
                            _context4.next = 3;
                            return _this4.ERC20.methods.approve(_this4.address, newAmount).send({
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this4.gasLimit,
                              gasPrice: _this4.gasPrice
                            }).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 3:
                            result = _context4.sent;


                            resolve(result);
                            _context4.next = 10;
                            break;

                          case 7:
                            _context4.prev = 7;
                            _context4.t0 = _context4['catch'](0);

                            reject(_context4.t0);

                          case 10:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this4, [[0, 7]]);
                  }));

                  return function (_x6, _x7) {
                    return _ref5.apply(this, arguments);
                  };
                }()));

              case 5:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function approve(_x4, _x5) {
        return _ref4.apply(this, arguments);
      }

      return approve;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.owner
     * @param {string} data.spender
     * @returns {Promise}
     */

  }, {
    key: 'checkAllowance',
    value: function checkAllowance(data) {
      var _this5 = this;

      var spender = data.spender;


      return new _promise2.default(function () {
        var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve, reject) {
          var result;
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.prev = 0;
                  _context6.next = 3;
                  return _this5.ERC20.methods.allowance(spender, _this5.address).call({
                    from: _swap2.default.services.auth.accounts.eth.address
                  });

                case 3:
                  result = _context6.sent;


                  resolve(result);
                  _context6.next = 10;
                  break;

                case 7:
                  _context6.prev = 7;
                  _context6.t0 = _context6['catch'](0);

                  reject(_context6.t0);

                case 10:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this5, [[0, 7]]);
        }));

        return function (_x8, _x9) {
          return _ref6.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'create',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data, handleTransactionHash) {
        var _this6 = this;

        var secretHash, participantAddress, amount, targetWallet, newAmount;
        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount, targetWallet = data.targetWallet;
                newAmount = new _bignumber2.default(String(amount)).times(new _bignumber2.default(10).pow(this.decimals)).decimalPlaces(this.decimals).toNumber();
                _context8.next = 4;
                return this.updateGas();

              case 4:
                return _context8.abrupt('return', new _promise2.default(function () {
                  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(resolve, reject) {
                    var hash, values, params, contractMethod, _contract$methods, _contract$methods2, gasFee, result;

                    return _regenerator2.default.wrap(function _callee7$(_context7) {
                      while (1) {
                        switch (_context7.prev = _context7.next) {
                          case 0:
                            hash = '0x' + secretHash.replace(/^0x/, '');
                            values = targetWallet && targetWallet !== participantAddress ? [hash, participantAddress, targetWallet, newAmount, _this6.tokenAddress] : [hash, participantAddress, newAmount, _this6.tokenAddress];
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this6.gasLimit,
                              gasPrice: _this6.gasPrice
                            };
                            contractMethod = targetWallet && targetWallet !== participantAddress ? 'createSwapTarget' : 'createSwap';
                            _context7.prev = 4;

                            console.log("Get gas fee");
                            _context7.next = 8;
                            return (_contract$methods = _this6.contract.methods)[contractMethod].apply(_contract$methods, values).estimateGas(params);

                          case 8:
                            gasFee = _context7.sent;

                            params.gas = gasFee;
                            console.log("EthTokenSwap -> create -> gasFee", gasFee);
                            _context7.next = 13;
                            return (_contract$methods2 = _this6.contract.methods)[contractMethod].apply(_contract$methods2, values).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 13:
                            result = _context7.sent;

                            console.log('result', result);
                            resolve(result);
                            _context7.next = 21;
                            break;

                          case 18:
                            _context7.prev = 18;
                            _context7.t0 = _context7['catch'](4);

                            reject(_context7.t0);

                          case 21:
                          case 'end':
                            return _context7.stop();
                        }
                      }
                    }, _callee7, _this6, [[4, 18]]);
                  }));

                  return function (_x12, _x13) {
                    return _ref8.apply(this, arguments);
                  };
                }()));

              case 5:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function create(_x10, _x11) {
        return _ref7.apply(this, arguments);
      }

      return create;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'checkSwapExists',
    value: function checkSwapExists(data) {
      var _this7 = this;

      var ownerAddress = data.ownerAddress,
          participantAddress = data.participantAddress;


      return new _promise2.default(function () {
        var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(resolve, reject) {
          var swap, balance;
          return _regenerator2.default.wrap(function _callee9$(_context9) {
            while (1) {
              switch (_context9.prev = _context9.next) {
                case 0:
                  swap = void 0;
                  _context9.prev = 1;
                  _context9.next = 4;
                  return _this7.contract.methods.swaps(ownerAddress, participantAddress).call();

                case 4:
                  swap = _context9.sent;
                  _context9.next = 10;
                  break;

                case 7:
                  _context9.prev = 7;
                  _context9.t0 = _context9['catch'](1);

                  reject(_context9.t0);

                case 10:

                  console.log('swapExists', swap);

                  balance = parseInt(swap.balance);

                  resolve(balance);

                case 13:
                case 'end':
                  return _context9.stop();
              }
            }
          }, _callee9, _this7, [[1, 7]]);
        }));

        return function (_x14, _x15) {
          return _ref9.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {number} repeat
     * @param {function} action
     * @param delay
     * @returns {Promise<any>}
     */

  }, {
    key: 'getBalance',


    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @returns {Promise}
     */
    value: function getBalance(data) {
      var _this8 = this;

      var ownerAddress = data.ownerAddress;


      return new _promise2.default(function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(resolve, reject) {
          var balance;
          return _regenerator2.default.wrap(function _callee10$(_context10) {
            while (1) {
              switch (_context10.prev = _context10.next) {
                case 0:
                  balance = void 0;
                  _context10.prev = 1;
                  _context10.next = 4;
                  return _this8.contract.methods.getBalance(ownerAddress).call({
                    from: _swap2.default.services.auth.accounts.eth.address
                  });

                case 4:
                  balance = _context10.sent;
                  _context10.next = 10;
                  break;

                case 7:
                  _context10.prev = 7;
                  _context10.t0 = _context10['catch'](1);

                  reject(_context10.t0);

                case 10:
                  console.log('balance', balance);
                  resolve(balance);

                case 12:
                case 'end':
                  return _context10.stop();
              }
            }
          }, _callee10, _this8, [[1, 7]]);
        }));

        return function (_x16, _x17) {
          return _ref10.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkBalance',
    value: function () {
      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(data) {
        var _this9 = this;

        var ownerAddress, expectedValue, balance;
        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                ownerAddress = data.ownerAddress, expectedValue = data.expectedValue;
                _context11.next = 3;
                return this.repeatToTheResult(9, function () {
                  return _this9.getBalance({ ownerAddress: ownerAddress });
                });

              case 3:
                balance = _context11.sent;

                if (!expectedValue.isGreaterThan(balance)) {
                  _context11.next = 6;
                  break;
                }

                return _context11.abrupt('return', 'Expected value: ' + expectedValue.toNumber() + ', got: ' + balance);

              case 6:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function checkBalance(_x18) {
        return _ref11.apply(this, arguments);
      }

      return checkBalance;
    }()
    /**
     * @param {string} participantAddress
     * @param {string} newTargetWallet
     * @param {function} handleTransactionHash
     */

  }, {
    key: 'setTargetWallet',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(participantAddress, newTargetWallet, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function setTargetWallet(_x19, _x20, _x21) {
        return _ref12.apply(this, arguments);
      }

      return setTargetWallet;
    }()
  }, {
    key: 'getTargetWallet',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14(ownerAddress) {
        var _this10 = this;

        return _regenerator2.default.wrap(function _callee14$(_context14) {
          while (1) {
            switch (_context14.prev = _context14.next) {
              case 0:
                console.log('EthTokenSwap->getTargetWallet');
                return _context14.abrupt('return', new _promise2.default(function () {
                  var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(resolve, reject) {
                    var targetWallet;
                    return _regenerator2.default.wrap(function _callee13$(_context13) {
                      while (1) {
                        switch (_context13.prev = _context13.next) {
                          case 0:
                            _context13.prev = 0;
                            _context13.next = 3;
                            return _this10.contract.methods.getTargetWallet(ownerAddress).call({
                              from: _swap2.default.services.auth.accounts.eth.address
                            });

                          case 3:
                            targetWallet = _context13.sent;

                            console.log('EthTokenSwap->getTargetWallet', targetWallet);

                            resolve(targetWallet);
                            _context13.next = 11;
                            break;

                          case 8:
                            _context13.prev = 8;
                            _context13.t0 = _context13['catch'](0);

                            reject(_context13.t0);

                          case 11:
                          case 'end':
                            return _context13.stop();
                        }
                      }
                    }, _callee13, _this10, [[0, 8]]);
                  }));

                  return function (_x23, _x24) {
                    return _ref14.apply(this, arguments);
                  };
                }()));

              case 2:
              case 'end':
                return _context14.stop();
            }
          }
        }, _callee14, this);
      }));

      function getTargetWallet(_x22) {
        return _ref13.apply(this, arguments);
      }

      return getTargetWallet;
    }()
    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(data, handleTransactionHash) {
        var _this11 = this;

        var ownerAddress, secret;
        return _regenerator2.default.wrap(function _callee16$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                ownerAddress = data.ownerAddress, secret = data.secret;
                _context16.next = 3;
                return this.updateGas();

              case 3:
                return _context16.abrupt('return', new _promise2.default(function () {
                  var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15(resolve, reject) {
                    var _secret, params, gasFee, result;

                    return _regenerator2.default.wrap(function _callee15$(_context15) {
                      while (1) {
                        switch (_context15.prev = _context15.next) {
                          case 0:
                            _secret = '0x' + secret.replace(/^0x/, '');
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this11.gasLimit,
                              gasPrice: _this11.gasPrice
                            };
                            _context15.prev = 2;
                            _context15.next = 5;
                            return _this11.contract.methods.withdraw(_secret, ownerAddress).estimateGas(params);

                          case 5:
                            gasFee = _context15.sent;

                            console.log("EthTokenSwap -> withdraw -> gasFee", gasFee);
                            params.gas = gasFee;
                            _context15.next = 10;
                            return _this11.contract.methods.withdraw(_secret, ownerAddress).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 10:
                            result = _context15.sent;


                            resolve(result);
                            _context15.next = 17;
                            break;

                          case 14:
                            _context15.prev = 14;
                            _context15.t0 = _context15['catch'](2);

                            reject(_context15.t0);

                          case 17:
                          case 'end':
                            return _context15.stop();
                        }
                      }
                    }, _callee15, _this11, [[2, 14]]);
                  }));

                  return function (_x27, _x28) {
                    return _ref16.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context16.stop();
            }
          }
        }, _callee16, this);
      }));

      function withdraw(_x25, _x26) {
        return _ref15.apply(this, arguments);
      }

      return withdraw;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function () {
      var _ref17 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee18(data, handleTransactionHash) {
        var _this12 = this;

        var participantAddress;
        return _regenerator2.default.wrap(function _callee18$(_context18) {
          while (1) {
            switch (_context18.prev = _context18.next) {
              case 0:
                participantAddress = data.participantAddress;
                _context18.next = 3;
                return this.updateGas();

              case 3:
                return _context18.abrupt('return', new _promise2.default(function () {
                  var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee17(resolve, reject) {
                    var params, receipt;
                    return _regenerator2.default.wrap(function _callee17$(_context17) {
                      while (1) {
                        switch (_context17.prev = _context17.next) {
                          case 0:
                            params = {
                              from: _swap2.default.services.auth.accounts.eth.address,
                              gas: _this12.gasLimit,
                              gasPrice: _this12.gasPrice
                            };
                            _context17.next = 3;
                            return _this12.contract.methods.refund(participantAddress).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 3:
                            receipt = _context17.sent;


                            resolve(receipt);

                          case 5:
                          case 'end':
                            return _context17.stop();
                        }
                      }
                    }, _callee17, _this12);
                  }));

                  return function (_x31, _x32) {
                    return _ref18.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context18.stop();
            }
          }
        }, _callee18, this);
      }));

      function refund(_x29, _x30) {
        return _ref17.apply(this, arguments);
      }

      return refund;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'getSecret',
    value: function getSecret(data) {
      var _this13 = this;

      var participantAddress = data.participantAddress;


      return new _promise2.default(function () {
        var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee19(resolve, reject) {
          var secret, secretValue;
          return _regenerator2.default.wrap(function _callee19$(_context19) {
            while (1) {
              switch (_context19.prev = _context19.next) {
                case 0:
                  _context19.prev = 0;
                  _context19.next = 3;
                  return _this13.contract.methods.getSecret(participantAddress).call({
                    from: _swap2.default.services.auth.accounts.eth.address
                  });

                case 3:
                  secret = _context19.sent;
                  secretValue = secret && !/^0x0+/.test(secret) ? secret : null;


                  resolve(secretValue);
                  _context19.next = 11;
                  break;

                case 8:
                  _context19.prev = 8;
                  _context19.t0 = _context19['catch'](0);

                  reject(_context19.t0);

                case 11:
                case 'end':
                  return _context19.stop();
              }
            }
          }, _callee19, _this13, [[0, 8]]);
        }));

        return function (_x33, _x34) {
          return _ref19.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return EthTokenSwap;
}(_swap.SwapInterface);

exports.default = EthTokenSwap;
module.exports = exports['default'];

/***/ }),

/***/ 3228:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(213);

var _typeof3 = _interopRequireDefault(_typeof2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcSwap = function (_SwapInterface) {
  (0, _inherits3.default)(BtcSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   */
  function BtcSwap(options) {
    (0, _classCallCheck3.default)(this, BtcSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcSwap.__proto__ || (0, _getPrototypeOf2.default)(BtcSwap)).call(this));

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('EthSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('EthSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('EthSwap: "broadcastTx" required');
    }

    _this._swapName = _swap.constants.COINS.btc;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.feeValue = options.feeValue || 5000;
    return _this;
  }

  (0, _createClass3.default)(BtcSwap, [{
    key: '_initSwap',
    value: function _initSwap() {
      this.network = _swap2.default.isMainNet() ? _swap2.default.env.bitcoin.networks.bitcoin : _swap2.default.env.bitcoin.networks.testnet;
    }

    /**
     *
     * @param {boolean} satoshis
     * @returns {BigNumber|double}
     * @public
     */

  }, {
    key: 'getTxFee',
    value: function getTxFee(satoshis) {
      return satoshis ? this.feeValue : this.feeValue / 100000000;
    }
    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = _swap2.default.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(0, script, hashType);
      var signature = _swap2.default.services.auth.accounts.btc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = _swap2.default.env.bitcoin.script.scriptHash.input.encode([signature, _swap2.default.services.auth.accounts.btc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(0, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var hashName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ripemd160';

      var hashOpcodeName = 'OP_' + hashName.toUpperCase();
      var hashOpcode = _swap2.default.env.bitcoin.opcodes[hashOpcodeName];

      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      console.log('DATA', data);

      var script = _swap2.default.env.bitcoin.script.compile([hashOpcode, Buffer.from(secretHash, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUAL, _swap2.default.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ELSE, _swap2.default.env.bitcoin.script.number.encode(lockTime), _swap2.default.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, _swap2.default.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = _swap2.default.env.bitcoin.script.scriptHash.output.encode(_swap2.default.env.bitcoin.crypto.hash160(script));
      var scriptAddress = _swap2.default.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(data, expected, hashName) {
        var recipientPublicKey, lockTime, _createScript, scriptAddress, script, unspents, totalUnspent, expectedValue;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                recipientPublicKey = data.recipientPublicKey, lockTime = data.lockTime;
                _createScript = this.createScript(data, hashName), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                _context.next = 4;
                return this.fetchUnspents(scriptAddress);

              case 4:
                unspents = _context.sent;
                totalUnspent = unspents.reduce(function (summ, _ref2) {
                  var satoshis = _ref2.satoshis;
                  return summ + satoshis;
                }, 0);
                expectedValue = expected.value.multipliedBy(1e8).integerValue();

                if (!expectedValue.isGreaterThan(totalUnspent)) {
                  _context.next = 9;
                  break;
                }

                return _context.abrupt('return', 'Expected script value: ' + expectedValue.toNumber() + ', got: ' + totalUnspent);

              case 9:
                if (!(expected.lockTime > lockTime)) {
                  _context.next = 11;
                  break;
                }

                return _context.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime);

              case 11:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context.next = 13;
                  break;
                }

                return _context.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 13:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function checkScript(_x2, _x3, _x4) {
        return _ref.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash, hashName) {
      var _this2 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var _createScript2, scriptAddress, tx, unspents, fundValue, feeValue, totalUnspent, skipValue, txRaw, result;

          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.prev = 0;
                  _createScript2 = _this2.createScript(scriptValues, hashName), scriptAddress = _createScript2.scriptAddress;
                  tx = new _swap2.default.env.bitcoin.TransactionBuilder(_this2.network);
                  _context2.next = 5;
                  return _this2.fetchUnspents(_swap2.default.services.auth.accounts.btc.getAddress());

                case 5:
                  unspents = _context2.sent;
                  fundValue = amount.multipliedBy(1e8).integerValue().toNumber();
                  feeValue = _this2.getTxFee(true); // TODO how to get this value

                  totalUnspent = unspents.reduce(function (summ, _ref4) {
                    var satoshis = _ref4.satoshis;
                    return summ + satoshis;
                  }, 0);
                  skipValue = totalUnspent - fundValue - feeValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context2.next = 12;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

                case 12:

                  unspents.forEach(function (_ref5) {
                    var txid = _ref5.txid,
                        vout = _ref5.vout;
                    return tx.addInput(txid, vout);
                  });
                  tx.addOutput(scriptAddress, fundValue);
                  tx.addOutput(_swap2.default.services.auth.accounts.btc.getAddress(), skipValue);
                  tx.inputs.forEach(function (input, index) {
                    tx.sign(index, _swap2.default.services.auth.accounts.btc);
                  });

                  txRaw = tx.buildIncomplete();


                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context2.prev = 18;
                  _context2.next = 21;
                  return _this2.broadcastTx(txRaw.toHex());

                case 21:
                  result = _context2.sent;


                  resolve(result);
                  _context2.next = 28;
                  break;

                case 25:
                  _context2.prev = 25;
                  _context2.t0 = _context2['catch'](18);

                  reject(_context2.t0);

                case 28:
                  _context2.next = 33;
                  break;

                case 30:
                  _context2.prev = 30;
                  _context2.t1 = _context2['catch'](0);

                  reject(_context2.t1);

                case 33:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2, [[0, 30], [18, 25]]);
        }));

        return function (_x5, _x6) {
          return _ref3.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(data, hashName) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context3.next = 5;
                  break;
                }

                address = data;
                _context3.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context3.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data, hashName), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context3.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context3.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context3.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref7) {
                  var satoshis = _ref7.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context3.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function getBalance(_x7, _x8) {
        return _ref6.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawRawTransaction',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(data, isRefund, hashName) {
        var scriptValues, secret, _createScript4, script, scriptAddress, tx, unspents, feeValue, totalUnspent, txRaw;

        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                scriptValues = data.scriptValues, secret = data.secret;
                _createScript4 = this.createScript(scriptValues, hashName), script = _createScript4.script, scriptAddress = _createScript4.scriptAddress;
                tx = new _swap2.default.env.bitcoin.TransactionBuilder(this.network);
                _context4.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context4.sent;
                feeValue = this.feeValue; // TODO how to get this value

                totalUnspent = unspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!(totalUnspent < feeValue)) {
                  _context4.next = 10;
                  break;
                }

                throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue);

              case 10:

                if (isRefund) {
                  tx.setLockTime(scriptValues.lockTime);
                }

                unspents.forEach(function (_ref10) {
                  var txid = _ref10.txid,
                      vout = _ref10.vout;
                  return tx.addInput(txid, vout, 0xfffffffe);
                });
                tx.addOutput(_swap2.default.services.auth.accounts.btc.getAddress(), totalUnspent - feeValue);

                txRaw = tx.buildIncomplete();


                this._signTransaction({
                  script: script,
                  secret: secret,
                  txRaw: txRaw
                });

                return _context4.abrupt('return', txRaw);

              case 16:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function getWithdrawRawTransaction(_x9, _x10, _x11) {
        return _ref8.apply(this, arguments);
      }

      return getWithdrawRawTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawHexTransaction',
    value: function () {
      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, isRefund) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _context5.next = 2;
                return this.getWithdrawRawTransaction(data, isRefund);

              case 2:
                txRaw = _context5.sent;
                return _context5.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function getWithdrawHexTransaction(_x12, _x13) {
        return _ref11.apply(this, arguments);
      }

      return getWithdrawHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundRawTransaction',
    value: function getRefundRawTransaction(data) {
      return this.getWithdrawRawTransaction(data, true);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundHexTransaction',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(data) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this.getRefundRawTransaction(data);

              case 2:
                txRaw = _context6.sent;
                return _context6.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function getRefundHexTransaction(_x14) {
        return _ref12.apply(this, arguments);
      }

      return getRefundHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash, isRefund, hashName) {
      var _this3 = this;

      return new _promise2.default(function () {
        var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(resolve, reject) {
          var txRaw, result;
          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  _context7.prev = 0;
                  _context7.next = 3;
                  return _this3.getWithdrawRawTransaction(data, isRefund, hashName);

                case 3:
                  txRaw = _context7.sent;

                  console.log('raw tx withdraw', txRaw.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context7.next = 8;
                  return _this3.broadcastTx(txRaw.toHex());

                case 8:
                  result = _context7.sent;


                  resolve(result);
                  _context7.next = 15;
                  break;

                case 12:
                  _context7.prev = 12;
                  _context7.t0 = _context7['catch'](0);

                  reject(_context7.t0);

                case 15:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, _this3, [[0, 12]]);
        }));

        return function (_x15, _x16) {
          return _ref13.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.withdraw(data, handleTransactionHash, true);
    }
  }]);
  return BtcSwap;
}(_swap.SwapInterface);

exports.default = BtcSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3229:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(213);

var _typeof3 = _interopRequireDefault(_typeof2);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcSwap = function (_SwapInterface) {
  (0, _inherits3.default)(LtcSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   * @param options.fetchTx
   */
  function LtcSwap(options) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, LtcSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcSwap.__proto__ || (0, _getPrototypeOf2.default)(LtcSwap)).call(this));

    _this.repeatToTheResult = function (repeat, action) {
      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5000;
      return new _promise2.default(function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var result;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return action();

                case 2:
                  result = _context2.sent;


                  if (result === 0 || typeof result === 'undefined' || result === null) {
                    if (repeat > 0) {
                      repeat--;
                      setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                        return _regenerator2.default.wrap(function _callee$(_context) {
                          while (1) {
                            switch (_context.prev = _context.next) {
                              case 0:
                                _context.next = 2;
                                return _this.repeatToTheResult(repeat, action);

                              case 2:
                                result = _context.sent;

                                resolve(result);

                              case 4:
                              case 'end':
                                return _context.stop();
                            }
                          }
                        }, _callee, _this2);
                      })), delay);
                    }
                  } else {
                    resolve(result);
                  }

                case 4:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2);
        }));

        return function (_x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }());
    };

    _this.getSecretFromTxhash = function (transactionHash) {
      return _this.repeatToTheResult(9, function () {
        return _this.fetchTx(transactionHash).then(function (txResult) {
          return txResult.vin[0].scriptSig.asm.split(' ')[2];
        });
      });
    };

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('LtcSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('LtcSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('LtcSwap: "broadcastTx" required');
    }
    if (typeof options.fetchTx !== 'function') {
      throw new Error('LtcSwap: "fetchTx" required');
    }

    _this._swapName = _swap.constants.COINS.ltc;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.fetchTx = options.fetchTx;
    _this.feeValue = options.feeValue || 100000;
    return _this;
  }

  (0, _createClass3.default)(LtcSwap, [{
    key: '_initSwap',
    value: function _initSwap() {
      this.network = _swap2.default.services.auth.accounts.ltc.network; // TODO: templess solution, try to find better solution
      /*
      * this.network != SwapApp.services.auth.accounts.ltc.network
      *
      this.network = (
       SwapApp.isMainNet()
         ? SwapApp.env.coininfo.litecoin.main
         : SwapApp.env.coininfo.litecoin.test
      ).toBitcoinJS()
      */
    }

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = _swap2.default.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(0, script, hashType);
      var signature = _swap2.default.services.auth.accounts.ltc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = _swap2.default.env.bitcoin.script.scriptHash.input.encode([signature, _swap2.default.services.auth.accounts.ltc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(0, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var hashName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ripemd160';

      var hashOpcodeName = 'OP_' + hashName.toUpperCase();
      var hashOpcode = _swap2.default.env.bitcoin.opcodes[hashOpcodeName];

      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      console.log('DATA', data);

      var script = _swap2.default.env.bitcoin.script.compile([hashOpcode, Buffer.from(secretHash, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUAL, _swap2.default.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ELSE, _swap2.default.env.bitcoin.script.number.encode(lockTime), _swap2.default.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, _swap2.default.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = _swap2.default.env.bitcoin.script.scriptHash.output.encode(_swap2.default.env.bitcoin.crypto.hash160(script));
      var scriptAddress = _swap2.default.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(data, expected, hashName) {
        var recipientPublicKey, lockTime, _createScript, scriptAddress, script, unspents, totalUnspent, expectedValue;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                recipientPublicKey = data.recipientPublicKey, lockTime = data.lockTime;
                _createScript = this.createScript(data, hashName), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                _context3.next = 4;
                return this.fetchUnspents(scriptAddress);

              case 4:
                unspents = _context3.sent;
                totalUnspent = unspents.reduce(function (summ, _ref4) {
                  var satoshis = _ref4.satoshis;
                  return summ + satoshis;
                }, 0);
                expectedValue = expected.value.multipliedBy(1e8).integerValue();

                if (!expectedValue.isGreaterThan(totalUnspent)) {
                  _context3.next = 9;
                  break;
                }

                return _context3.abrupt('return', 'Expected script value: ' + expectedValue.toNumber() + ', got: ' + totalUnspent);

              case 9:
                if (!(expected.lockTime > lockTime)) {
                  _context3.next = 11;
                  break;
                }

                return _context3.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime);

              case 11:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context3.next = 13;
                  break;
                }

                return _context3.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 13:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function checkScript(_x5, _x6, _x7) {
        return _ref3.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash, hashName) {
      var _this3 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
          var _createScript2, scriptAddress, tx, unspents, fundValue, feeValue, totalUnspent, skipValue, txRaw, result;

          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.prev = 0;
                  _createScript2 = _this3.createScript(scriptValues, hashName), scriptAddress = _createScript2.scriptAddress;
                  tx = new _swap2.default.env.bitcoin.TransactionBuilder(_this3.network);
                  _context4.next = 5;
                  return _this3.fetchUnspents(_swap2.default.services.auth.accounts.ltc.getAddress());

                case 5:
                  unspents = _context4.sent;
                  fundValue = amount.multipliedBy(1e8).integerValue().toNumber();
                  feeValue = _this3.feeValue; // TODO how to get this value

                  totalUnspent = unspents.reduce(function (summ, _ref6) {
                    var satoshis = _ref6.satoshis;
                    return summ + satoshis;
                  }, 0);
                  skipValue = totalUnspent - fundValue - feeValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context4.next = 12;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

                case 12:

                  unspents.forEach(function (_ref7) {
                    var txid = _ref7.txid,
                        vout = _ref7.vout;
                    return tx.addInput(txid, vout);
                  });
                  tx.addOutput(scriptAddress, fundValue);
                  tx.addOutput(_swap2.default.services.auth.accounts.ltc.getAddress(), skipValue);
                  tx.inputs.forEach(function (input, index) {
                    tx.sign(index, _swap2.default.services.auth.accounts.ltc);
                  });

                  txRaw = tx.buildIncomplete();


                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context4.prev = 18;
                  _context4.next = 21;
                  return _this3.broadcastTx(txRaw.toHex());

                case 21:
                  result = _context4.sent;


                  resolve(result);
                  _context4.next = 28;
                  break;

                case 25:
                  _context4.prev = 25;
                  _context4.t0 = _context4['catch'](18);

                  reject(_context4.t0);

                case 28:
                  _context4.next = 33;
                  break;

                case 30:
                  _context4.prev = 30;
                  _context4.t1 = _context4['catch'](0);

                  reject(_context4.t1);

                case 33:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, _this3, [[0, 30], [18, 25]]);
        }));

        return function (_x8, _x9) {
          return _ref5.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, hashName) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context5.next = 5;
                  break;
                }

                address = data;
                _context5.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context5.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data, hashName), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context5.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context5.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context5.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context5.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function getBalance(_x10, _x11) {
        return _ref8.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawRawTransaction',
    value: function () {
      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(data, isRefund, hashName) {
        var scriptValues, secret, _createScript4, script, scriptAddress, tx, unspents, feeValue, totalUnspent, txRaw;

        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                scriptValues = data.scriptValues, secret = data.secret;
                _createScript4 = this.createScript(scriptValues, hashName), script = _createScript4.script, scriptAddress = _createScript4.scriptAddress;
                tx = new _swap2.default.env.bitcoin.TransactionBuilder(this.network);
                _context6.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context6.sent;
                feeValue = this.feeValue; // TODO how to get this value

                totalUnspent = unspents.reduce(function (summ, _ref11) {
                  var satoshis = _ref11.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!(totalUnspent < feeValue)) {
                  _context6.next = 10;
                  break;
                }

                throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue);

              case 10:

                if (isRefund) {
                  tx.setLockTime(scriptValues.lockTime);
                }

                unspents.forEach(function (_ref12) {
                  var txid = _ref12.txid,
                      vout = _ref12.vout;
                  return tx.addInput(txid, vout, 0xfffffffe);
                });
                tx.addOutput(_swap2.default.services.auth.accounts.ltc.getAddress(), totalUnspent - feeValue);

                txRaw = tx.buildIncomplete();


                this._signTransaction({
                  script: script,
                  secret: secret,
                  txRaw: txRaw
                });

                return _context6.abrupt('return', txRaw);

              case 16:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function getWithdrawRawTransaction(_x12, _x13, _x14) {
        return _ref10.apply(this, arguments);
      }

      return getWithdrawRawTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawHexTransaction',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data, isRefund) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return this.getWithdrawRawTransaction(data, isRefund);

              case 2:
                txRaw = _context7.sent;
                return _context7.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function getWithdrawHexTransaction(_x15, _x16) {
        return _ref13.apply(this, arguments);
      }

      return getWithdrawHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundRawTransaction',
    value: function getRefundRawTransaction(data) {
      return this.getWithdrawRawTransaction(data, true);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundHexTransaction',
    value: function () {
      var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                _context8.next = 2;
                return this.getRefundRawTransaction(data);

              case 2:
                txRaw = _context8.sent;
                return _context8.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function getRefundHexTransaction(_x17) {
        return _ref14.apply(this, arguments);
      }

      return getRefundHexTransaction;
    }()

    /**
     *
     * @param {number} repeat
     * @param {function} action
     * @param delay
     * @returns {Promise<any>}
     */

  }, {
    key: 'checkBalance',


    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(data) {
        var _this4 = this;

        var ownerAddress, expectedValue, balance;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                ownerAddress = data.ownerAddress, expectedValue = data.expectedValue;
                _context9.next = 3;
                return this.repeatToTheResult(9, function () {
                  return _this4.getBalance(ownerAddress);
                });

              case 3:
                balance = _context9.sent;

                if (!expectedValue.isGreaterThan(balance)) {
                  _context9.next = 6;
                  break;
                }

                return _context9.abrupt('return', 'Expected value: ' + expectedValue.toNumber() + ', got: ' + balance);

              case 6:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function checkBalance(_x18) {
        return _ref15.apply(this, arguments);
      }

      return checkBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash, isRefund, hashName) {
      var _this5 = this;

      return new _promise2.default(function () {
        var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(resolve, reject) {
          var txRaw, result;
          return _regenerator2.default.wrap(function _callee10$(_context10) {
            while (1) {
              switch (_context10.prev = _context10.next) {
                case 0:
                  _context10.prev = 0;
                  _context10.next = 3;
                  return _this5.getWithdrawRawTransaction(data, isRefund, hashName);

                case 3:
                  txRaw = _context10.sent;

                  console.log('raw tx withdraw', txRaw.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context10.next = 8;
                  return _this5.broadcastTx(txRaw.toHex());

                case 8:
                  result = _context10.sent;


                  resolve(result);
                  _context10.next = 15;
                  break;

                case 12:
                  _context10.prev = 12;
                  _context10.t0 = _context10['catch'](0);

                  reject(_context10.t0);

                case 15:
                case 'end':
                  return _context10.stop();
              }
            }
          }, _callee10, _this5, [[0, 12]]);
        }));

        return function (_x19, _x20) {
          return _ref16.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.withdraw(data, handleTransactionHash, true);
    }

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return LtcSwap;
}(_swap.SwapInterface);

exports.default = LtcSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3230:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _parseFloat = __webpack_require__(356);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var amountToUnits = function amountToUnits(amount) {
  return (0, _parseFloat2.default)(amount.toString()).toFixed(4) * 10 ** 4;
};

var amountToAsset = function amountToAsset(amount) {
  return (0, _parseFloat2.default)(amount.toString()).toFixed(4).concat(' EOS');
};

var EosSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EosSwap, _SwapInterface);

  function EosSwap(options) {
    (0, _classCallCheck3.default)(this, EosSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EosSwap.__proto__ || (0, _getPrototypeOf2.default)(EosSwap)).call(this));

    _this.getAccounts = function () {
      return {
        userAccount: _swap2.default.services.auth.getPublicData().eos.address,
        swapAccount: _this.swapAccount,
        tokenAccount: 'eosio.token'
      };
    };

    _this._swapName = _swap.constants.COINS.eos;

    _this.swapAccount = options.swapAccount;
    _this.swapLockPeriod = options.swapLockPeriod;

    _this.eos = null;
    return _this;
  }

  (0, _createClass3.default)(EosSwap, [{
    key: '_initSwap',
    value: function _initSwap() {}
  }, {
    key: 'getSwaps',
    value: function getSwaps() {
      return this.eos.getTableRows({
        code: this.swapAccount,
        scope: this.swapAccount,
        table: 'swap',
        json: true,
        limit: 1000
      });
    }
  }, {
    key: 'lazyInit',
    value: function lazyInit() {
      var _this2 = this;

      return _swap2.default.env.eos.getInstance().then(function (eosInstance) {
        _this2.eos = eosInstance;
      });
    }
  }, {
    key: 'findCurrentSwap',
    value: function findCurrentSwap(_ref) {
      var btcOwner = _ref.btcOwner,
          eosOwner = _ref.eosOwner;

      var encodedEosOwner = new BigNumber(this.eos.modules.format.encodeName(eosOwner, false));

      return this.eos.getTableRows({
        code: this.swapAccount,
        scope: this.swapAccount,
        table: 'swap',
        json: true,
        key_type: 'i64',
        index_position: 2,
        lower_bound: encodedEosOwner.toString(),
        upper_bound: encodedEosOwner.plus(1).toString()
      }).then(function (result) {
        var currentSwap = result.rows.find(function (swap) {
          return swap.eosOwner == eosOwner && swap.btcOwner == btcOwner && (swap.status == 0 || swap.status == 1);
        });

        return currentSwap;
      });
    }
  }, {
    key: 'findSwapID',
    value: function findSwapID(_ref2) {
      var btcOwner = _ref2.btcOwner,
          eosOwner = _ref2.eosOwner;

      return this.findCurrentSwap({ btcOwner: btcOwner, eosOwner: eosOwner }).then(function (swap) {
        return swap.swapID;
      });
    }
  }, {
    key: 'open',
    value: function open(_ref3, finishCallback) {
      var _this3 = this;

      var btcOwner = _ref3.btcOwner,
          secretHash = _ref3.secretHash,
          amount = _ref3.amount;

      var _getAccounts = this.getAccounts(),
          eosOwner = _getAccounts.userAccount,
          swapAccount = _getAccounts.swapAccount,
          tokenAccount = _getAccounts.tokenAccount;

      var quantity = amountToAsset(amount);

      var openSwap = function openSwap() {
        return _this3.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'open',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              secretHash: secretHash,
              eosOwner: eosOwner,
              btcOwner: btcOwner,
              quantity: quantity
            }
          }]
        });
      };

      var findSwapID = function findSwapID() {
        return _this3.findSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var depositFunds = function depositFunds(swapID) {
        console.log('depositFunds', swapID);

        return _this3.eos.transaction({
          actions: [{
            account: tokenAccount,
            name: 'transfer',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              from: eosOwner,
              to: swapAccount,
              quantity: quantity,
              memo: swapID
            }
          }]
        }).then(function (transaction) {
          return { transaction: transaction, swapID: swapID };
        });
      };

      var finish = function finish(_ref4) {
        var transaction = _ref4.transaction,
            swapID = _ref4.swapID;

        var openTx = transaction.transaction_id;
        if (typeof finishCallback === 'function') {
          finishCallback({ openTx: openTx, swapID: swapID });
        }
        return { openTx: openTx, swapID: swapID };
      };

      return this.lazyInit().then(openSwap.bind(this)).then(findSwapID.bind(this)).then(depositFunds.bind(this)).then(finish);
    }
  }, {
    key: 'withdraw',
    value: function withdraw(_ref5, finishCallback) {
      var _this4 = this;

      var eosOwner = _ref5.eosOwner,
          secret = _ref5.secret;

      var _getAccounts2 = this.getAccounts(),
          btcOwner = _getAccounts2.userAccount,
          swapAccount = _getAccounts2.swapAccount;

      var findSwapID = function findSwapID() {
        return _this4.findSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var withdrawDeposit = function withdrawDeposit(swapID) {
        return _this4.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'withdraw',
            authorization: [{
              actor: btcOwner,
              permission: 'active'
            }],
            data: {
              swapID: swapID, secret: secret
            }
          }]
        });
      };

      var finish = function finish(transaction) {
        var eosWithdrawTx = transaction.transaction_id;

        if (typeof finishCallback === 'function') {
          finishCallback(eosWithdrawTx);
        }
        return eosWithdrawTx;
      };

      return this.lazyInit().then(findSwapID.bind(this)).then(withdrawDeposit.bind(this)).then(finish);
    }
  }, {
    key: 'refund',
    value: function refund(_ref6, finishCallback) {
      var _this5 = this;

      var btcOwner = _ref6.btcOwner;

      var _getAccounts3 = this.getAccounts(),
          eosOwner = _getAccounts3.userAccount,
          swapAccount = _getAccounts3.swapAccount;

      var findSwapID = function findSwapID() {
        return _this5.findSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var refundDeposit = function refundDeposit(swapID) {
        return _this5.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'refund',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              swapID: swapID
            }
          }]
        });
      };

      var finish = function finish(transaction) {
        var eosRefundTx = transaction.transaction_id;

        if (typeof finishCallback === 'function') {
          finishCallback(eosRefundTx);
        }
        return eosRefundTx;
      };

      return this.lazyInit().then(findSwapID.bind(this)).then(refundDeposit.bind(this)).then(finish);
    }
  }, {
    key: 'getLockPeriod',
    value: function getLockPeriod() {
      return this.swapLockPeriod;
    }
  }]);
  return EosSwap;
}(_swap.SwapInterface);

exports.default = EosSwap;
module.exports = exports['default'];

/***/ }),

/***/ 3231:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(213);

var _typeof3 = _interopRequireDefault(_typeof2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FEE_VALUE = 2000; // satoshis TODO how to get this value
var DUST = 546;

var createOmniScript = __webpack_require__(1244);
var createScript = __webpack_require__(1245);
var createFundingTransaction = __webpack_require__(3232);

var UsdtSwap = function (_SwapInterface) {
  (0, _inherits3.default)(UsdtSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   */
  function UsdtSwap(options) {
    (0, _classCallCheck3.default)(this, UsdtSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (UsdtSwap.__proto__ || (0, _getPrototypeOf2.default)(UsdtSwap)).call(this));

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('UsdtSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('UsdtSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('UsdtSwap: "broadcastTx" required');
    }

    _this._swapName = _swap.constants.COINS.usdt;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.fetchTx = options.fetchTx;

    _this.getRecommendedFees = options.getRecommendedFees || function () {};
    return _this;
  }

  (0, _createClass3.default)(UsdtSwap, [{
    key: '_initSwap',
    value: function _initSwap() {
      this.network = _swap2.default.isMainNet() ? _swap2.default.env.bitcoin.networks.bitcoin : _swap2.default.env.bitcoin.networks.testnet;

      if (!_swap2.default.isMainNet()) {
        throw new Error('Sorry, USDT does not yet works on testnet!');
      }
    }

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var inputIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = _swap2.default.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(inputIndex, script, hashType);
      var signature = _swap2.default.services.auth.accounts.btc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = _swap2.default.env.bitcoin.script.scriptHash.input.encode([signature, _swap2.default.services.auth.accounts.btc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(inputIndex, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      console.log('DATA', data);

      var script = _swap2.default.env.bitcoin.script.compile([_swap2.default.env.bitcoin.opcodes.OP_RIPEMD160, Buffer.from(secretHash, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_EQUAL, _swap2.default.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ELSE, _swap2.default.env.bitcoin.script.number.encode(lockTime), _swap2.default.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, _swap2.default.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), _swap2.default.env.bitcoin.opcodes.OP_CHECKSIG, _swap2.default.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = _swap2.default.env.bitcoin.script.scriptHash.output.encode(_swap2.default.env.bitcoin.crypto.hash160(script));
      var scriptAddress = _swap2.default.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(data, expected) {
        var scriptValues, fundingTxHash, secretHash, ownerPublicKey, recipientPublicKey, lockTime, _createScript, scriptAddress, script, unspents, totalUnspent, expectedValue, outputs, tx, htlcScriptOutput, fundedScriptAddress, omniOutput, omniScript, expectedOmniScript, expectedOmniOutput;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                scriptValues = data.scriptValues, fundingTxHash = data.fundingTxHash;
                secretHash = scriptValues.secretHash, ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey, lockTime = scriptValues.lockTime;
                _createScript = createScript(secretHash, ownerPublicKey, recipientPublicKey, lockTime), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                _context.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context.sent;
                totalUnspent = unspents.reduce(function (summ, _ref2) {
                  var satoshis = _ref2.satoshis;
                  return summ + satoshis;
                }, 0);
                expectedValue = 546;

                if (!(expectedValue > totalUnspent)) {
                  _context.next = 10;
                  break;
                }

                return _context.abrupt('return', 'Expected script value: ' + expectedValue + ', got: ' + totalUnspent + '. Maybe the script was not mined?');

              case 10:
                outputs = void 0;
                _context.prev = 11;
                _context.next = 14;
                return this.fetchTx(fundingTxHash);

              case 14:
                tx = _context.sent;


                outputs = tx.vout;
                _context.next = 22;
                break;

              case 18:
                _context.prev = 18;
                _context.t0 = _context['catch'](11);

                console.error(_context.t0);
                return _context.abrupt('return', 'Can\'t get funding tx outputs ' + fundingTxHash);

              case 22:
                console.log(outputs);

                if (!(!outputs || outputs.length < 2)) {
                  _context.next = 25;
                  break;
                }

                return _context.abrupt('return', 'Expected at least 2 outputs at funding tx ' + fundingTxHash + ', got: ' + outputs);

              case 25:

                // check output-0 is script with same address
                htlcScriptOutput = outputs[0];
                _context.prev = 26;
                fundedScriptAddress = htlcScriptOutput.scriptPubKey.addresses[0];

                if (!(scriptAddress !== fundedScriptAddress)) {
                  _context.next = 30;
                  break;
                }

                return _context.abrupt('return', 'Expected script address: ' + scriptAddress + ', got: ' + fundedScriptAddress);

              case 30:
                _context.next = 36;
                break;

              case 32:
                _context.prev = 32;
                _context.t1 = _context['catch'](26);

                console.error(_context.t1);
                return _context.abrupt('return', 'Expected script address: ' + scriptAddress + ', got error at ' + htlcScriptOutput);

              case 36:

                // check output-1 is a OMNI
                omniOutput = outputs[1];
                _context.prev = 37;
                omniScript = omniOutput.scriptPubKey.asm;
                expectedOmniScript = createOmniScript(expected.amount);
                expectedOmniOutput = _swap2.default.env.bitcoin.script.toASM(expectedOmniScript);

                if (!(expectedOmniOutput !== omniScript)) {
                  _context.next = 44;
                  break;
                }

                console.log(expectedOmniOutput, omniScript);
                return _context.abrupt('return', 'Expected first output value: ' + expectedOmniOutput + ', got: ' + omniScript);

              case 44:
                _context.next = 50;
                break;

              case 46:
                _context.prev = 46;
                _context.t2 = _context['catch'](37);

                console.error(_context.t2);
                return _context.abrupt('return', 'Expected omni output for amount = ' + expected.amount + ', got error at ' + omniOutput);

              case 50:
                if (!(expected.lockTime > lockTime)) {
                  _context.next = 52;
                  break;
                }

                return _context.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime);

              case 52:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context.next = 54;
                  break;
                }

                return _context.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 54:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this, [[11, 18], [26, 32], [37, 46]]);
      }));

      function checkScript(_x2, _x3) {
        return _ref.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash) {
      var _this2 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var ownerPublicKey, recipientPublicKey, dialog, funding, txRaw, result;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.prev = 0;
                  ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey;
                  dialog = {
                    owner: _swap2.default.services.auth.accounts.btc,
                    party: Buffer.from(recipientPublicKey, 'hex')
                  };
                  _context2.next = 5;
                  return createFundingTransaction(amount, dialog, scriptValues, _this2.fetchUnspents, _this2.network);

                case 5:
                  funding = _context2.sent;


                  if (typeof handleTransactionHash === 'function') {
                    txRaw = funding.tx.buildIncomplete();

                    handleTransactionHash(txRaw.getId(), funding);
                  }

                  _context2.prev = 7;
                  _context2.next = 10;
                  return _this2.broadcastTx(funding.hex);

                case 10:
                  result = _context2.sent;


                  resolve(result);
                  _context2.next = 17;
                  break;

                case 14:
                  _context2.prev = 14;
                  _context2.t0 = _context2['catch'](7);

                  reject(_context2.t0);

                case 17:
                  _context2.next = 22;
                  break;

                case 19:
                  _context2.prev = 19;
                  _context2.t1 = _context2['catch'](0);

                  reject(_context2.t1);

                case 22:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2, [[0, 19], [7, 14]]);
        }));

        return function (_x4, _x5) {
          return _ref3.apply(this, arguments);
        };
      }());
    }
  }, {
    key: 'redeemScript',
    value: function redeemScript(data, handleTransactionHash, isRefund) {
      var _this3 = this;

      var amount = data.amount,
          scriptValues = data.scriptValues,
          secret = data.secret;


      return new _promise2.default(function () {
        var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve, reject) {
          var secretHash, lockTime, ownerPublicKey, recipientPublicKey, redeem_tx, _createScript2, script, scriptAddress, keyPair, myBtcAddress, myUnspents, scriptUnspents, unspents, fundValue, feeValue, totalUnspent, totalValue, omniOutput, txRaw, forSigning, tx, result;

          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.prev = 0;
                  secretHash = scriptValues.secretHash, lockTime = scriptValues.lockTime;
                  ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey;
                  redeem_tx = new _swap2.default.env.bitcoin.TransactionBuilder(_this3.network);
                  _createScript2 = createScript(secretHash, ownerPublicKey, recipientPublicKey, lockTime), script = _createScript2.script, scriptAddress = _createScript2.scriptAddress;


                  console.log('script address', scriptAddress);
                  keyPair = _swap2.default.services.auth.accounts.btc;
                  myBtcAddress = keyPair.getAddress();
                  _context3.next = 10;
                  return _this3.fetchUnspents(myBtcAddress);

                case 10:
                  myUnspents = _context3.sent;
                  _context3.next = 13;
                  return _this3.fetchUnspents(scriptAddress);

                case 13:
                  scriptUnspents = _context3.sent;
                  unspents = [].concat((0, _toConsumableArray3.default)(scriptUnspents), (0, _toConsumableArray3.default)(myUnspents));

                  console.log('unspents', unspents);
                  fundValue = DUST;
                  feeValue = 5000;
                  totalUnspent = unspents.reduce(function (summ, _ref5) {
                    var satoshis = _ref5.satoshis;
                    return summ + satoshis;
                  }, 0);
                  totalValue = totalUnspent - feeValue - fundValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context3.next = 22;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + fundValue + ' + ' + feeValue);

                case 22:

                  if (isRefund) {
                    redeem_tx.setLockTime(lockTime);
                  }

                  scriptUnspents.forEach(function (_ref6) {
                    var txid = _ref6.txid,
                        vout = _ref6.vout;

                    redeem_tx.addInput(txid, vout, 0xfffffffe);
                  });

                  myUnspents.forEach(function (_ref7, index) {
                    var txid = _ref7.txid,
                        vout = _ref7.vout;

                    redeem_tx.addInput(txid, vout);
                  });

                  omniOutput = createOmniScript(amount);


                  redeem_tx.addOutput(myBtcAddress, fundValue);
                  redeem_tx.addOutput(myBtcAddress, totalValue);
                  redeem_tx.addOutput(omniOutput, 0);

                  myUnspents.forEach(function (utxo, index) {
                    var inputIndex = index + scriptUnspents.length;
                    redeem_tx.sign(inputIndex, keyPair);
                  });

                  txRaw = redeem_tx.buildIncomplete();
                  forSigning = {
                    txRaw: txRaw,
                    script: script,
                    secret: secret
                  };


                  _this3._signTransaction(forSigning, 0);

                  tx = txRaw;


                  console.log('redeem tx hash', tx.getId());
                  console.log('redeem tx hex ' + tx.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(tx.getId());
                  }

                  _context3.prev = 37;
                  _context3.next = 40;
                  return _this3.broadcastTx(tx.toHex());

                case 40:
                  result = _context3.sent;


                  resolve(result);
                  _context3.next = 47;
                  break;

                case 44:
                  _context3.prev = 44;
                  _context3.t0 = _context3['catch'](37);

                  reject(_context3.t0);

                case 47:
                  _context3.next = 52;
                  break;

                case 49:
                  _context3.prev = 49;
                  _context3.t1 = _context3['catch'](0);

                  reject(_context3.t1);

                case 52:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this3, [[0, 49], [37, 44]]);
        }));

        return function (_x6, _x7) {
          return _ref4.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(data) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context4.next = 5;
                  break;
                }

                address = data;
                _context4.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context4.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context4.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context4.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context4.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context4.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function getBalance(_x8) {
        return _ref8.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash) {
      return this.redeemScript(data, handleTransactionHash, false);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.redeemScript(data, handleTransactionHash, true);
    }
  }]);
  return UsdtSwap;
}(_swap.SwapInterface);

exports.default = UsdtSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3232:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bitcoin = __webpack_require__(134);
var net = bitcoin.networks.bitcoin;

var createScript = __webpack_require__(1245);
var createOmniScript = __webpack_require__(1244);
var BITCOIN_DUST = 546;

var createLockTransaction = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(lockAmount, dialog, scriptValues, getUnspents, network) {
    var secretHash, lockTime, ownerKey, recipientPublicKey, ownerPublicKey, funding_tx, unspents, fundValue, feeValue, totalUnspent, skipValue, SwapScript, omniOutput;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            secretHash = scriptValues.secretHash, lockTime = scriptValues.lockTime;
            ownerKey = dialog.owner, recipientPublicKey = dialog.party;
            ownerPublicKey = ownerKey.getPublicKeyBuffer();
            funding_tx = new bitcoin.TransactionBuilder(network);
            _context.next = 6;
            return getUnspents(ownerKey.getAddress());

          case 6:
            unspents = _context.sent;
            fundValue = BITCOIN_DUST; // dust

            feeValue = 5000;
            totalUnspent = unspents.reduce(function (summ, _ref2) {
              var satoshis = _ref2.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;

            if (!(totalUnspent < feeValue + fundValue)) {
              _context.next = 13;
              break;
            }

            throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

          case 13:

            unspents.forEach(function (_ref3) {
              var txid = _ref3.txid,
                  vout = _ref3.vout;
              return funding_tx.addInput(txid, vout, 0xfffffffe);
            });

            SwapScript = createScript(secretHash, ownerPublicKey.toString('hex'), recipientPublicKey.toString('hex'), lockTime);
            omniOutput = createOmniScript(lockAmount);


            funding_tx.addOutput(SwapScript.scriptAddress, fundValue);
            funding_tx.addOutput(omniOutput, 0);
            funding_tx.addOutput(ownerKey.getAddress(), skipValue);

            unspents.forEach(function (utxo, index) {
              funding_tx.sign(index, ownerKey);
            });

            return _context.abrupt('return', {
              tx: funding_tx,
              scriptValues: {
                secretHash: secretHash,
                lockTime: lockTime,
                scriptAddress: SwapScript.scriptAddress,
                scriptPubKey: SwapScript.scriptPubKey
              },
              hex: funding_tx.buildIncomplete().toHex()
            });

          case 21:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function createLockTransaction(_x, _x2, _x3, _x4, _x5) {
    return _ref.apply(this, arguments);
  };
}();

module.exports = createLockTransaction;

/***/ }),

/***/ 3233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(47);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Core = (_dec = (0, _redaction.connect)(function (_ref) {
  var ipfs = _ref.ipfs;
  return { ipfs: ipfs };
}), _dec(_class = function (_Component) {
  (0, _inherits3.default)(Core, _Component);

  function Core() {
    var _ref2,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Core);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Core.__proto__ || (0, _getPrototypeOf2.default)(Core)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      orders: []
    }, _this.setIpfs = function () {
      var setupIPFS = function setupIPFS() {
        try {
          var ipfs = _this.props.ipfs;


          console.log('ipfs', ipfs);
          if (ipfs.isOnline) return;

          if (!_swap2.default.services.room.connection) {
            throw new Error('SwapRoom not ready');
          }

          var isOnline = _swap2.default.services.room.connection._ipfs.isOnline();
          var peer = _swap2.default.services.room.peer;


          _this.updateOrders();

          _swap2.default.services.room.connection.on('peer joined', _actions2.default.ipfs.userJoined).on('peer left', _actions2.default.ipfs.userLeft);

          clearInterval(ipfsLoadingInterval);
          console.log('ipfs loaded');

          _swap2.default.services.room.on('request partial closure', _this.createOrder);

          _actions2.default.ipfs.set({
            isOnline: isOnline,
            peer: peer
          });
        } catch (err) {
          console.error('IPFS setup error', err);
        }
      };

      _swap2.default.services.room.on('ready', setupIPFS);

      var ipfsLoadingInterval = setInterval(setupIPFS, 5000);
    }, _this.updateOrders = function () {
      var orders = _swap2.default.services.orders.items;
      _this.setState(function () {
        return {
          orders: orders
        };
      });
      _actions2.default.core.updateCore(orders);
    }, _this.createOrder = function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_ref3) {
        var _console;

        var fromPeer = _ref3.fromPeer,
            order = _ref3.order,
            rest = (0, _objectWithoutProperties3.default)(_ref3, ['fromPeer', 'order']);
        var createdOrder;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                (_console = console).log.apply(_console, ['rest'].concat((0, _toConsumableArray3.default)(rest)));
                // TODO add check exchange rate and format order
                _context.next = 3;
                return _actions2.default.core.createOrder(order);

              case 3:
                createdOrder = _context.sent;

                _actions2.default.core.requestToPeer('accept request', fromPeer, { orderId: createdOrder.id });

              case 5:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      }));

      return function (_x) {
        return _ref4.apply(this, arguments);
      };
    }(), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Core, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      _actions2.default.core.getSwapHistory();
      _swap2.default.services.orders.on('new orders', this.updateOrders).on('new order', this.updateOrders).on('order update', this.updateOrders).on('remove order', this.updateOrders).on('new order request', this.updateOrders);
      this.setIpfs();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _swap2.default.services.orders.off('new orders', this.updateOrders).off('new order', this.updateOrders).off('order update', this.updateOrders).off('remove order', this.updateOrders).off('new order request', this.updateOrders);
      _swap2.default.services.room.connection.off('peer joined', _actions2.default.ipfs.userJoined).off('peer left', _actions2.default.ipfs.userLeft);
    }
  }, {
    key: 'render',
    value: function render() {
      return null;
    }
  }]);
  return Core;
}(_react.Component)) || _class);
exports.default = Core;

/***/ }),

/***/ 3234:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(62);

var _reactDeviceDetect = __webpack_require__(199);

var _links = __webpack_require__(352);

var _links2 = _interopRequireDefault(_links);

var _reactIntl = __webpack_require__(14);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Header = __webpack_require__(3235);

var _Header2 = _interopRequireDefault(_Header);

var _Nav = __webpack_require__(3236);

var _Nav2 = _interopRequireDefault(_Nav);

var _User = __webpack_require__(3238);

var _User2 = _interopRequireDefault(_User);

var _NavMobile = __webpack_require__(3249);

var _NavMobile2 = _interopRequireDefault(_NavMobile);

var _Logo = __webpack_require__(839);

var _Logo2 = _interopRequireDefault(_Logo);

var _WidthContainer = __webpack_require__(283);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var lastScrollTop = 0;

var messages = (0, _reactIntl.defineMessages)({
  wallet: {
    id: 'menu.wallet',
    description: 'Menu item "Wallet"',
    defaultMessage: 'Wallet'
  },
  exchange: {
    id: 'menu.exchange',
    description: 'Menu item "Exchange"',
    defaultMessage: 'Exchange'
  },
  history: {
    id: 'menu.history',
    description: 'Menu item "History"',
    defaultMessage: 'History'
  },
  aboutus: {
    id: 'menu.aboutus',
    description: 'Menu item "About Us"',
    defaultMessage: 'About Us'
  },
  listing: {
    id: 'menu.listing',
    description: 'Menu item "Listing"',
    defaultMessage: 'Listing'
  }
});

var Header = (_dec = (0, _reactCssModules2.default)(_Header2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = (0, _reactRouterDom.withRouter)(_class = _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Header, _Component);

  function Header(props) {
    (0, _classCallCheck3.default)(this, Header);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Header.__proto__ || (0, _getPrototypeOf2.default)(Header)).call(this, props));

    _this.handleScroll = function () {
      if (_this.props.history.location.pathname === '/') {
        _this.setState(function () {
          return { sticky: false };
        });
        return;
      }
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      if (scrollTop > _this.lastScrollTop) {
        _this.setState(function () {
          return { sticky: false };
        });
      } else {
        _this.setState(function () {
          return { sticky: true };
        });
      }
      _this.lastScrollTop = scrollTop;
    };

    _this.state = {
      sticky: false,
      menuItems: [{
        title: props.intl.formatMessage(messages.wallet),
        link: _links2.default.home,
        exact: true,
        icon: 'wallet'
      }, {
        title: props.intl.formatMessage(messages.exchange),
        link: _links2.default.exchange,
        icon: 'exchange-alt'
      }, {
        title: props.intl.formatMessage(messages.history),
        link: _links2.default.history,
        icon: 'history'
      }, {
        title: props.intl.formatMessage(messages.aboutus),
        link: _links2.default.aboutus,
        isMobile: false
      }, {
        title: props.intl.formatMessage(messages.listing),
        link: _links2.default.listing,
        isMobile: false
      }]
    };
    _this.lastScrollTop = 0;
    return _this;
  }

  (0, _createClass3.default)(Header, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      window.addEventListener('scroll', this.handleScroll);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener('scroll', this.handleScroll);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          sticky = _state.sticky,
          menuItems = _state.menuItems;


      if (_reactDeviceDetect.isMobile) {
        return _react2.default.createElement(_NavMobile2.default, { menu: menuItems });
      }

      return _react2.default.createElement(
        'div',
        { styleName: sticky ? 'header header-fixed' : 'header' },
        _react2.default.createElement(
          _WidthContainer2.default,
          { styleName: 'container' },
          _react2.default.createElement(_Logo2.default, { withLink: true }),
          _react2.default.createElement(_Nav2.default, { menu: menuItems }),
          _react2.default.createElement(_Logo2.default, { withLink: true, mobile: true }),
          _react2.default.createElement(_User2.default, null)
        )
      );
    }
  }]);
  return Header;
}(_react.Component), _class2.propTypes = {
  history: _propTypes2.default.object.isRequired
}, _temp)) || _class) || _class) || _class);
exports.default = Header;

/***/ }),

/***/ 3235:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_1AYBnf","header":"qZaPkJ","header-fixed":"Gb8DAz","slide-down":"ilvqtn"};

/***/ }),

/***/ 3236:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _Nav = __webpack_require__(3237);

var _Nav2 = _interopRequireDefault(_Nav);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Nav = (_dec = (0, _reactCssModules2.default)(_Nav2.default, { allowMultiple: true }), (0, _reactRouterDom.withRouter)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Nav, _Component);

  function Nav() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Nav);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Nav.__proto__ || (0, _getPrototypeOf2.default)(Nav)).call.apply(_ref, [this].concat(args))), _this), _this.handleScrollToTopClick = function (link) {
      _this.setState({ activeRoute: link });

      var scrollStep = -window.scrollY / (500 / 15);
      var scrollInterval = setInterval(function () {
        if (window.scrollY !== 0) {
          window.scrollBy(0, scrollStep);
        } else {
          clearInterval(scrollInterval);
        }
      }, 15);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Nav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var menu = this.props.menu;


      return _react2.default.createElement(
        'div',
        { styleName: 'nav' },
        _react2.default.createElement(
          _react.Fragment,
          null,
          menu.filter(function (i) {
            return i.isDesktop !== false;
          }).map(function (_ref2) {
            var title = _ref2.title,
                link = _ref2.link,
                exact = _ref2.exact;
            return _react2.default.createElement(
              _reactRouterDom.NavLink,
              {
                onClick: _this2.handleScrollToTopClick,
                key: title,
                exact: exact,
                styleName: 'link',
                to: link,
                activeClassName: _Nav2.default.active
              },
              title
            );
          }),
          true && _react2.default.createElement(
            'a',
            { href: _helpers.links.test, styleName: 'link', target: '_blank', rel: 'noreferrer noopener' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Nav88', defaultMessage: 'Testnet' })
          )
        )
      );
    }
  }]);
  return Nav;
}(_react.Component), _class2.propTypes = {
  menu: _propTypes2.default.array.isRequired
}, _temp2)) || _class) || _class);
exports.default = Nav;

/***/ }),

/***/ 3237:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"nav":"_34R6Y0","link":"_16Gtic","active":"_2Mv-fo"};

/***/ }),

/***/ 3238:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _User = __webpack_require__(3239);

var _User2 = _interopRequireDefault(_User);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Sound = __webpack_require__(1246);

var _Sound2 = _interopRequireDefault(_Sound);

var _Question = __webpack_require__(3240);

var _Question2 = _interopRequireDefault(_Question);

var _UserAvatar = __webpack_require__(3242);

var _UserAvatar2 = _interopRequireDefault(_UserAvatar);

var _UserTooltip = __webpack_require__(1247);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

var _AddOfferButton = __webpack_require__(3247);

var _AddOfferButton2 = _interopRequireDefault(_AddOfferButton);

var _Avatar = __webpack_require__(516);

var _Avatar2 = _interopRequireDefault(_Avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var User = (_dec = (0, _redaction.connect)({
  feeds: 'feeds.items',
  peer: 'ipfs.peer'
}), _dec2 = (0, _reactCssModules2.default)(_User2.default), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(User, _React$Component);

  function User() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, User);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = User.__proto__ || (0, _getPrototypeOf2.default)(User)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: true
    }, _this.handleChangeView = function () {
      _this.setState({ view: true });
    }, _this.handleToggleTooltip = function () {
      _this.setState({
        view: !_this.state.view
      });
    }, _this.soundClick = function () {
      var audio = new Audio();
      audio.src = _Sound2.default;
      audio.autoplay = true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(User, [{
    key: 'render',
    value: function render() {
      var view = this.state.view;
      var _props = this.props,
          feeds = _props.feeds,
          peer = _props.peer;


      return _react2.default.createElement(
        'div',
        { styleName: 'user-cont' },
        _react2.default.createElement(_AddOfferButton2.default, null),
        _react2.default.createElement(_Question2.default, null),
        _react2.default.createElement(_UserAvatar2.default, {
          isToggle: this.handleToggleTooltip,
          feeds: feeds,
          soundClick: this.soundClick,
          changeView: this.handleChangeView
        }),
        view && _react2.default.createElement(_UserTooltip2.default, {
          toggle: this.handleToggleTooltip
        }),
        !!peer && _react2.default.createElement(_Avatar2.default, {
          className: _User2.default.avatar,
          value: peer,
          size: 40
        })
      );
    }
  }]);
  return User;
}(_react2.default.Component), _class2.propTypes = {
  feeds: _propTypes2.default.array.isRequired,
  peer: _propTypes2.default.string.isRequired
}, _class2.defaultProps = {
  peer: null,
  feeds: []
}, _temp2)) || _class) || _class);
exports.default = User;

/***/ }),

/***/ 3239:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"user-cont":"_33Ia7P","hidden":"_3MuJfF","avatar":"_2Sdn1G"};

/***/ }),

/***/ 3240:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Question = __webpack_require__(3241);

var _Question2 = _interopRequireDefault(_Question);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Question = function Question() {
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'a',
      { href: 'https://wiki.swap.online/faq', target: '_blank', rel: 'noreferrer noopener', styleName: 'question', 'data-tip': true, 'data-for': 'Knowmore' },
      '?'
    ),
    _react2.default.createElement(
      _reactTooltip2.default,
      { id: 'Knowmore', type: 'light', effect: 'solid' },
      _react2.default.createElement(
        'span',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'question15', defaultMessage: 'Know more about us' })
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Question, _Question2.default);

/***/ }),

/***/ 3241:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"question":"_31uKq6"};

/***/ }),

/***/ 3242:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _avatar = __webpack_require__(3243);

var _avatar2 = _interopRequireDefault(_avatar);

var _UserAvatar = __webpack_require__(3244);

var _UserAvatar2 = _interopRequireDefault(_UserAvatar);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserAvatar = (_dec = (0, _reactCssModules2.default)(_UserAvatar2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(UserAvatar, _Component);

  function UserAvatar() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, UserAvatar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = UserAvatar.__proto__ || (0, _getPrototypeOf2.default)(UserAvatar)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      feeds: null,
      animation: 'user'
    }, _this.handleClick = function () {
      var isToggle = _this.props.isToggle;


      isToggle();
      _this.setState({
        animation: 'user'
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(UserAvatar, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var _this2 = this;

      var _props = this.props,
          feeds = _props.feeds,
          soundClick = _props.soundClick,
          changeView = _props.changeView;


      if (nextProps.feeds.length > feeds.length) {
        changeView();

        this.setState({
          feeds: nextProps.feeds,
          animation: 'user shake new'
        });

        setTimeout(function () {
          _this2.setState({
            animation: 'user new'
          });
        }, 820);

        soundClick();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var animation = this.state.animation;


      return _react2.default.createElement(
        'div',
        { styleName: animation, onClick: this.handleClick },
        _react2.default.createElement('img', { styleName: 'bell', src: _avatar2.default, alt: 'Bell' })
      );
    }
  }]);
  return UserAvatar;
}(_react.Component), _class2.propTypes = {
  feeds: _propTypes2.default.array.isRequired,
  soundClick: _propTypes2.default.func.isRequired,
  changeView: _propTypes2.default.func.isRequired
}, _class2.defaultProps = {
  feeds: []
}, _temp2)) || _class);
exports.default = UserAvatar;

/***/ }),

/***/ 3243:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/avatar_e241ff.svg";

/***/ }),

/***/ 3244:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"user":"_3R8ezp","bell":"_18U74M","status":"_1EDMx_","new":"_3UWWZN","shake":"_3RMI-t"};

/***/ }),

/***/ 3245:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"column":"_1gVhNf","feed":"_2nP3zE","userTooltip":"ZUrxv8","title":"_3Wmf4W","currency":"n4WzMO","coin":"FTx5Zs","arrow":"_1HGghg","checked":"Rrpe2k","decline":"_1oOc8J","icon":"hRKJDr"};

/***/ }),

/***/ 3246:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/arrow-right_861e95.svg";

/***/ }),

/***/ 3247:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _AddOfferButton = __webpack_require__(3248);

var _AddOfferButton2 = _interopRequireDefault(_AddOfferButton);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddOfferButton = function AddOfferButton() {
  return _react2.default.createElement(
    _react.Fragment,
    null,
     false ? _react2.default.createElement(
      _react.Fragment,
      null,
      _react2.default.createElement(
        'a',
        { href: _helpers.links.main, target: '_blank', rel: 'noreferrer noopener', styleName: 'button', 'data-tip': true, 'data-for': 'main' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer2218', defaultMessage: 'Mainnet' })
      ),
      _react2.default.createElement(
        _reactTooltip2.default,
        { id: 'main', type: 'light', effect: 'solid' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer22', defaultMessage: 'Start to real Swap' })
        )
      )
    ) : _react2.default.createElement(
      _react.Fragment,
      null,
      _react2.default.createElement(
        'button',
        { styleName: 'button', onClick: function onClick() {
            return pinkClick();
          } /* eslint-disable-line */, 'data-tip': true, 'data-for': 'subscribe' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer29', defaultMessage: 'Subscribe' })
      ),
      _react2.default.createElement(
        _reactTooltip2.default,
        { id: 'subscribe', type: 'light', effect: 'solid' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer33', defaultMessage: 'Get subscribed for the Swap.Online news' })
        )
      )
    ),
    _react2.default.createElement('button', { styleName: 'buttonMobile', onClick: function onClick() {
        return pinkClick();
      } /* eslint-disable-line */ })
  );
};

exports.default = (0, _reactCssModules2.default)(AddOfferButton, _AddOfferButton2.default);

/***/ }),

/***/ 3248:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3-kNLg","buttonMobile":"_3jxypg"};

/***/ }),

/***/ 3249:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(62);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _NavMobile = __webpack_require__(3250);

var _NavMobile2 = _interopRequireDefault(_NavMobile);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NavMobile = (_dec = (0, _reactCssModules2.default)(_NavMobile2.default), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(NavMobile, _Component);

  function NavMobile() {
    (0, _classCallCheck3.default)(this, NavMobile);
    return (0, _possibleConstructorReturn3.default)(this, (NavMobile.__proto__ || (0, _getPrototypeOf2.default)(NavMobile)).apply(this, arguments));
  }

  (0, _createClass3.default)(NavMobile, [{
    key: 'render',
    value: function render() {
      var menu = this.props.menu;


      return _react2.default.createElement(
        'div',
        { styleName: 'navbar' },
        menu.filter(function (i) {
          return i.isMobile !== false;
        }).map(function (_ref) {
          var title = _ref.title,
              link = _ref.link,
              exact = _ref.exact,
              icon = _ref.icon;
          return _react2.default.createElement(
            _reactRouterDom.NavLink,
            {
              key: title,
              exact: exact,
              to: link,
              activeClassName: _NavMobile2.default.active
            },
            _react2.default.createElement('i', { className: 'fas fa-' + icon, 'aria-hidden': 'true' }),
            _react2.default.createElement(
              'span',
              null,
              title
            )
          );
        })
      );
    }
  }]);
  return NavMobile;
}(_react.Component), _class2.propTypes = {
  menu: _propTypes2.default.array.isRequired
}, _temp)) || _class);
exports.default = NavMobile;

/***/ }),

/***/ 3250:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"navbar":"_3bqdv6","active":"_3eJxZS"};

/***/ }),

/***/ 3251:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _redaction = __webpack_require__(47);

var _Footer = __webpack_require__(3252);

var _Footer2 = _interopRequireDefault(_Footer);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Info = __webpack_require__(3253);

var _Info2 = _interopRequireDefault(_Info);

var _Links = __webpack_require__(3259);

var _Links2 = _interopRequireDefault(_Links);

var _SocialMenu = __webpack_require__(3261);

var _SocialMenu2 = _interopRequireDefault(_SocialMenu);

var _WidthContainer = __webpack_require__(283);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Footer = function Footer(props) {
  return _react2.default.createElement(
    'div',
    { styleName: 'footer' },
    _react2.default.createElement(
      _WidthContainer2.default,
      { styleName: 'container' },
      _react2.default.createElement(_Links2.default, null),
      _react2.default.createElement(_SocialMenu2.default, null),
      _react2.default.createElement(_Info2.default, props),
      _react2.default.createElement(
        'span',
        { style: { color: '#ffffff', fontSize: '12px' } },
        _appConfig2.default.time
      )
    )
  );
};

Footer.propTypes = {
  props: _propTypes2.default.shape({
    serverAddress: _propTypes2.default.string.isRequired,
    isOnline: _propTypes2.default.bool.isRequired,
    onlineUsers: _propTypes2.default.number
  })
};

exports.default = (0, _redaction.connect)({
  'serverAddress': 'ipfs.server',
  'isOnline': 'ipfs.isOnline',
  'onlineUsers': 'ipfs.onlineUsers'
})((0, _reactCssModules2.default)(Footer, _Footer2.default, { allowMultiple: true }));

/***/ }),

/***/ 3252:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"footer":"_3I8ngW","information-footer":"_3vZL5k","text":"_2mlrGY","container":"_19TQvN","copyright":"_1D7G47","container--copyright":"_3g2PS3"};

/***/ }),

/***/ 3253:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Info = __webpack_require__(3254);

var _Info2 = _interopRequireDefault(_Info);

var _ProgressBar = __webpack_require__(3255);

var _ProgressBar2 = _interopRequireDefault(_ProgressBar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Info = (_temp = _class = function (_React$Component) {
  (0, _inherits3.default)(Info, _React$Component);

  function Info() {
    (0, _classCallCheck3.default)(this, Info);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Info.__proto__ || (0, _getPrototypeOf2.default)(Info)).call(this));

    _this.hideProgressBar = function () {
      _this.setState(function () {
        return { isVisibleProgressBar: false };
      });
    };

    _this.state = {
      isVisibleProgressBar: true
    };
    return _this;
  }

  (0, _createClass3.default)(Info, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          isOnline = _props.isOnline,
          serverAddress = _props.serverAddress,
          onlineUsers = _props.onlineUsers;
      var isVisibleProgressBar = this.state.isVisibleProgressBar;


      return _react2.default.createElement(
        'div',
        { styleName: 'title' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(
            'span',
            { styleName: isOnline ? 'connect' : 'disconnect' },
            isOnline ? 'Connected ' : 'Loading or not available '
          ),
          'to IPFS signal ',
          serverAddress,
          ' / peers online: ',
          onlineUsers
        ),
        isVisibleProgressBar && _react2.default.createElement(_ProgressBar2.default, { handleClick: this.hideProgressBar })
      );
    }
  }]);
  return Info;
}(_react2.default.Component), _class.propTypes = {
  serverAddress: _propTypes2.default.string.isRequired,
  isOnline: _propTypes2.default.bool.isRequired,
  onlineUsers: _propTypes2.default.number
}, _class.defaultProps = {
  serverAddress: 'array.io',
  isOnline: false,
  onlineUsers: 1
}, _temp);
exports.default = (0, _reactCssModules2.default)(Info, _Info2.default, { allowMultiple: true });

/***/ }),

/***/ 3254:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_1C587Y","connect":"_34nV3E","disconnect":"_2UdlK9","copyright":"_12uT1G","copyright-text":"_2_iz0_"};

/***/ }),

/***/ 3255:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _rcProgress = __webpack_require__(3256);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProgressBar = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ProgressBar, _Component);

  function ProgressBar(_ref) {
    var maxValue = _ref.maxValue,
        endTime = _ref.endTime,
        step = _ref.step;
    (0, _classCallCheck3.default)(this, ProgressBar);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ProgressBar.__proto__ || (0, _getPrototypeOf2.default)(ProgressBar)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      step: step,
      endTime: endTime,
      maxValue: maxValue,
      progressNow: 0
    };
    return _this;
  }

  // seconds


  (0, _createClass3.default)(ProgressBar, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.step();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearInterval(this.timer);
    }
  }, {
    key: 'render',
    value: function render() {
      var progressNow = this.state.progressNow;


      return _react2.default.createElement(_rcProgress.Line, { strokeColor: '#2181F7', percent: progressNow, strokeWidth: '1' });
    }
  }]);
  return ProgressBar;
}(_react.Component), _class.propTypes = {
  step: _propTypes2.default.number,
  endTime: _propTypes2.default.number,
  maxValue: _propTypes2.default.number,
  handleClick: _propTypes2.default.func
}, _class.defaultProps = {
  maxValue: 100,
  endTime: 60000,
  step: 1000
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.timer = null;

  this.step = function () {
    var _state = _this2.state,
        progressNow = _state.progressNow,
        maxValue = _state.maxValue,
        endTime = _state.endTime,
        step = _state.step;
    var handleClick = _this2.props.handleClick;


    var progress = maxValue / (endTime / step);
    var newValue = progressNow + progress;

    if (progressNow >= maxValue) {
      handleClick();
    } else {
      _this2.timer = setTimeout(_this2.step, step);
      _this2.setState(function () {
        return { progressNow: newValue };
      });
    }
  };
}, _temp);
exports.default = ProgressBar;

/***/ }),

/***/ 3259:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Links = __webpack_require__(3260);

var _Links2 = _interopRequireDefault(_Links);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _links = __webpack_require__(352);

var _links2 = _interopRequireDefault(_links);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var link = [[{ link: _links2.default.career, title: 'Careers', header: 'Company' }, { link: _links2.default.button, title: 'Use swap.button' }, { link: _links2.default.about, title: 'About Us' }, { link: _links2.default.extension, title: 'Swap.Online Chrome Extension' }], [{ link: _links2.default.concept, title: 'Concept (PDF)', header: 'Documentation' }, { link: _links2.default.description, title: 'White Paper (draft)' }, { link: _links2.default.reuters, title: 'Details of Our DEX' }, { link: _links2.default.research, title: 'DEX Trend Research' }], [{ link: _links2.default.wiki, title: 'Wiki', header: 'Resources' }, { link: _links2.default.bitcointalkSendTx, title: 'Send Bitcoin Transacton' }, { link: _links2.default.github, title: 'github/swap.core' }, { link: _links2.default.githubButton, title: 'github/swap.button ' }], [{ link: _links2.default.terms, title: 'Terms', header: 'Legal' }, { link: _links2.default.privacyPolicy, title: 'Privacy Policy' }, { link: _links2.default.contacts, title: 'Contacts' }, { link: _links2.default.legalOpinion, title: 'Legal Opinion' }]];

var Rows = function Rows(items) {
  return items.map(function (item, index) {
    return _react2.default.createElement(
      _react.Fragment,
      { key: index },
      item.header && _react2.default.createElement(
        'h4',
        null,
        item.header
      ),
      _react2.default.createElement(
        'a',
        { href: item.link, target: '_blank', rel: 'noopener noreferrer' },
        item.title
      )
    );
  });
};

var Links = function Links() {
  return _react2.default.createElement(
    'div',
    { styleName: 'links' },
    link.map(function (items, index) {
      return _react2.default.createElement(
        'div',
        { styleName: 'column', key: index },
        Rows(items)
      );
    })
  );
};

exports.default = (0, _reactCssModules2.default)(_Links2.default)(Links);

/***/ }),

/***/ 3260:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"links":"XBi5CM","column":"vRPQ8C"};

/***/ }),

/***/ 3261:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SocialMenu = __webpack_require__(3262);

var _SocialMenu2 = _interopRequireDefault(_SocialMenu);

var _links = __webpack_require__(352);

var _links2 = _interopRequireDefault(_links);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var nav = [{ links: _links2.default.medium, icon: 'fa-medium-m' }, { links: _links2.default.twitter, icon: 'fa-twitter' }, { links: _links2.default.facebook, icon: 'fa-facebook' }, { links: _links2.default.telegram, icon: 'fa-telegram-plane' }, { links: _links2.default.bitcointalk, icon: 'fa-btc' }, { links: _links2.default.discord, icon: 'fab fa-discord' }];

var SocialMenu = function SocialMenu() {
  return _react2.default.createElement(
    'ul',
    { styleName: 'social-menu' },
    nav.map(function (item, index) {
      return _react2.default.createElement(
        'li',
        { key: index },
        _react2.default.createElement(
          'a',
          { href: item.links, target: '_blank', rel: 'noopener noreferrer' },
          _react2.default.createElement('i', { styleName: 'icon', className: 'fab ' + item.icon })
        )
      );
    })
  );
};

exports.default = (0, _reactCssModules2.default)(SocialMenu, _SocialMenu2.default);

/***/ }),

/***/ 3262:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"social-menu":"eSQrZX","icon":"_1aBVqk"};

/***/ }),

/***/ 3263:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"overlay":"_3V4vPK","loader":"_37qfX_","small":"_1Cc0hi","center":"_3wUrWW","loader1":"B8rIc7","loader2":"_2dF68e","loader3":"_1fAQsv","text":"_2mdCx-","link":"_1pQH11","over":"_1YQJwX","tips":"_23YEZe"};

/***/ }),

/***/ 3264:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _WidthContainer = __webpack_require__(283);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PreventMultiTabs = function PreventMultiTabs() {
  return _react2.default.createElement(
    _WidthContainer2.default,
    null,
    _react2.default.createElement(
      _reactIntl.FormattedMessage,
      { id: 'PreventMultiTabs', defaultMessage: 'Such error, many tabs' },
      function (message) {
        return _react2.default.createElement(
          'h1',
          null,
          message
        );
      }
    ),
    'Swap.Online supports only one active tab. Please reload this page to continue using this tab or close it.'
  );
};

exports.default = PreventMultiTabs;

/***/ }),

/***/ 3265:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _Loader = __webpack_require__(655);

var _Loader2 = _interopRequireDefault(_Loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RequestLoader = function RequestLoader(_ref) {
  var isVisible = _ref.isVisible,
      data = _ref.data;

  if (!isVisible) {
    return null;
  }

  console.log('data', data);

  return _react2.default.createElement(_Loader2.default, { data: data });
};

RequestLoader.propTypes = {
  isVisible: _propTypes2.default.bool.isRequired
};

RequestLoader.defaultProps = {
  isVisible: false
};

exports.default = (0, _redaction.connect)({
  isVisible: 'loader.isVisible',
  data: 'loader.data'
})(RequestLoader);

/***/ }),

/***/ 3266:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _OfferModal = __webpack_require__(3267);

var _OfferModal2 = _interopRequireDefault(_OfferModal);

var _WithdrawModal = __webpack_require__(3297);

var _WithdrawModal2 = _interopRequireDefault(_WithdrawModal);

var _PrivateKeysModal = __webpack_require__(838);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _EosRegisterModal = __webpack_require__(3299);

var _EosRegisterModal2 = _interopRequireDefault(_EosRegisterModal);

var _EosBuyAccountModal = __webpack_require__(3303);

var _EosBuyAccountModal2 = _interopRequireDefault(_EosBuyAccountModal);

var _TelosRegisterModal = __webpack_require__(3305);

var _TelosRegisterModal2 = _interopRequireDefault(_TelosRegisterModal);

var _Approve = __webpack_require__(3307);

var _Approve2 = _interopRequireDefault(_Approve);

var _ImportKeys = __webpack_require__(3309);

var _ImportKeys2 = _interopRequireDefault(_ImportKeys);

var _ShowMoreCoins = __webpack_require__(3313);

var _ShowMoreCoins2 = _interopRequireDefault(_ShowMoreCoins);

var _EthChecker = __webpack_require__(3317);

var _EthChecker2 = _interopRequireDefault(_EthChecker);

var _ReceiveModal = __webpack_require__(3319);

var _ReceiveModal2 = _interopRequireDefault(_ReceiveModal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  OfferModal: _OfferModal2.default,
  WithdrawModal: _WithdrawModal2.default,
  PrivateKeysModal: _PrivateKeysModal2.default,
  ImportKeys: _ImportKeys2.default,
  ShowMoreCoins: _ShowMoreCoins2.default,
  EosBuyAccountModal: _EosBuyAccountModal2.default,
  EosRegisterModal: _EosRegisterModal2.default,
  TelosRegisterModal: _TelosRegisterModal2.default,
  Approve: _Approve2.default,
  EthChecker: _EthChecker2.default,
  ReceiveModal: _ReceiveModal2.default
};

/***/ }),

/***/ 3267:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _OfferModal = __webpack_require__(3268);

var _OfferModal2 = _interopRequireDefault(_OfferModal);

var _Modal = __webpack_require__(371);

var _Modal2 = _interopRequireDefault(_Modal);

var _ConfirmOffer = __webpack_require__(3269);

var _ConfirmOffer2 = _interopRequireDefault(_ConfirmOffer);

var _AddOffer = __webpack_require__(3280);

var _AddOffer2 = _interopRequireDefault(_AddOffer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Offer = (_dec = (0, _reactCssModules2.default)(_OfferModal2.default), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Offer, _React$Component);

  function Offer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Offer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Offer.__proto__ || (0, _getPrototypeOf2.default)(Offer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: 'editOffer', // editOffer / confirmOffer
      offer: {
        buyCurrency: _this.props.data.buyCurrency,
        sellCurrency: _this.props.data.sellCurrency
      }
    }, _this.handleMoveToConfirmation = function (offer) {
      _this.setState({
        view: 'confirmOffer',
        offer: offer
      });
    }, _this.handleMoveToOfferEditing = function () {
      _actions2.default.analytics.dataEvent('orderbook-addoffer-click-confirm-button');
      _this.setState({
        view: 'editOffer'
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Offer, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.scrollTo({ top: 0 });
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          view = _state.view,
          offer = _state.offer;
      var name = this.props.name;


      var title = view === 'editOffer' ? 'Add offer' : 'Confirm offer';

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: title },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          view === 'editOffer' ? _react2.default.createElement(_AddOffer2.default, { initialData: offer, onNext: this.handleMoveToConfirmation }) : _react2.default.createElement(_ConfirmOffer2.default, { offer: offer, onBack: this.handleMoveToOfferEditing })
        )
      );
    }
  }]);
  return Offer;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string
}, _temp2)) || _class);
exports.default = Offer;

/***/ }),

/***/ 3268:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"content":"_2EHTMr"};

/***/ }),

/***/ 3269:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactRouterDom = __webpack_require__(62);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ConfirmOffer = __webpack_require__(3270);

var _ConfirmOffer2 = _interopRequireDefault(_ConfirmOffer);

var _Row = __webpack_require__(3271);

var _Row2 = _interopRequireDefault(_Row);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Coins = __webpack_require__(282);

var _Coins2 = _interopRequireDefault(_Coins);

var _Amounts = __webpack_require__(3273);

var _Amounts2 = _interopRequireDefault(_Amounts);

var _ExchangeRate = __webpack_require__(3277);

var _ExchangeRate2 = _interopRequireDefault(_ExchangeRate);

var _Fee = __webpack_require__(3279);

var _Fee2 = _interopRequireDefault(_Fee);

var _redaction = __webpack_require__(47);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ConfirmOffer = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies.items,
      address = _ref.user.ethData.address;
  return {
    currencies: currencies,
    address: address
  };
}), _dec2 = (0, _reactCssModules2.default)(_ConfirmOffer2.default), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(ConfirmOffer, _Component);

  function ConfirmOffer() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ConfirmOffer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = ConfirmOffer.__proto__ || (0, _getPrototypeOf2.default)(ConfirmOffer)).call.apply(_ref2, [this].concat(args))), _this), _this.handleConfirm = function () {
      _this.createOrder();
      _actions2.default.modals.close('OfferModal');
    }, _this.getUniqId = function () {
      var address = _this.props.address;

      var id = Date.now();

      return address + '-' + ++id;
    }, _this.createOrder = function () {
      var _this$props$offer = _this.props.offer,
          buyAmount = _this$props$offer.buyAmount,
          sellAmount = _this$props$offer.sellAmount,
          buyCurrency = _this$props$offer.buyCurrency,
          sellCurrency = _this$props$offer.sellCurrency,
          exchangeRate = _this$props$offer.exchangeRate,
          isPartialClosure = _this$props$offer.isPartialClosure;


      var data = {
        buyCurrency: '' + buyCurrency,
        sellCurrency: '' + sellCurrency,
        buyAmount: Number(buyAmount),
        sellAmount: Number(sellAmount),
        exchangeRate: Number(exchangeRate),
        isPartialClosure: isPartialClosure
      };

      _actions2.default.analytics.dataEvent('orderbook-addoffer-click-confirm-button');
      _actions2.default.core.createOrder(data);
      _actions2.default.core.updateCore();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ConfirmOffer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          _props$offer = _props.offer,
          buyAmount = _props$offer.buyAmount,
          sellAmount = _props$offer.sellAmount,
          buyCurrency = _props$offer.buyCurrency,
          sellCurrency = _props$offer.sellCurrency,
          exchangeRate = _props$offer.exchangeRate,
          onBack = _props.onBack,
          currencies = _props.currencies;


      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_Coins2.default, { styleName: 'coins', names: [buyCurrency, sellCurrency], size: 100 }),
        _react2.default.createElement(_Amounts2.default, { buyAmount: buyAmount, sellAmount: sellAmount, buyCurrency: buyCurrency, sellCurrency: sellCurrency }),
        _react2.default.createElement(_ExchangeRate2.default, { value: exchangeRate, buyCurrency: buyCurrency, sellCurrency: sellCurrency }),
        _react2.default.createElement(_Fee2.default, { amount: 0.0001, currency: sellCurrency }),
        _react2.default.createElement(
          _Row2.default,
          { styleName: 'buttonsInRow' },
          _react2.default.createElement(
            _Button2.default,
            { styleName: 'button', gray: true, onClick: onBack },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConfirmOffer69', defaultMessage: 'Back' })
          ),
          _react2.default.createElement(
            _reactRouterDom.Link,
            { styleName: 'link', to: '' + _helpers.links.home + buyCurrency + '-' + sellCurrency },
            _react2.default.createElement(
              _Button2.default,
              { styleName: 'button', id: 'confirm', brand: true, onClick: this.handleConfirm },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConfirmOffer73', defaultMessage: 'Add' })
            )
          )
        )
      );
    }
  }]);
  return ConfirmOffer;
}(_react.Component)) || _class) || _class);
exports.default = ConfirmOffer;

/***/ }),

/***/ 3270:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"_2SFTdv","buttonsInRow":"_3Z13ki","button":"_1IOrqN","link":"ilIyX_"};

/***/ }),

/***/ 3271:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3272);

var _Row2 = _interopRequireDefault(_Row);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function Row(_ref) {
  var children = _ref.children,
      className = _ref.className;
  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { styleName: 'row' },
      children
    )
  );
};

Row.propTypes = {
  children: _propTypes2.default.node.isRequired,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default);

/***/ }),

/***/ 3272:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"Y28YaZ"};

/***/ }),

/***/ 3273:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Amounts = __webpack_require__(3274);

var _Amounts2 = _interopRequireDefault(_Amounts);

var _Row = __webpack_require__(656);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(657);

var _Value2 = _interopRequireDefault(_Value);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Amounts = function Amounts(_ref) {
  var buyAmount = _ref.buyAmount,
      sellAmount = _ref.sellAmount,
      buyCurrency = _ref.buyCurrency,
      sellCurrency = _ref.sellCurrency;
  return _react2.default.createElement(
    _Row2.default,
    { title: 'Exchange' },
    _react2.default.createElement(_Value2.default, { value: Number(sellAmount), currency: sellCurrency }),
    _react2.default.createElement('div', { styleName: 'arrow' }),
    _react2.default.createElement(_Value2.default, { value: Number(buyAmount), currency: buyCurrency })
  );
};

exports.default = (0, _reactCssModules2.default)(Amounts, _Amounts2.default);

/***/ }),

/***/ 3274:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"arrow":"_1JeVyh"};

/***/ }),

/***/ 3275:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_3kZbpm","title":"_2-aWLd","content":"_2ALy7S"};

/***/ }),

/***/ 3276:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"_1MvMZq","currency":"ka6sxH"};

/***/ }),

/***/ 3277:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ExchangeRate = __webpack_require__(3278);

var _ExchangeRate2 = _interopRequireDefault(_ExchangeRate);

var _Row = __webpack_require__(656);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(657);

var _Value2 = _interopRequireDefault(_Value);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ExchangeRate = function ExchangeRate(_ref) {
  var value = _ref.value,
      buyCurrency = _ref.buyCurrency,
      sellCurrency = _ref.sellCurrency;
  return _react2.default.createElement(
    _Row2.default,
    { title: 'Exchange rate' },
    _react2.default.createElement(_Value2.default, { value: 1 / Number(value), currency: sellCurrency }),
    _react2.default.createElement(
      _reactIntl.FormattedMessage,
      { id: 'ExchangeRate14', defaultMessage: '=' },
      function (message) {
        return _react2.default.createElement(
          'div',
          { styleName: 'equal' },
          message
        );
      }
    ),
    _react2.default.createElement(_Value2.default, { value: 1, currency: buyCurrency })
  );
};

exports.default = (0, _reactCssModules2.default)(ExchangeRate, _ExchangeRate2.default);

/***/ }),

/***/ 3278:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"equal":"_62CYy3"};

/***/ }),

/***/ 3279:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Row = __webpack_require__(656);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(657);

var _Value2 = _interopRequireDefault(_Value);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Fee = function Fee(_ref) {
  var amount = _ref.amount,
      currency = _ref.currency;
  return _react2.default.createElement(
    _Row2.default,
    { title: 'Miner fee' },
    _react2.default.createElement(_Value2.default, { value: amount, currency: currency })
  );
};

exports.default = Fee;

/***/ }),

/***/ 3280:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _isNan = __webpack_require__(357);

var _isNan2 = _interopRequireDefault(_isNan);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(48);

var _AddOffer = __webpack_require__(3281);

var _AddOffer2 = _interopRequireDefault(_AddOffer);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Select = __webpack_require__(3282);

var _Select2 = _interopRequireDefault(_Select);

var _ExchangeRateGroup = __webpack_require__(3284);

var _ExchangeRateGroup2 = _interopRequireDefault(_ExchangeRateGroup);

var _SelectGroup = __webpack_require__(3287);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Toggle = __webpack_require__(510);

var _Toggle2 = _interopRequireDefault(_Toggle);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

var _math = __webpack_require__(3289);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var minAmount = {
  eth: 0.05,
  btc: 0.004,
  ltc: 0.1,
  eos: 1,
  noxon: 1,
  swap: 1,
  jot: 1
};

var AddOffer = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      usdtData = _ref$user.usdtData,
      ltcData = _ref$user.ltcData;
  return {
    currencies: currencies.items,
    items: [ethData, btcData, eosData, telosData, bchData, ltcData, usdtData /* nimData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_AddOffer2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(AddOffer, _Component);

  function AddOffer(_ref2) {
    var initialData = _ref2.initialData;
    (0, _classCallCheck3.default)(this, AddOffer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddOffer.__proto__ || (0, _getPrototypeOf2.default)(AddOffer)).call(this));

    _initialiseProps.call(_this);

    var _ref3 = initialData || {},
        exchangeRate = _ref3.exchangeRate,
        buyAmount = _ref3.buyAmount,
        sellAmount = _ref3.sellAmount,
        buyCurrency = _ref3.buyCurrency,
        sellCurrency = _ref3.sellCurrency;

    _this.state = {
      exchangeRate: exchangeRate || 1,
      buyAmount: buyAmount || '',
      sellAmount: sellAmount || '',
      buyCurrency: buyCurrency || 'btc',
      sellCurrency: sellCurrency || 'eth',
      ethBalance: null,
      isSending: false,
      balance: null,
      isSellFieldInteger: false,
      isBuyFieldInteger: false,
      manualRate: false,
      isPartialClosure: false
    };
    return _this;
  }

  (0, _createClass3.default)(AddOffer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _state = this.state,
          sellCurrency = _state.sellCurrency,
          buyCurrency = _state.buyCurrency;

      this.checkBalance(sellCurrency);
      this.updateExchangeRate(sellCurrency, buyCurrency);
    }
  }, {
    key: 'updateExchangeRate',
    value: function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(sellCurrency, buyCurrency) {
        var _this2 = this;

        var exchangeRate;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return _actions2.default.user.getExchangeRate(sellCurrency, buyCurrency);

              case 2:
                exchangeRate = _context.sent;
                return _context.abrupt('return', new _promise2.default(function (resolve, reject) {
                  _this2.setState({ exchangeRate: exchangeRate }, function () {
                    return resolve();
                  });
                }));

              case 4:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function updateExchangeRate(_x, _x2) {
        return _ref4.apply(this, arguments);
      }

      return updateExchangeRate;
    }()
  }, {
    key: 'isEthOrERC20',
    value: function isEthOrERC20() {
      var tokenItems = this.props.tokenItems;
      var _state2 = this.state,
          buyCurrency = _state2.buyCurrency,
          sellCurrency = _state2.sellCurrency,
          ethBalance = _state2.ethBalance;


      return sellCurrency === 'eth' || buyCurrency === 'eth' || tokenItems.find(function (item) {
        return item.name === sellCurrency || item.name === buyCurrency;
      }) !== undefined ? ethBalance < minAmount.eth : false;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          currencies = _props.currencies,
          tokenItems = _props.tokenItems;
      var _state3 = this.state,
          exchangeRate = _state3.exchangeRate,
          buyAmount = _state3.buyAmount,
          sellAmount = _state3.sellAmount,
          buyCurrency = _state3.buyCurrency,
          sellCurrency = _state3.sellCurrency,
          balance = _state3.balance,
          isBuyFieldInteger = _state3.isBuyFieldInteger,
          isSellFieldInteger = _state3.isSellFieldInteger,
          ethBalance = _state3.ethBalance,
          manualRate = _state3.manualRate,
          isPartialClosure = _state3.isPartialClosure;

      var linked = _swValuelink2.default.all(this, 'exchangeRate', 'buyAmount', 'sellAmount');
      var isDisabled = !exchangeRate || !buyAmount && !sellAmount || sellAmount > balance || sellAmount < minAmount[sellCurrency] || this.isEthOrERC20();

      linked.sellAmount.check(function (value) {
        return value > minAmount[sellCurrency];
      }, 'Amount must be greater than ' + minAmount[sellCurrency] + ' ');
      linked.sellAmount.check(function (value) {
        return value <= balance;
      }, 'Amount must be less than your balance');

      return _react2.default.createElement(
        'div',
        { styleName: 'wrapper addOffer' },
        this.isEthOrERC20() && _react2.default.createElement(
          'span',
          { styleName: 'error' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transaction27', defaultMessage: 'For a swap, you need' }),
          minAmount.eth,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transaction27', defaultMessage: 'ETH on your balance' })
        ),
        _react2.default.createElement(_SelectGroup2.default, {
          styleName: 'sellGroup',
          label: 'Sell',
          inputValueLink: linked.sellAmount.pipe(this.handleSellAmountChange),
          selectedCurrencyValue: sellCurrency,
          onCurrencySelect: this.handleSellCurrencySelect,
          id: 'sellAmount',
          currencies: currencies,
          isInteger: isSellFieldInteger,
          placeholder: 'Enter sell amount'
        }),
        _react2.default.createElement(_Select2.default, {
          changeBalance: this.changeBalance,
          balance: balance,
          currency: sellCurrency
        }),
        _react2.default.createElement(_SelectGroup2.default, {
          label: 'Buy',
          inputValueLink: linked.buyAmount.pipe(this.handleBuyAmountChange),
          selectedCurrencyValue: buyCurrency,
          onCurrencySelect: this.handleBuyCurrencySelect,
          id: 'buyAmount',
          currencies: currencies,
          isInteger: isBuyFieldInteger,
          placeholder: 'Enter buy amount'
        }),
        _react2.default.createElement(
          'div',
          { styleName: 'exchangeRate' },
          _react2.default.createElement(_ExchangeRateGroup2.default, {
            label: 'Exchange rate',
            inputValueLink: linked.exchangeRate.pipe(this.handleExchangeRateChange),
            currency: false,
            disabled: !manualRate,
            id: 'exchangeRate',
            placeholder: 'Enter exchange rate amount',
            buyCurrency: buyCurrency,
            sellCurrency: sellCurrency
          })
        ),
        _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_Toggle2.default, { checked: manualRate, onChange: this.handleManualRate }),
          ' Custom exchange rate',
          _react2.default.createElement(_Tooltip2.default, { text: 'To change the exchange rate' })
        ),
        _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_Toggle2.default, { checked: isPartialClosure, onChange: function onChange() {
              return _this3.setState(function (state) {
                return { isPartialClosure: !state.isPartialClosure };
              });
            } }),
          ' Enabled to partial closure',
          _react2.default.createElement(_Tooltip2.default, {
            text: 'Partial closure means that you will receive exchange requests <br/> or the amount less than the total amount you want sell. <br/> For example if you want to sell 1 BTC, <br/> other users can send you exchange requests for 0.1, 0.5 BTC' })
        ),
        _react2.default.createElement(
          _Button2.default,
          { styleName: 'button', fullWidth: true, brand: true, disabled: isDisabled, onClick: this.handleNext },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'AddOffer396', defaultMessage: 'Next' })
        )
      );
    }
  }]);
  return AddOffer;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this4 = this;

  this.checkBalance = function () {
    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(sellCurrency) {
      var _props2, items, tokenItems, currency, sleep, balance, unconfirmedBalance, finalBalance, ethBalance;

      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return _actions2.default[sellCurrency].getBalance(sellCurrency);

            case 2:
              _props2 = _this4.props, items = _props2.items, tokenItems = _props2.tokenItems;
              currency = items.concat(tokenItems).filter(function (item) {
                return item.currency === sellCurrency.toUpperCase();
              })[0];

              sleep = function sleep(time) {
                return new _promise2.default(function (resolve) {
                  return setTimeout(resolve, time);
                });
              };

              balance = currency.balance, unconfirmedBalance = currency.unconfirmedBalance;
              finalBalance = unconfirmedBalance !== undefined && unconfirmedBalance < 0 ? Number(balance) + Number(unconfirmedBalance) : balance;
              _context2.next = 9;
              return _actions2.default.eth.getBalance();

            case 9:
              ethBalance = _context2.sent;


              _this4.setState({
                balance: finalBalance,
                ethBalance: ethBalance
              });

            case 11:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, _this4);
    }));

    return function (_x3) {
      return _ref5.apply(this, arguments);
    };
  }();

  this.handleBuyCurrencySelect = function () {
    var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref7) {
      var value = _ref7.value;

      var _state4, buyCurrency, sellCurrency, buyAmount, sellAmount, exchangeRate, isBuyFieldInteger;

      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _state4 = _this4.state, buyCurrency = _state4.buyCurrency, sellCurrency = _state4.sellCurrency, buyAmount = _state4.buyAmount, sellAmount = _state4.sellAmount;


              if (value === sellCurrency) {
                sellCurrency = buyCurrency;
              }

              buyCurrency = value;

              _context3.next = 5;
              return _this4.checkBalance(sellCurrency);

            case 5:
              _context3.next = 7;
              return _this4.updateExchangeRate(sellCurrency, buyCurrency);

            case 7:
              exchangeRate = _this4.state.exchangeRate;

              sellAmount = new _bignumber.BigNumber(String(buyAmount) || 0).multipliedBy(exchangeRate);

              isBuyFieldInteger = _appConfig2.default.erc20[buyCurrency] && _appConfig2.default.erc20[buyCurrency].decimals === 0;


              if (isBuyFieldInteger) {
                buyAmount = new _bignumber.BigNumber(String(buyAmount) || 0).dp(0, _bignumber.BigNumber.ROUND_HALF_EVEN);
              }
              _this4.setState({
                buyCurrency: buyCurrency,
                sellCurrency: sellCurrency,
                sellAmount: (0, _isNan2.default)(sellAmount) ? '' : sellAmount,
                buyAmount: (0, _isNan2.default)(buyAmount) ? '' : buyAmount,
                isSellFieldInteger: _appConfig2.default.erc20[sellCurrency] && _appConfig2.default.erc20[sellCurrency].decimals === 0,
                isBuyFieldInteger: isBuyFieldInteger
              });

            case 12:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, _this4);
    }));

    return function (_x4) {
      return _ref6.apply(this, arguments);
    };
  }();

  this.handleSellCurrencySelect = function () {
    var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(_ref9) {
      var value = _ref9.value;

      var _state5, buyCurrency, sellCurrency, sellAmount, buyAmount, exchangeRate, isSellFieldInteger;

      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _state5 = _this4.state, buyCurrency = _state5.buyCurrency, sellCurrency = _state5.sellCurrency, sellAmount = _state5.sellAmount, buyAmount = _state5.buyAmount;


              if (value === buyCurrency) {
                buyCurrency = sellCurrency;
              }

              sellCurrency = value;

              _context4.next = 5;
              return _this4.checkBalance(sellCurrency);

            case 5:
              _context4.next = 7;
              return _this4.updateExchangeRate(sellCurrency, buyCurrency);

            case 7:
              exchangeRate = _this4.state.exchangeRate;

              buyAmount = new _bignumber.BigNumber(String(sellAmount) || 0).multipliedBy(exchangeRate);

              isSellFieldInteger = _appConfig2.default.erc20[sellCurrency] && _appConfig2.default.erc20[sellCurrency].decimals === 0;


              if (isSellFieldInteger) {
                sellAmount = new _bignumber.BigNumber(String(sellAmount) || 0).dp(0, _bignumber.BigNumber.ROUND_HALF_EVEN);
              }

              _this4.setState({
                buyCurrency: buyCurrency,
                sellCurrency: sellCurrency,
                buyAmount: (0, _isNan2.default)(buyAmount) ? '' : buyAmount,
                sellAmount: (0, _isNan2.default)(sellAmount) ? '' : sellAmount,
                isSellFieldInteger: isSellFieldInteger,
                isBuyFieldInteger: _appConfig2.default.erc20[buyCurrency] && _appConfig2.default.erc20[buyCurrency].decimals === 0
              });

            case 12:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, _this4);
    }));

    return function (_x5) {
      return _ref8.apply(this, arguments);
    };
  }();

  this.handleExchangeRateChange = function (value) {
    var _state6 = _this4.state,
        buyAmount = _state6.buyAmount,
        sellAmount = _state6.sellAmount;


    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    // if (areFloatsEqual(value, 0) || !value) {
    //   return undefined
    // }

    _this4.handleAnyChange({
      type: 'rate',
      value: value
    });

    return value;
  };

  this.handleBuyAmountChange = function (value, prev) {
    var _state7 = _this4.state,
        exchangeRate = _state7.exchangeRate,
        sellAmount = _state7.sellAmount,
        manualRate = _state7.manualRate;


    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    _this4.handleAnyChange({
      type: 'buy',
      value: value
    });

    return value;
  };

  this.handleSellAmountChange = function (value) {
    var _state8 = _this4.state,
        exchangeRate = _state8.exchangeRate,
        buyAmount = _state8.buyAmount;


    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    _this4.handleAnyChange({
      type: 'sell',
      value: value
    });

    return value;
  };

  this.handleAnyChange = function (_ref10) {
    var type = _ref10.type,
        value = _ref10.value;
    var _state9 = _this4.state,
        manualRate = _state9.manualRate,
        exchangeRate = _state9.exchangeRate,
        buyAmount = _state9.buyAmount,
        sellAmount = _state9.sellAmount;


    if (type === 'sell' || type === 'buy') {
      if (!_this4.isSending) {
        _actions2.default.analytics.dataEvent('orderbook-addoffer-enter-ordervalue');
        _this4.setState({ isSending: true });
      }
    }

    /*
        XR = S / B
        B = S / XR
        S = XR * B
    */

    switch (type) {
      case 'sell':
        {
          /*
            S++ -> XR++ -> B (Manual Rate)
            S++ -> XR -> B++ (Auto Rate)
          */

          if (manualRate) {
            var newExchangeRate = new _bignumber.BigNumber(String(value)).dividedBy(new _bignumber.BigNumber(String(buyAmount)));
            _this4.setState({
              exchangeRate: (0, _math.isNumberValid)(newExchangeRate) ? newExchangeRate : '',
              sellAmount: new _bignumber.BigNumber(String(value))
            });
          } else {
            _this4.setState({
              sellAmount: new _bignumber.BigNumber(String(value)),
              buyAmount: new _bignumber.BigNumber(String(value) || 0).multipliedBy(exchangeRate || 0)
            });
          }
          break;
        }

      case 'buy':
        {
          /*
            B++ -> XR-- -> S (Manual Rate)
            B++ -> XR -> S++ (Auto Rate)
          */

          if (manualRate) {
            var _newExchangeRate = new _bignumber.BigNumber(String(sellAmount)).dividedBy(new _bignumber.BigNumber(String(value)));
            _this4.setState({
              exchangeRate: (0, _math.isNumberValid)(_newExchangeRate) ? _newExchangeRate : '',
              buyAmount: new _bignumber.BigNumber(String(value))
            });
          } else {
            _this4.setState({
              sellAmount: new _bignumber.BigNumber(String(value) || 0).dividedBy(exchangeRate || 0),
              buyAmount: new _bignumber.BigNumber(String(value))
            });
          }

          break;
        }

      case 'rate':
        {
          if (sellAmount > _math.mathConstants.high_precision) {
            // If user has set sell value change buy value
            /*
              XR++ -> S -> B--
            */

            var newBuyAmount = new _bignumber.BigNumber(String(sellAmount)).dividedBy(value);

            if (!(0, _math.isNumberValid)(newBuyAmount)) {
              newBuyAmount = new _bignumber.BigNumber('0');
            }

            _this4.setState({
              buyAmount: newBuyAmount
            });
          } else {
            // Otherwise change sell value if buy value is not null
            /*
              XR++ -> S++ -> B
            */

            var newSellAmount = new _bignumber.BigNumber(String(value)).multipliedBy(buyAmount);

            if (!(0, _math.isNumberValid)(newSellAmount)) {
              newSellAmount = new _bignumber.BigNumber('0');
            }

            _this4.setState({
              sellAmount: newSellAmount
            });
          }

          break;
        }
      default:
        console.error('Unknown type');
        break;
    }
  };

  this.handleNext = function () {
    var _state10 = _this4.state,
        exchangeRate = _state10.exchangeRate,
        buyAmount = _state10.buyAmount,
        sellAmount = _state10.sellAmount,
        balance = _state10.balance,
        sellCurrency = _state10.sellCurrency,
        ethBalance = _state10.ethBalance;
    var _props3 = _this4.props,
        onNext = _props3.onNext,
        tokenItems = _props3.tokenItems;


    var isDisabled = !exchangeRate || !buyAmount || !sellAmount || sellAmount > balance || sellAmount < minAmount[sellCurrency] || _this4.isEthOrERC20();

    if (!isDisabled) {
      _actions2.default.analytics.dataEvent('orderbook-addoffer-click-next-button');
      onNext(_this4.state);
    }
  };

  this.changeBalance = function (value) {
    _this4.setState({
      sellAmount: value
    });
    _this4.handleSellAmountChange(value);
  };

  this.handleManualRate = function (value) {
    if (!value) {
      _this4.handleSellCurrencySelect({ value: _this4.state.sellCurrency });
    }
    _this4.setState({ manualRate: value });
  };
}, _temp)) || _class) || _class);
exports.default = AddOffer;

/***/ }),

/***/ 3281:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"sellGroup":"EElyaT","wrapper":"_2bldlv","button":"_3riRsA","error":"oiWUOF","addOffer":"_1LVV82","exchangeRate":"_3FwxEf"};

/***/ }),

/***/ 3282:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Select = __webpack_require__(3283);

var _Select2 = _interopRequireDefault(_Select);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FieldLabel = __webpack_require__(284);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Select = function Select(_ref) {
  var balance = _ref.balance,
      currency = _ref.currency,
      changeBalance = _ref.changeBalance;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      _reactIntl.FormattedMessage,
      { id: 'Select10', defaultMessage: 'Available amount for sell' },
      function (message) {
        return _react2.default.createElement(
          _FieldLabel2.default,
          { inRow: true },
          message
        );
      }
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'groupField' },
      _react2.default.createElement(
        'p',
        null,
        currency.toUpperCase(),
        ' ',
        balance ? parseFloat(balance).toFixed(3) : 0.00
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'cell', onClick: function onClick() {
            return changeBalance(balance / 10);
          } },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select15', defaultMessage: 'Sell ' }),
        '1/10'
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'cell', onClick: function onClick() {
            return changeBalance(balance / 4);
          } },
        '1/4'
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'cell', onClick: function onClick() {
            return changeBalance(balance / 2);
          } },
        '1/2'
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'cell', onClick: function onClick() {
            return changeBalance(balance);
          } },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select24', defaultMessage: 'ALL' })
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Select, _Select2.default);

/***/ }),

/***/ 3283:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"_1TBx4e","cell":"_1fGtMw"};

/***/ }),

/***/ 3284:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _ExchangeRateGroup = __webpack_require__(3285);

var _ExchangeRateGroup2 = _interopRequireDefault(_ExchangeRateGroup);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Group = __webpack_require__(1251);

var _Group2 = _interopRequireDefault(_Group);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ExchangeRateGroup = function ExchangeRateGroup(_ref) {
  var className = _ref.className,
      disabled = _ref.disabled,
      label = _ref.label,
      id = _ref.id,
      inputValueLink = _ref.inputValueLink,
      placeholder = _ref.placeholder,
      buyCurrency = _ref.buyCurrency,
      sellCurrency = _ref.sellCurrency;
  return _react2.default.createElement(
    _Group2.default,
    {
      className: className,
      label: label,
      id: id,
      disabled: disabled,
      inputValueLink: inputValueLink,
      placeholder: placeholder },
    _react2.default.createElement(
      'span',
      { styleName: 'currencyRatio' },
      sellCurrency,
      ' / ',
      buyCurrency
    )
  );
};

exports.default = (0, _reactCssModules2.default)(ExchangeRateGroup, _ExchangeRateGroup2.default);

/***/ }),

/***/ 3285:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencyRatio":"_3uQetM"};

/***/ }),

/***/ 3286:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"_2QVvGM","inputRoot":"_2gYR9R","inputContainer":"zgZs0H"};

/***/ }),

/***/ 3287:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SelectGroup = __webpack_require__(3288);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Group = __webpack_require__(1251);

var _Group2 = _interopRequireDefault(_Group);

var _CurrencySelect = __webpack_require__(515);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SelectGroup = function SelectGroup(_ref) {
  var className = _ref.className,
      disabled = _ref.disabled,
      label = _ref.label,
      id = _ref.id,
      inputValueLink = _ref.inputValueLink,
      placeholder = _ref.placeholder,
      isInteger = _ref.isInteger,
      selectedCurrencyValue = _ref.selectedCurrencyValue,
      onCurrencySelect = _ref.onCurrencySelect,
      currencies = _ref.currencies;
  return _react2.default.createElement(
    _Group2.default,
    {
      className: className,
      label: label,
      id: id,
      disabled: disabled,
      isInteger: isInteger,
      inputValueLink: inputValueLink,
      placeholder: placeholder },
    _react2.default.createElement(_CurrencySelect2.default, {
      styleName: 'currencySelect',
      selectedValue: selectedCurrencyValue,
      onSelect: onCurrencySelect,
      currencies: currencies
    })
  );
};

exports.default = (0, _reactCssModules2.default)(SelectGroup, _SelectGroup2.default);

/***/ }),

/***/ 3288:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencySelect":"gFvyga"};

/***/ }),

/***/ 3289:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isNumberValid = exports.isNumberStringFormatCorrect = exports.parseNumberWithValidityCheck = exports.areFloatsEqual = exports.mathConstants = undefined;

var _isFinite = __webpack_require__(3290);

var _isFinite2 = _interopRequireDefault(_isFinite);

var _isNan = __webpack_require__(357);

var _isNan2 = _interopRequireDefault(_isNan);

var _parseFloat = __webpack_require__(356);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _isInteger = __webpack_require__(3293);

var _isInteger2 = _interopRequireDefault(_isInteger);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mathConstants = exports.mathConstants = {
  high_precision: 10e-8,
  low_precision: 10e-5
};

var areFloatsEqual = exports.areFloatsEqual = function areFloatsEqual(float1, float2) {
  var parsed1 = parseNumberWithValidityCheck(float1);
  var parsed2 = parseNumberWithValidityCheck(float2);

  if (parsed1 === undefined || parsed2 === undefined) {
    return false;
  }

  if ((0, _isInteger2.default)(parsed1) && (0, _isInteger2.default)(parsed2)) {
    return parsed1 === parsed2;
  }

  return Math.abs(parsed1 - parsed2) <= mathConstants.high_precision;
};

// TODO: Give it better name
// Checks number to contain multiple dots and parceability into float
var parseNumberWithValidityCheck = exports.parseNumberWithValidityCheck = function parseNumberWithValidityCheck(number) {
  var parsed = (0, _parseFloat2.default)(number);

  if (number instanceof String && number.indexOf('.') !== -1) {
    return undefined;
  }

  if (!(0, _isNan2.default)(parsed) && (0, _isFinite2.default)(parsed)) {
    return parsed;
  }

  return undefined;
};

var isNumberStringFormatCorrect = exports.isNumberStringFormatCorrect = function isNumberStringFormatCorrect(number) {
  var stringified = String(number);

  var firstDotIndex = stringified.indexOf('.');
  var lastDotIndex = stringified.lastIndexOf('.');

  // first and last dot positions match, so it has only one dot
  return firstDotIndex === lastDotIndex;
};

var isNumberValid = exports.isNumberValid = function isNumberValid(number) {
  return parseNumberWithValidityCheck(number) !== undefined;
};

/***/ }),

/***/ 3297:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(20);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WithdrawModal = __webpack_require__(3298);

var _WithdrawModal2 = _interopRequireDefault(_WithdrawModal);

var _Modal = __webpack_require__(371);

var _Modal2 = _interopRequireDefault(_Modal);

var _FieldLabel = __webpack_require__(284);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Input = __webpack_require__(198);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var minAmount = {
  eth: 0.05,
  btc: 0.004,
  eos: 1,
  tlos: 1,
  noxon: 1,
  swap: 1,
  jot: 1
};

var WithdrawModal = (_dec = (0, _reactCssModules2.default)(_WithdrawModal2.default), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(WithdrawModal, _React$Component);

  function WithdrawModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, WithdrawModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = WithdrawModal.__proto__ || (0, _getPrototypeOf2.default)(WithdrawModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isShipped: false,
      address: '',
      amount: ''
    }, _this.setBalanceOnState = function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
        var unconfirmedBalance, balance, finalBalance;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                unconfirmedBalance = _this.props.data.unconfirmedBalance;
                _context.next = 3;
                return _actions2.default[currency.toLowerCase()].getBalance(currency.toLowerCase());

              case 3:
                balance = _context.sent;
                finalBalance = unconfirmedBalance !== undefined && unconfirmedBalance < 0 ? Number(balance) + Number(unconfirmedBalance) : balance;


                _this.setState(function () {
                  return { balance: finalBalance };
                });

              case 6:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }(), _this.handleSubmit = function () {
      var _this$state = _this.state,
          to = _this$state.address,
          amount = _this$state.amount;
      var _this$props = _this.props,
          _this$props$data = _this$props.data,
          currency = _this$props$data.currency,
          contractAddress = _this$props$data.contractAddress,
          address = _this$props$data.address,
          balance = _this$props$data.balance,
          decimals = _this$props$data.decimals,
          name = _this$props.name;


      _this.setState(function () {
        return { isShipped: true };
      });

      _this.setBalanceOnState(currency);

      _actions2.default[currency.toLowerCase()].send(contractAddress || address, to, Number(amount), decimals).then(function () {
        _actions2.default.loader.hide();
        _actions2.default[currency.toLowerCase()].getBalance(currency);
        _this.setBalanceOnState(currency);

        _actions2.default.notifications.show(_helpers.constants.notifications.SuccessWithdraw, {
          amount: amount,
          currency: currency,
          address: to
        });

        _this.setState(function () {
          return { isShipped: false };
        });
        _actions2.default.modals.close(name);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(WithdrawModal, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.setBalanceOnState(this.props.data.currency);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          address = _state.address,
          amount = _state.amount,
          balance = _state.balance,
          isShipped = _state.isShipped;
      var _props = this.props,
          name = _props.name,
          data = _props.data;


      var linked = _swValuelink2.default.all(this, 'address', 'amount');
      var isDisabled = !address || !amount || isShipped || Number(amount) < minAmount[data.currency.toLowerCase()] || Number(amount) > balance;

      if (Number(amount) !== 0) {
        linked.amount.check(function (value) {
          return Number(value) < balance;
        }, 'Amount must be less than your balance');
        linked.amount.check(function (value) {
          return Number(value) > minAmount[data.currency.toLowerCase()];
        }, 'Amount must be greater than ' + minAmount[data.currency.toLowerCase()] + ' ');
      }

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: 'Withdraw ' + data.currency.toUpperCase() },
        _react2.default.createElement(
          'p',
          {
            style: { fontSize: '16px' }
          },
          'Please notice, that you need to have minimum ' + minAmount[data.currency.toLowerCase()] + ' amount ',
          _react2.default.createElement('br', null),
          'of the ',
          data.currency,
          ' on your wallet, to use it for miners fee'
        ),
        _react2.default.createElement(
          _FieldLabel2.default,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Withdrow108', defaultMessage: 'Address ' }),
          _react2.default.createElement(_Tooltip2.default, { text: 'destination address ' })
        ),
        _react2.default.createElement(_Input2.default, { valueLink: linked.address, focusOnInit: true, pattern: '0-9a-zA-Z', placeholder: 'Enter address' }),
        _react2.default.createElement(
          'p',
          { style: { marginTop: '20px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Withdrow113', defaultMessage: 'Your balance: ' }),
          Number(balance).toFixed(5),
          data.currency.toUpperCase()
        ),
        _react2.default.createElement(
          _FieldLabel2.default,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Withdrow118', defaultMessage: 'Amount ' })
        ),
        _react2.default.createElement(_Input2.default, { valueLink: linked.amount, pattern: '0-9\\.', placeholder: 'Enter amount, you have ' + Number(balance).toFixed(5) }),
        !linked.amount.error && _react2.default.createElement(
          'div',
          { styleName: 'note' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal106', defaultMessage: 'No less than ' }),
          minAmount[data.currency.toLowerCase()]
        ),
        _react2.default.createElement(
          _Button2.default,
          { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal111', defaultMessage: 'Transfer ' })
        )
      );
    }
  }]);
  return WithdrawModal;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string,
  data: _propTypes2.default.object
}, _temp2)) || _class);
exports.default = WithdrawModal;

/***/ }),

/***/ 3298:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"note":"_rh3p5","button":"_36O4pp"};

/***/ }),

/***/ 3299:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _forms = __webpack_require__(212);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EosRegisterModal = __webpack_require__(3302);

var _EosRegisterModal2 = _interopRequireDefault(_EosRegisterModal);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EosRegisterModal = (_dec = (0, _reactCssModules2.default)(_EosRegisterModal2.default), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(EosRegisterModal, _React$Component);

  function EosRegisterModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EosRegisterModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EosRegisterModal.__proto__ || (0, _getPrototypeOf2.default)(EosRegisterModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      accountName: '',
      privateKey: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$state, accountName, privateKey;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$state = _this.state, accountName = _this$state.accountName, privateKey = _this$state.privateKey;


              _actions2.default.loader.show(true);

              _context.prev = 2;
              _context.next = 5;
              return _actions2.default.eos.register(accountName, privateKey);

            case 5:
              _context.next = 7;
              return _actions2.default.eos.getBalance();

            case 7:

              _actions2.default.modals.close(_helpers.constants.modals.EosRegister);
              _context.next = 14;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context['catch'](2);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 14:

              _actions2.default.loader.hide();

            case 15:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[2, 10]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EosRegisterModal, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          accountName = _state.accountName,
          privateKey = _state.privateKey,
          error = _state.error;
      var name = this.props.name;


      var linked = _swValuelink2.default.all(this, 'accountName', 'privateKey');
      var isDisabled = !accountName || !privateKey;

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: 'EOS Login' },
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal54', defaultMessage: 'Account name' }),
          _react2.default.createElement(_Tooltip2.default, { text: 'Enter your EOS account name' })
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.accountName }),
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal58', defaultMessage: 'Active private key' }),
          _react2.default.createElement(_Tooltip2.default, { text: 'Enter private key for active permission' })
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.privateKey }),
        error && _react2.default.createElement(
          'div',
          { styleName: 'error' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal63', defaultMessage: 'Sorry, error occured during activation' })
        ),
        _react2.default.createElement(
          _controls.Button,
          { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal70', defaultMessage: 'Login' })
        )
      );
    }
  }]);
  return EosRegisterModal;
}(_react2.default.Component)) || _class);
exports.default = EosRegisterModal;

/***/ }),

/***/ 3300:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(20);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ModalContainer = __webpack_require__(3301);

var _ModalContainer2 = _interopRequireDefault(_ModalContainer);

var _Overlay = __webpack_require__(517);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(281);

var _Center2 = _interopRequireDefault(_Center);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ModalContainer = (_dec = (0, _reactCssModules2.default)(_ModalContainer2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ModalContainer, _Component);

  function ModalContainer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ModalContainer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ModalContainer.__proto__ || (0, _getPrototypeOf2.default)(ModalContainer)).call.apply(_ref, [this].concat(args))), _this), _this.handleMount = function (el) {
      if (el) {
        setTimeout(function () {
          el.classList.add(_ModalContainer2.default.mounted);
        }, 0);
      }
    }, _this.close = function () {
      var _this$props = _this.props,
          disableClose = _this$props.disableClose,
          onClose = _this$props.onClose;


      if (!disableClose) {
        onClose();
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ModalContainer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          fullWidth = _props.fullWidth;

      // TODO move overflow to Modal from Center

      var modalContainerStyleName = (0, _classnames2.default)('modalContainer', {
        'fullWidth': fullWidth
      });

      return _react2.default.createElement(
        _Overlay2.default,
        { onClick: this.close },
        _react2.default.createElement(
          _Center2.default,
          { scrollable: true },
          _react2.default.createElement(
            'div',
            {
              styleName: modalContainerStyleName,
              ref: this.handleMount
            },
            children
          )
        )
      );
    }
  }]);
  return ModalContainer;
}(_react.Component), _class2.propTypes = {
  children: _propTypes2.default.any.isRequired,
  fullWidth: _propTypes2.default.bool,
  disableClose: _propTypes2.default.bool,
  onClose: _propTypes2.default.func.isRequired
}, _temp2)) || _class);
exports.default = ModalContainer;

/***/ }),

/***/ 3301:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modalContainer":"_5wv85l","fullWidth":"_3v15t0","mounted":"_2elaml"};

/***/ }),

/***/ 3302:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"WxNTU0","error":"_3a67tD"};

/***/ }),

/***/ 3303:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _forms = __webpack_require__(212);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _core = __webpack_require__(91);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EosBuyAccountModal = __webpack_require__(3304);

var _EosBuyAccountModal2 = _interopRequireDefault(_EosBuyAccountModal);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EosBuyAccountModal = (_dec = (0, _reactCssModules2.default)(_EosBuyAccountModal2.default), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(EosBuyAccountModal, _React$Component);

  function EosBuyAccountModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EosBuyAccountModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EosBuyAccountModal.__proto__ || (0, _getPrototypeOf2.default)(EosBuyAccountModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      activePrivateKey: '',
      activePublicKey: '',
      accountName: '',
      price: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _actions2.default.loader.show(true);

              _context.prev = 1;
              _context.next = 4;
              return _actions2.default.eos.buyAccount();

            case 4:

              _actions2.default.modals.close(_helpers.constants.modals.EosBuyAccount);
              _context.next = 11;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context['catch'](1);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 11:

              _actions2.default.loader.hide();

            case 12:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[1, 7]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EosBuyAccountModal, [{
    key: 'componentDidMount',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
        var _getState, _getState$user$eosDat, activePrivateKey, activePublicKey, accountName, price;

        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _getState = (0, _core.getState)(), _getState$user$eosDat = _getState.user.eosData, activePrivateKey = _getState$user$eosDat.activePrivateKey, activePublicKey = _getState$user$eosDat.activePublicKey, accountName = _getState$user$eosDat.address;
                price = _appConfig2.default.api.eos.buyAccountPriceInBTC;


                this.setState({ activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, accountName: accountName, price: price });

              case 3:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function componentDidMount() {
        return _ref3.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          error = _state.error,
          activePrivateKey = _state.activePrivateKey,
          activePublicKey = _state.activePublicKey,
          accountName = _state.accountName,
          price = _state.price;
      var name = this.props.name;


      var linked = _swValuelink2.default.all(this, 'accountName', 'activePrivateKey', 'activePublicKey', 'price');

      var activationPayment = localStorage.getItem(_helpers.constants.localStorage.eosActivationPayment);

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          _modal.Modal,
          { name: name, title: 'EOS Register' },
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal72', defaultMessage: 'Account name' }),
              _react2.default.createElement(_Tooltip2.default, { text: 'This account will be registered in EOS blockchain' })
            ),
            _react2.default.createElement(_forms.Input, { readOnly: 'true', valueLink: linked.accountName })
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal78', defaultMessage: 'APrivate key' }),
              _react2.default.createElement(_Tooltip2.default, { text: 'Private key for active and owner permissions' })
            ),
            _react2.default.createElement(_forms.Input, { readOnly: 'true', valueLink: linked.activePrivateKey })
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal84', defaultMessage: 'Public key' }),
              _react2.default.createElement(_Tooltip2.default, { text: 'Public key associated with account' })
            ),
            _react2.default.createElement(_forms.Input, { readOnly: 'true', valueLink: linked.activePublicKey })
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal90', defaultMessage: 'Price (BTC)' }),
              _react2.default.createElement(_Tooltip2.default, { text: 'This amount will be withdrawn from your BTC wallet' })
            ),
            _react2.default.createElement(_forms.Input, { readOnly: 'true', valueLink: linked.price })
          ),
          error && _react2.default.createElement(
            'div',
            { styleName: 'error' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal103', defaultMessage: 'Sorry, error occured during activation, try again' })
          ),
          activationPayment && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal109', defaultMessage: 'Payment transaction:' }),
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + activationPayment,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                activationPayment
              )
            )
          ),
          _react2.default.createElement(
            _controls.Button,
            { styleName: 'button', brand: true, fullWidth: true, onClick: this.handleSubmit },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal114', defaultMessage: 'Create account' })
          )
        )
      );
    }
  }]);
  return EosBuyAccountModal;
}(_react2.default.Component)) || _class);
exports.default = EosBuyAccountModal;

/***/ }),

/***/ 3304:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_1ttImR","error":"_1a-uGs","payment":"lNlfZn"};

/***/ }),

/***/ 3305:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _forms = __webpack_require__(212);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _TelosRegisterModal = __webpack_require__(3306);

var _TelosRegisterModal2 = _interopRequireDefault(_TelosRegisterModal);

var _Tooltip = __webpack_require__(226);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TelosRegisterModal = (_dec = (0, _reactCssModules2.default)(_TelosRegisterModal2.default), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(TelosRegisterModal, _React$Component);

  function TelosRegisterModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TelosRegisterModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TelosRegisterModal.__proto__ || (0, _getPrototypeOf2.default)(TelosRegisterModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      accountName: '',
      privateKey: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$state, accountName, privateKey;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$state = _this.state, accountName = _this$state.accountName, privateKey = _this$state.privateKey;


              _actions2.default.loader.show(true);

              _context.prev = 2;
              _context.next = 5;
              return _actions2.default.tlos.register(accountName, privateKey);

            case 5:
              _context.next = 7;
              return _actions2.default.tlos.getBalance();

            case 7:

              _actions2.default.modals.close(_helpers.constants.modals.TelosRegister);
              _context.next = 14;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context['catch'](2);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 14:

              _actions2.default.loader.hide();

            case 15:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[2, 10]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TelosRegisterModal, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          accountName = _state.accountName,
          privateKey = _state.privateKey,
          error = _state.error;
      var name = this.props.name;


      var linked = _swValuelink2.default.all(this, 'accountName', 'privateKey');
      var isDisabled = !accountName || !privateKey;

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: 'TELOS Login' },
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister55', defaultMessage: 'Account name' }),
          _react2.default.createElement(_Tooltip2.default, { text: 'Enter TELOS account name' })
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.accountName }),
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister59', defaultMessage: 'Private key' }),
          _react2.default.createElement(_Tooltip2.default, { text: 'Enter your TELOS secret key' })
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.privateKey }),
        error && _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'TelosRegister64', defaultMessage: 'Sorry, error occured during activation' },
          function (message) {
            return _react2.default.createElement(
              'div',
              { styleName: 'error' },
              message
            );
          }
        ),
        _react2.default.createElement(
          _controls.Button,
          { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister69', defaultMessage: 'Login' })
        )
      );
    }
  }]);
  return TelosRegisterModal;
}(_react2.default.Component)) || _class);
exports.default = TelosRegisterModal;

/***/ }),

/***/ 3306:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"IkORBA","error":"tjKLII"};

/***/ }),

/***/ 3307:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Approve = __webpack_require__(3308);

var _Approve2 = _interopRequireDefault(_Approve);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _forms = __webpack_require__(212);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Offer = (_dec = (0, _reactCssModules2.default)(_Approve2.default), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Offer, _React$Component);

  function Offer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Offer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Offer.__proto__ || (0, _getPrototypeOf2.default)(Offer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      amount: 999999,
      isSubmitted: false
    }, _this.handleApprove = function () {
      var amount = _this.state.amount;
      var _this$props$data = _this.props.data,
          contractAddress = _this$props$data.contractAddress,
          name = _this$props$data.name;

      var message = 'Your approve ' + amount + ' tokens on contract address ' + contractAddress;
      var error = 'Please again later';

      if (amount <= 0 || !amount) {
        _this.setState({
          isSubmitted: true
        });
        return;
      }

      _actions2.default.token.approve(name, amount).then(function () {
        _actions2.default.loader.hide();
        _actions2.default.notifications.show(_helpers.constants.notifications.Message, { message: message });
        _actions2.default.modals.close(_helpers.constants.modals.Approve);
      }).catch(function () {
        _actions2.default.loader.hide();
        _actions2.default.notifications.show(_helpers.constants.notifications.Message, { error: error });
        _actions2.default.modals.close(_helpers.constants.modals.Approve);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Offer, [{
    key: 'render',
    value: function render() {
      var name = this.props.name;
      var _state = this.state,
          amount = _state.amount,
          isSubmitted = _state.isSubmitted;

      var linked = _swValuelink2.default.all(this, 'amount');
      var isDisabled = !amount;

      if (isSubmitted) {
        linked.amount.check(function (value) {
          return value <= 0;
        }, 'Amount must be greater than 1 ');
      }

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: 'Approve token' },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            {
              id: 'Approve70',
              defaultMessage: 'Please set the amount limit that the swap smart contract can deduct from your account. We do not recommend setting any limits.' },
            function (message) {
              return _react2.default.createElement(
                'p',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(
            _forms.FieldLabel,
            { inRow: true },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Approve73', defaultMessage: 'Amount' })
          ),
          _react2.default.createElement(_forms.Input, { valueLink: linked.amount, type: 'number' }),
          _react2.default.createElement(
            _controls.Button,
            { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleApprove },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Approve80', defaultMessage: 'Approve' })
          )
        )
      );
    }
  }]);
  return Offer;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string
}, _temp2)) || _class);
exports.default = Offer;

/***/ }),

/***/ 3308:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_2sLZn8","content":"_153K8d"};

/***/ }),

/***/ 3309:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ImportKeys = __webpack_require__(3310);

var _ImportKeys2 = _interopRequireDefault(_ImportKeys);

var _Group = __webpack_require__(3311);

var _Group2 = _interopRequireDefault(_Group);

var _modal = __webpack_require__(183);

var _forms = __webpack_require__(212);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ImportKeys = (_dec = (0, _reactCssModules2.default)(_ImportKeys2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(ImportKeys, _Component);

  function ImportKeys() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ImportKeys);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ImportKeys.__proto__ || (0, _getPrototypeOf2.default)(ImportKeys)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      ethKey: '',
      btcKey: '',

      isSubmittedEth: false,
      isSubmittedBtc: false,

      isImportedEth: false,
      isImportedBtc: false,

      isDisabled: true
    }, _this.handleEthImportKey = function () {
      var ethKey = _this.state.ethKey;


      if (!ethKey || ethKey.length < 40) {
        _this.setState({ isSubmittedEth: true });
        return;
      }
      _this.setState({ isDisabled: false });

      try {
        _actions2.default.eth.login(ethKey);
        _this.setState({
          isImportedEth: true,
          isDisabled: false
        });
      } catch (e) {
        _this.setState({ isSubmittedEth: true });
      }
    }, _this.handleBtcImportKey = function () {
      var btcKey = _this.state.btcKey;


      if (!btcKey || btcKey.length < 27) {
        _this.setState({ isSubmittedBtc: true });
        return;
      }
      _this.setState({ isDisabled: false });

      try {
        _actions2.default.btc.login(btcKey);
        _this.setState({
          isImportedBtc: true,
          isDisabled: false
        });
      } catch (e) {
        _this.setState({ isSubmittedBtc: true });
      }
    }, _this.handleImportKeys = function () {
      var isDisabled = _this.state.isDisabled;


      if (!isDisabled) {
        window.location.reload();
        localStorage.setItem(_helpers.constants.localStorage.testnetSkipPKCheck, 'true');
      }
    }, _this.handleCloseModal = function () {
      _actions2.default.modals.close(_this.props.name);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ImportKeys, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          isSubmittedEth = _state.isSubmittedEth,
          isSubmittedBtc = _state.isSubmittedBtc,
          isImportedEth = _state.isImportedEth,
          isImportedBtc = _state.isImportedBtc,
          isDisabled = _state.isDisabled;

      var linked = _swValuelink2.default.all(this, 'ethKey', 'btcKey');

      if (isSubmittedEth) {
        linked.ethKey.check(function (value) {
          return value !== '';
        }, 'Please enter ETH private key');
        linked.ethKey.check(function (value) {
          return value.length > 40;
        }, 'Please valid ETH private key');
      }

      if (isSubmittedBtc) {
        linked.btcKey.check(function (value) {
          return value !== '';
        }, 'Please enter BTC private key');
        linked.btcKey.check(function (value) {
          return value.length > 27;
        }, 'Please valid BTC private key');
      }

      return _react2.default.createElement(
        _modal.Modal,
        { name: this.props.name, title: 'Import keys' },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'ImportKeys107', defaultMessage: 'This procedure will rewrite your private key. If you are not sure about it, we recommend to press cancel' },
            function (message) {
              return _react2.default.createElement(
                'p',
                null,
                message
              );
            }
          ),
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'ImportKeys110', defaultMessage: 'Please enter eth private key' },
            function (message) {
              return _react2.default.createElement(
                _forms.FieldLabel,
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.ethKey,
            placeholder: 'Key',
            disabled: isImportedEth,
            onClick: this.handleEthImportKey
          }),
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'ImportKeys120', defaultMessage: 'Please enter btc private key in WIF format' },
            function (message) {
              return _react2.default.createElement(
                _forms.FieldLabel,
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.btcKey,
            placeholder: 'Key in WIF format',
            disabled: isImportedBtc,
            onClick: this.handleBtcImportKey
          }),
          _react2.default.createElement(
            _controls.Button,
            { brand: true, disabled: isDisabled, styleName: 'button', onClick: this.handleImportKeys },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys130', defaultMessage: 'Confirm' })
          ),
          _react2.default.createElement(
            _controls.Button,
            { gray: true, styleName: 'button', onClick: this.handleCloseModal },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys133', defaultMessage: 'Cancel' })
          )
        )
      );
    }
  }]);
  return ImportKeys;
}(_react.Component)) || _class);
exports.default = ImportKeys;

/***/ }),

/***/ 3310:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_25Ymyf","button":"_2VqYnV"};

/***/ }),

/***/ 3311:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Group = __webpack_require__(3312);

var _Group2 = _interopRequireDefault(_Group);

var _forms = __webpack_require__(212);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Group = function Group(_ref) {
  var inputLink = _ref.inputLink,
      placeholder = _ref.placeholder,
      onClick = _ref.onClick,
      disabled = _ref.disabled;
  return _react2.default.createElement(
    'div',
    { styleName: 'group' },
    _react2.default.createElement(_forms.Input, { valueLink: inputLink, readOnly: disabled, placeholder: placeholder, styleName: 'input', pattern: '0-9a-zA-Z' }),
    _react2.default.createElement(
      _controls.Button,
      { brand: true, onClick: onClick, disabled: disabled, styleName: 'button' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Group14', defaultMessage: 'Import' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Group, _Group2.default);

/***/ }),

/***/ 3312:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"group":"_3in6cA","input":"fWnzpt","button":"_2aNnxu"};

/***/ }),

/***/ 3313:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ShowMoreCoins = __webpack_require__(3314);

var _ShowMoreCoins2 = _interopRequireDefault(_ShowMoreCoins);

var _modal = __webpack_require__(183);

var _forms = __webpack_require__(212);

var _controls = __webpack_require__(57);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _SubTitle = __webpack_require__(154);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Row = __webpack_require__(3315);

var _Row2 = _interopRequireDefault(_Row);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ShowMoreCoins = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      ltcData = _ref$user.ltcData,
      telosData = _ref$user.telosData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      nimData = _ref$user.nimData,
      usdtData = _ref$user.usdtData,
      currencies = _ref.currencies.items;
  return {
    tokens: (0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }),
    items: [ethData, btcData, eosData, usdtData, bchData, ltcData, telosData /* eosData  nimData */],
    currencies: currencies,
    hiddenCoinsList: hiddenCoinsList
  };
}), _dec2 = (0, _reactCssModules2.default)(_ShowMoreCoins2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(ShowMoreCoins, _Component);

  function ShowMoreCoins() {
    (0, _classCallCheck3.default)(this, ShowMoreCoins);
    return (0, _possibleConstructorReturn3.default)(this, (ShowMoreCoins.__proto__ || (0, _getPrototypeOf2.default)(ShowMoreCoins)).apply(this, arguments));
  }

  (0, _createClass3.default)(ShowMoreCoins, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          items = _props.items,
          tokens = _props.tokens,
          currencies = _props.currencies,
          hiddenCoinsList = _props.hiddenCoinsList;

      var titles = ['Coin', 'Name', 'Actions'];

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: 'Show More Coins', shouldCenterVertically: false },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'div',
            { styleName: 'modal_column' },
            _react2.default.createElement(
              _SubTitle2.default,
              { styleName: 'modal_column-title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ShowMoreCoins36', defaultMessage: 'Coins in Wallet' })
            ),
            _react2.default.createElement(_Table2.default, {
              className: _ShowMoreCoins2.default.wallet,
              titles: titles,
              rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (coin) {
                return !hiddenCoinsList.includes(coin.currency);
              }),
              rowRender: function rowRender(row, index) {
                return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row, { isHidden: false, currencies: currencies }));
              }
            })
          ),
          hiddenCoinsList.length !== 0 && _react2.default.createElement(
            'div',
            { styleName: 'modal_column' },
            _react2.default.createElement(
              _SubTitle2.default,
              { styleName: 'modal_column-title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ShowMoreCoins48', defaultMessage: 'Other coins' })
            ),
            _react2.default.createElement(_Table2.default, {
              className: _ShowMoreCoins2.default.wallet,
              titles: titles,
              rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (coin) {
                return hiddenCoinsList.includes(coin.currency);
              }),
              rowRender: function rowRender(row, index) {
                return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row, { isHidden: true, currencies: currencies }));
              }
            })
          )
        )
      );
    }
  }]);
  return ShowMoreCoins;
}(_react.Component)) || _class) || _class);
exports.default = ShowMoreCoins;

/***/ }),

/***/ 3314:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_3rWjVa","modal_column":"_3pOs_c","modal_column-title":"_2SIJ9b","button":"akiHP3"};

/***/ }),

/***/ 3315:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3316);

var _Row2 = _interopRequireDefault(_Row);

var _Coin = __webpack_require__(370);

var _Coin2 = _interopRequireDefault(_Coin);

var _reactRouter = __webpack_require__(165);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _reactCssModules2.default)(_Row2.default), (0, _reactRouter.withRouter)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Row);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call.apply(_ref, [this].concat(args))), _this), _this.isHidenCoin = function () {
      _actions2.default.core.markCoinAsHidden(_this.props.currency);
    }, _this.isVisibleCoin = function () {
      _actions2.default.core.markCoinAsVisible(_this.props.currency);
    }, _this.getCurrencyFullTitle = function (currencyTitle, currencies) {
      var match = currencies.find(function (el) {
        return el.title === currencyTitle;
      });
      return match ? match.fullTitle : currencyTitle;
    }, _this.hidenCoin = function (hiden) {
      return _react2.default.createElement(
        'button',
        {
          onClick: hiden ? _this.isVisibleCoin : _this.isHidenCoin,
          styleName: 'button'
        },
        _react2.default.createElement('i', { className: hiden ? 'fas fa-plus' : 'fas fa-minus' })
      );
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          isHidden = _props.isHidden,
          currency = _props.currency;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coin2.default, { name: currency, size: 40 })
        ),
        _react2.default.createElement(
          'td',
          null,
          currency
        ),
        _react2.default.createElement(
          'td',
          null,
          this.hidenCoin(isHidden)
        )
      );
    }
  }]);
  return Row;
}(_react.Component)) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 3316:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3xk1Fv"};

/***/ }),

/***/ 3317:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(62);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EthChecker = __webpack_require__(3318);

var _EthChecker2 = _interopRequireDefault(_EthChecker);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthChecker = function EthChecker(_ref) {
  var name = _ref.name;
  return _react2.default.createElement(
    _modal.Modal,
    { name: name, title: 'Approve token' },
    _react2.default.createElement(
      'div',
      { styleName: 'content' },
      _react2.default.createElement(
        _reactIntl.FormattedMessage,
        { id: 'EthChecker19', defaultMessage: 'This token works on Ethereum blockchain. To swap this token you must have at least 0.02 ETH on your balance' },
        function (message) {
          return _react2.default.createElement(
            'p',
            null,
            message
          );
        }
      ),
      _react2.default.createElement(
        _reactRouterDom.Link,
        { to: _helpers.links.home },
        _react2.default.createElement(
          _controls.Button,
          { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
              return _actions2.default.modals.close(name);
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthChecker23', defaultMessage: 'Go wallet' })
        )
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(EthChecker, _EthChecker2.default);

/***/ }),

/***/ 3318:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_2BSqVp","content":"_2ve1EH"};

/***/ }),

/***/ 3319:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCopyToClipboard = __webpack_require__(369);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ReceiveModal = __webpack_require__(3320);

var _ReceiveModal2 = _interopRequireDefault(_ReceiveModal);

var _QR = __webpack_require__(3321);

var _QR2 = _interopRequireDefault(_QR);

var _modal = __webpack_require__(183);

var _controls = __webpack_require__(57);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ReceiveModal = (_dec = (0, _reactCssModules2.default)(_ReceiveModal2.default), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(ReceiveModal, _React$Component);

  function ReceiveModal(props) {
    (0, _classCallCheck3.default)(this, ReceiveModal);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ReceiveModal.__proto__ || (0, _getPrototypeOf2.default)(ReceiveModal)).call(this, props));

    _this.handleCopyAddress = function () {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    };

    _this.state = {
      isAddressCopied: false
    };
    return _this;
  }

  (0, _createClass3.default)(ReceiveModal, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          _props$data = _props.data,
          currency = _props$data.currency,
          address = _props$data.address,
          isAddressCopied = this.state.isAddressCopied;


      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: 'Receive' },
        _react2.default.createElement(
          'div',
          { styleName: 'content', style: { textAlign: "center" } },
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'ReceiveModal', defaultMessage: 'This is your address for receive ' + currency },
            function (message) {
              return _react2.default.createElement(
                'p',
                { style: { fontSize: 25 } },
                message
              );
            }
          ),
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            {
              text: address,
              onCopy: this.handleCopyAddress
            },
            _react2.default.createElement(
              'p',
              { className: _ReceiveModal2.default.qr, style: { fontSize: 35 } },
              _react2.default.createElement(_QR2.default, {
                network: currency,
                address: address,
                size: 500
              }),
              _react2.default.createElement(
                'div',
                null,
                address
              ),
              _react2.default.createElement(
                _controls.Button,
                {
                  styleName: 'button',
                  brand: true,
                  onClick: function onClick() {},
                  disabled: isAddressCopied,
                  fullWidth: true
                },
                isAddressCopied ? 'Address copied to clipboard' : 'Copy to clipboard'
              )
            )
          )
        )
      );
    }
  }]);
  return ReceiveModal;
}(_react2.default.Component)) || _class);
exports.default = ReceiveModal;

/***/ }),

/***/ 3320:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3n_44B","content":"QJyzGp","qr":"_1ObySf"};

/***/ }),

/***/ 3321:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @todo Amount support?
 */
var QR = (_temp = _class = function (_PureComponent) {
  (0, _inherits3.default)(QR, _PureComponent);

  function QR() {
    (0, _classCallCheck3.default)(this, QR);
    return (0, _possibleConstructorReturn3.default)(this, (QR.__proto__ || (0, _getPrototypeOf2.default)(QR)).apply(this, arguments));
  }

  (0, _createClass3.default)(QR, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          network = _props.network,
          address = _props.address,
          size = _props.size;


      return _react2.default.createElement('img', {
        src: 'https://chart.googleapis.com/chart?chs=' + size + 'x' + size + '&cht=qr&chl=' + network + ':' + address,
        alt: network + ': ' + address
      });
    }
  }]);
  return QR;
}(_react.PureComponent), _class.propTypes = {
  network: _propTypes2.default.string.isRequired,
  address: _propTypes2.default.string.isRequired,
  size: _propTypes2.default.number
}, _class.defaultProps = {
  size: 250
}, _temp);
exports.default = QR;

/***/ }),

/***/ 3322:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modalConductor":"qe8yZ6"};

/***/ }),

/***/ 3323:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _notifications = __webpack_require__(3324);

var _notifications2 = _interopRequireDefault(_notifications);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _NotificationConductor = __webpack_require__(3331);

var _NotificationConductor2 = _interopRequireDefault(_NotificationConductor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NotificationConductor = (_dec = (0, _redaction.connect)({
  notifications: 'notifications'
}), _dec2 = (0, _reactCssModules2.default)(_NotificationConductor2.default), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(NotificationConductor, _Component);

  function NotificationConductor() {
    (0, _classCallCheck3.default)(this, NotificationConductor);
    return (0, _possibleConstructorReturn3.default)(this, (NotificationConductor.__proto__ || (0, _getPrototypeOf2.default)(NotificationConductor)).apply(this, arguments));
  }

  (0, _createClass3.default)(NotificationConductor, [{
    key: 'render',
    value: function render() {
      var notifications = this.props.notifications;


      var notificationNames = (0, _keys2.default)(notifications);
      var areNotificationsExist = Boolean(notificationNames.length);

      return areNotificationsExist && _react2.default.createElement(
        'div',
        { styleName: 'notificationConductor' },
        notificationNames.map(function (key) {
          var _notifications$key = notifications[key],
              name = _notifications$key.name,
              _notifications$key$da = _notifications$key.data,
              data = _notifications$key$da === undefined ? {} : _notifications$key$da;


          return _react2.default.createElement(_notifications2.default[name], {
            key: name,
            name: name,
            data: data
          });
        })
      );
    }
  }]);
  return NotificationConductor;
}(_react.Component), _class2.propTypes = {
  notifications: _propTypes2.default.object
}, _temp)) || _class) || _class);
exports.default = NotificationConductor;

/***/ }),

/***/ 3324:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SuccessWithdraw = __webpack_require__(3325);

var _SuccessWithdraw2 = _interopRequireDefault(_SuccessWithdraw);

var _Message = __webpack_require__(3328);

var _Message2 = _interopRequireDefault(_Message);

var _ErrorNotification = __webpack_require__(3330);

var _ErrorNotification2 = _interopRequireDefault(_ErrorNotification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  SuccessWithdraw: _SuccessWithdraw2.default,
  Message: _Message2.default,
  ErrorNotification: _ErrorNotification2.default
};

/***/ }),

/***/ 3325:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SuccessWithdraw = __webpack_require__(3326);

var _SuccessWithdraw2 = _interopRequireDefault(_SuccessWithdraw);

var _Notification = __webpack_require__(658);

var _Notification2 = _interopRequireDefault(_Notification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SuccessWithdraw = (_dec = (0, _reactCssModules2.default)(_SuccessWithdraw2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(SuccessWithdraw, _Component);

  function SuccessWithdraw() {
    (0, _classCallCheck3.default)(this, SuccessWithdraw);
    return (0, _possibleConstructorReturn3.default)(this, (SuccessWithdraw.__proto__ || (0, _getPrototypeOf2.default)(SuccessWithdraw)).apply(this, arguments));
  }

  (0, _createClass3.default)(SuccessWithdraw, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          _props$data = _props.data,
          amount = _props$data.amount,
          currency = _props$data.currency,
          address = _props$data.address;


      return _react2.default.createElement(
        _Notification2.default,
        { name: name },
        _react2.default.createElement(
          'span',
          { styleName: 'value' },
          amount,
          ' ',
          currency
        ),
        ' were successfully transferred to ',
        address,
        '!'
      );
    }
  }]);
  return SuccessWithdraw;
}(_react.Component)) || _class);
exports.default = SuccessWithdraw;

/***/ }),

/***/ 3326:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"_3M190E"};

/***/ }),

/***/ 3327:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_1rGs3i","mounted":"_3e2bwy","removed":"_359s7d","notification":"_2HVVjT","ErrorNotification":"_1VZYcL","error-notification-heading":"_3upZJe","error-notification-text":"_3W4NuF","content":"_2sHyls"};

/***/ }),

/***/ 3328:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Message = __webpack_require__(3329);

var _Message2 = _interopRequireDefault(_Message);

var _Notification = __webpack_require__(658);

var _Notification2 = _interopRequireDefault(_Notification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Message = (_dec = (0, _reactCssModules2.default)(_Message2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(Message, _Component);

  function Message() {
    (0, _classCallCheck3.default)(this, Message);
    return (0, _possibleConstructorReturn3.default)(this, (Message.__proto__ || (0, _getPrototypeOf2.default)(Message)).apply(this, arguments));
  }

  (0, _createClass3.default)(Message, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          message = _props.data.message;


      return _react2.default.createElement(
        _Notification2.default,
        { name: name },
        _react2.default.createElement(
          'span',
          { styleName: 'value' },
          message
        )
      );
    }
  }]);
  return Message;
}(_react.Component)) || _class);
exports.default = Message;

/***/ }),

/***/ 3329:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"xt8YYA"};

/***/ }),

/***/ 333:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ecc = exports.telos = exports.eos = undefined;

var _promise = __webpack_require__(54);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(28);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(29);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _core = __webpack_require__(91);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var eosInstance = null;
var telosInstance = null;
var eccInstance = null;
var semaphore = false;

var keyProvider = function keyProvider() {
  var telos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  var userDataKey = telos ? 'telosData' : 'eosData';

  return function (_ref) {
    var transaction = _ref.transaction,
        pubkeys = _ref.pubkeys;

    var _getState = (0, _core.getState)(),
        user = _getState.user;

    var _user$userDataKey = user[userDataKey],
        activePrivateKey = _user$userDataKey.activePrivateKey,
        activePublicKey = _user$userDataKey.activePublicKey;


    if (pubkeys || telos) {
      return [activePrivateKey];
    } else {
      return [activePublicKey];
    }
  };
};

var setupEOS = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var EOS, _config$api$eos, eosHttpEndpoint, eosChainId, _config$api$telos, telosHttpEndpoint, telosChainId, eosKeyProvider, telosKeyProvider;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            console.log('eos start import');
            _context.next = 3;
            return __webpack_require__.e/* import() */(0).then(__webpack_require__.bind(null, 3338));

          case 3:
            EOS = _context.sent;

            console.log('eos finish import');

            _config$api$eos = _appConfig2.default.api.eos, eosHttpEndpoint = _config$api$eos.httpEndpoint, eosChainId = _config$api$eos.chainId;
            _config$api$telos = _appConfig2.default.api.telos, telosHttpEndpoint = _config$api$telos.httpEndpoint, telosChainId = _config$api$telos.chainId;
            eosKeyProvider = keyProvider(false);
            telosKeyProvider = keyProvider(true);


            eosInstance = EOS({
              chainId: eosChainId,
              httpEndpoint: eosHttpEndpoint,
              keyProvider: eosKeyProvider
            });

            telosInstance = EOS({
              chainId: telosChainId,
              httpEndpoint: telosHttpEndpoint,
              keyProvider: telosKeyProvider,
              keyPrefix: 'TLOS'
            });

            eccInstance = EOS.modules.ecc;

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function setupEOS() {
    return _ref2.apply(this, arguments);
  };
}();

var timeout = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(ms) {
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            return _context2.abrupt('return', new _promise2.default(function (resolve) {
              return setTimeout(resolve, ms);
            }));

          case 1:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function timeout(_x2) {
    return _ref3.apply(this, arguments);
  };
}();
var init = function () {
  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            if (!(eosInstance === null && semaphore === false)) {
              _context3.next = 6;
              break;
            }

            semaphore = true;
            _context3.next = 4;
            return setupEOS();

          case 4:
            _context3.next = 9;
            break;

          case 6:
            if (!(eosInstance === null && semaphore === true)) {
              _context3.next = 9;
              break;
            }

            _context3.next = 9;
            return timeout(5000);

          case 9:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function init() {
    return _ref4.apply(this, arguments);
  };
}();

var eos = {
  getInstance: function getInstance() {
    var _this = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return init();

            case 2:
              return _context4.abrupt('return', eosInstance);

            case 3:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, _this);
    }))();
  }
};

var ecc = {
  getInstance: function getInstance() {
    var _this2 = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _context5.next = 2;
              return init();

            case 2:
              return _context5.abrupt('return', eccInstance);

            case 3:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, _this2);
    }))();
  }
};

var telos = {
  getInstance: function getInstance() {
    var _this3 = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
      return _regenerator2.default.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return init();

            case 2:
              return _context6.abrupt('return', telosInstance);

            case 3:
            case 'end':
              return _context6.stop();
          }
        }
      }, _callee6, _this3);
    }))();
  }
};

exports.eos = eos;
exports.telos = telos;
exports.ecc = ecc;

/***/ }),

/***/ 3330:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Notification = __webpack_require__(658);

var _Notification2 = _interopRequireDefault(_Notification);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ErrorNotification = function ErrorNotification(_ref) {
  var data = _ref.data,
      name = _ref.name;
  return _react2.default.createElement(
    _Notification2.default,
    { soundPlay: false, name: name, type: name },
    _react2.default.createElement(
      _reactIntl.FormattedMessage,
      { id: 'ErrorNotification12', defaultMessage: 'Oops, looks like something went wrong!' },
      function (message) {
        return _react2.default.createElement(
          'h3',
          null,
          message
        );
      }
    ),
    _react2.default.createElement(
      _reactIntl.FormattedMessage,
      { id: 'ErrorNotification15', defaultMessage: 'Error: ' },
      function (message) {
        return _react2.default.createElement(
          'p',
          null,
          message,
          data.error
        );
      }
    )
  );
};

exports.default = (0, _reactCssModules2.default)(ErrorNotification, { allowMultiple: true });

/***/ }),

/***/ 3331:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"notificationConductor":"_8T39zz"};

/***/ }),

/***/ 3332:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(70);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(14);

var _en = __webpack_require__(3333);

var _en2 = _interopRequireDefault(_en);

var _ru = __webpack_require__(3334);

var _ru2 = _interopRequireDefault(_ru);

var _en3 = __webpack_require__(3335);

var _en4 = _interopRequireDefault(_en3);

var _ru3 = __webpack_require__(3336);

var _ru4 = _interopRequireDefault(_ru3);

var _locale = __webpack_require__(3337);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _reactIntl.addLocaleData)([].concat((0, _toConsumableArray3.default)(_en2.default), (0, _toConsumableArray3.default)(_ru2.default)));

var translations = {
  en: (0, _locale.reduceMessages)(_en4.default),
  ru: (0, _locale.reduceMessages)(_ru4.default)
};

var IntlProviderContainer = function (_Component) {
  (0, _inherits3.default)(IntlProviderContainer, _Component);

  function IntlProviderContainer(props) {
    (0, _classCallCheck3.default)(this, IntlProviderContainer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (IntlProviderContainer.__proto__ || (0, _getPrototypeOf2.default)(IntlProviderContainer)).call(this, props));

    _this.state = {
      currentLocale: (0, _locale.currentLocale)(),
      defaultLocale: (0, _locale.defaultLocale)()
    };
    return _this;
  }

  (0, _createClass3.default)(IntlProviderContainer, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          currentLocale = _state.currentLocale,
          defaultLocale = _state.defaultLocale;

      var messages = translations[currentLocale];
      return _react2.default.createElement(
        _reactIntl.IntlProvider,
        { locale: currentLocale, defaultLocale: defaultLocale, messages: messages },
        this.props.children
      );
    }
  }]);
  return IntlProviderContainer;
}(_react.Component);

exports.default = IntlProviderContainer;

/***/ }),

/***/ 3335:
/***/ (function(module, exports) {

module.exports = [{"id":"menu.aboutus","message":"About Us","files":["shared/components/Header/Header.js"]},{"id":"menu.exchange","message":"Exchange","files":["shared/components/Header/Header.js"]},{"id":"menu.history","message":"History","files":["shared/components/Header/Header.js"]},{"id":"menu.listing","message":"Listing","files":["shared/components/Header/Header.js"]},{"id":"menu.wallet","message":"Wallet","files":["shared/components/Header/Header.js"]},{"id":"LtcToEth.orderCreatorIsOffline","message":"The order creator is offline. Waiting for him..","files":["shared/pages/Swap/LtcToEth.js"]}]

/***/ }),

/***/ 3336:
/***/ (function(module, exports) {

module.exports = [{"id":"menu.aboutus","message":"О Нас","files":["shared/components/Header/Header.js"]},{"id":"menu.exchange","message":"Обмен","files":["shared/components/Header/Header.js"]},{"id":"menu.history","message":"История","files":["shared/components/Header/Header.js"]},{"id":"menu.listing","message":"Листинг","files":["shared/components/Header/Header.js"]},{"id":"menu.wallet","message":"Кошелек","files":["shared/components/Header/Header.js"]},{"id":"LtcToEth.orderCreatorIsOffline","message":"Автор ушел","files":["shared/pages/Swap/LtcToEth.js"]}]

/***/ }),

/***/ 3337:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defaultLocale = exports.currentLocale = exports.reduceMessages = undefined;

var _defineProperty2 = __webpack_require__(187);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var reduceMessages = exports.reduceMessages = function reduceMessages(result) {
  return result.reduce(function (acc, msg) {
    return (0, _assign2.default)({}, acc, (0, _defineProperty3.default)({}, msg.id, msg.message || msg.defaultMessage));
  }, {});
};

var currentLocale = exports.currentLocale = function currentLocale() {
  return 'en';
};

var defaultLocale = exports.defaultLocale = function defaultLocale() {
  return 'en';
};

/***/ }),

/***/ 34:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.util = exports.constants = exports.Events = exports.Collection = exports.SwapInterface = exports.ServiceInterface = undefined;

var _SwapApp = __webpack_require__(776);

var _SwapApp2 = _interopRequireDefault(_SwapApp);

var _ServiceInterface = __webpack_require__(1660);

var _ServiceInterface2 = _interopRequireDefault(_ServiceInterface);

var _SwapInterface = __webpack_require__(1661);

var _SwapInterface2 = _interopRequireDefault(_SwapInterface);

var _Collection = __webpack_require__(1662);

var _Collection2 = _interopRequireDefault(_Collection);

var _Events = __webpack_require__(1663);

var _Events2 = _interopRequireDefault(_Events);

var _constants = __webpack_require__(492);

var _constants2 = _interopRequireDefault(_constants);

var _util = __webpack_require__(1664);

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapApp2.default;
exports.ServiceInterface = _ServiceInterface2.default;
exports.SwapInterface = _SwapInterface2.default;
exports.Collection = _Collection2.default;
exports.Events = _Events2.default;
exports.constants = _constants2.default;
exports.util = _util2.default;

/***/ }),

/***/ 349:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _web = __webpack_require__(1549);

var _web2 = _interopRequireDefault(_web);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var web3 = new _web2.default(new _web2.default.providers.HttpProvider(_appConfig2.default.web3.provider));

exports.default = web3;

/***/ }),

/***/ 352:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  home: '/',
  exchange: '/exchange',
  history: '/history',
  currencyWallet: '/wallet',
  swap: '/swap',
  feed: '/feed',
  aboutus: '/aboutus',
  listing: '/listing',
  test: 'https://testnet.swap.online',
  main: 'https://swap.online/',
  coins: '/coins',
  partial: '/partial',

  // social networks
  medium: 'https://medium.com/swaponline',
  twitter: 'https://twitter.com/SwapOnlineTeam',
  facebook: 'https://www.facebook.com/pg/Swaponline-637233326642691',
  telegram: 'https://t.me/swaponline',
  bitcointalk: 'https://bitcointalk.org/index.php?topic=4636633.0',
  discord: 'https://discordapp.com/invite/juG7UZH',

  // footer links
  etherdelta: 'https://etherdelta.com/#0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9-ETH',
  button: 'https://wiki.swap.online/about-swap-online/#b2b',
  about: 'https://wiki.swap.online/about-swap-online/',
  extension: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',
  career: 'https://wiki.swap.online/careers-swap-online/',
  contacts: 'https://wiki.swap.online/contacts-swap-online/',
  concept: 'https://wiki.swap.online/en.pdf',
  description: 'https://docs.google.com/document/d/1XNLzmNXkFeJWveJp62vFPQdjH8xabpeSm6ifbgj4MeM/edit?usp=sharing',
  research: 'https://docs.google.com/spreadsheets/d/1qWFLK2y8oMH5Gfam-iwqXPzLtwNabzp_EL6QFxjSBc0/edit?usp=sharing',
  reuters: 'https://www.reuters.com/brandfeatures/venture-capital/article?id=37488',
  wiki: 'https://wiki.swap.online',
  github: 'https://github.com/swaponline/swap.core',
  githubButton: 'https://github.com/swaponline/swap.button',
  bitcointalkSendTx: 'https://bitcointalk.org/index.php?topic=1938621.0',
  privacyPolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',
  privacyPolicyDoc: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_N29fQVk4bV9tUXRscjFEcUkxVkFXdF9tY0ow/view?usp=sharing',
  terms: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',
  legalOpinion: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',
  faq: [{
    question: 'What is the price of SWAP token?',
    link: 'https://wiki.swap.online/faq/#swap-faq-1'
  }, {
    question: 'I don\'t see the Order, although the others can see it (or it can be seen from a different browser)',
    link: 'https://wiki.swap.online/faq/#swap-faq-2'
  }, {
    question: 'Where are my private keys stored?',
    link: 'https://wiki.swap.online/faq/#swap-faq-3'
  }, {
    question: 'Is KYC required?',
    link: 'https://wiki.swap.online/faq/#swap-faq-4'
  }, {
    question: 'What swap pairs are available?',
    link: 'https://wiki.swap.online/faq/#swap-faq-5'
  }, {
    question: 'Is there fee for trade?',
    link: 'https://wiki.swap.online/faq/#swap-faq-6'
  }, {
    question: 'How much gas is being spent for swap?',
    link: 'https://wiki.swap.online/faq/#swap-faq-7'
  }, {
    question: 'Min sum to trade?',
    link: 'https://wiki.swap.online/faq/#swap-faq-8'
  }, {
    question: 'My swap got stuck and my Bitcoin has already been sent to the swap. What should I do?',
    link: 'https://wiki.swap.online/faq/#swap-faq-9'
  }, {
    question: 'In what language is this written, and where I can find source code?',
    link: 'https://wiki.swap.online/faq/#swap-faq-10'
  }, {
    question: 'Swap.Online token',
    link: 'https://wiki.swap.online/faq/#swap-faq-11'
  }, {
    question: 'What is Swap.Button?',
    link: 'https://wiki.swap.online/faq/#swap-faq-12'
  }, {
    question: 'Advantages of using the exchanger based on Swap.Online DEP',
    link: 'https://wiki.swap.online/faq/#swap-faq-13'
  }]
};

/***/ }),

/***/ 353:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _localStorage = __webpack_require__(1624);

var _localStorage2 = _interopRequireDefault(_localStorage);

var _privateKeyNames = __webpack_require__(1625);

var _privateKeyNames2 = _interopRequireDefault(_privateKeyNames);

var _notifications = __webpack_require__(1626);

var _notifications2 = _interopRequireDefault(_notifications);

var _modals = __webpack_require__(1627);

var _modals2 = _interopRequireDefault(_modals);

var _TRADE_TICKERS = __webpack_require__(773);

var _TRADE_TICKERS2 = _interopRequireDefault(_TRADE_TICKERS);

var _TOKEN_DECIMALS = __webpack_require__(774);

var _TOKEN_DECIMALS2 = _interopRequireDefault(_TOKEN_DECIMALS);

var _PAIR_TYPES = __webpack_require__(354);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  localStorage: _localStorage2.default,
  tradeTicker: _TRADE_TICKERS2.default,
  privateKeyNames: _privateKeyNames2.default,
  tokenDecimals: _TOKEN_DECIMALS2.default,
  notifications: _notifications2.default,
  pairTypes: _PAIR_TYPES2.default,
  modals: _modals2.default
};

/***/ }),

/***/ 354:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _freeze = __webpack_require__(1628);

var _freeze2 = _interopRequireDefault(_freeze);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _freeze2.default)({
  BID: 'bid',
  ASK: 'ask'
});

/***/ }),

/***/ 368:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var seo = {
  config: {
    medium: 'https://medium.com/@swaponline',
    twitter: 'https://twitter.com/SwapOnlineTeam',
    facebook: 'https://www.facebook.com/SwapOnlineTeam',
    telegram: 'https://t.me/swaponlineint',
    email: 'info@swap.online',
    mainUrl: 'https://swap.online',
    logo: 'https://wiki.swap.online/assets/swap-logo.png'
  },
  pages: [{
    uri: '/',
    title: 'Swap.Online - Cryptocurrency Wallet with Atomic Swap Exchange',
    description: 'Our online wallet with Atomic swap algorithms will help you store and exchange' + ' cryptocurrency instantly and more secure without third-parties. Decentralized exchange.'
  }, {
    uri: '/exchange',
    title: 'Exchange',
    description: 'Exchange'
  }, {
    uri: '/exchange/btc',
    title: 'Bitcoin',
    description: 'Bitcoin',
    h1: 'Bitcoin Trade'
  }, {
    uri: '/exchange/ltc',
    title: 'Litecoin',
    description: 'Litecoin',
    h1: 'Litecoin Trade'
  }, {
    uri: '/exchange/eth',
    title: 'Ethereum',
    description: 'Ethereum',
    h1: 'Ethereum Trade'
  }, {
    uri: '/exchange/swap',
    title: 'Swap',
    description: 'Swap',
    h1: 'Swap Trade'
  }, {
    uri: '/exchange/noxon',
    title: 'Noxon',
    description: 'Noxon',
    h1: 'Noxon Trade'
  }, {
    uri: '/exchange/jot',
    title: 'Jot',
    description: 'Jot',
    h1: 'Jot Trade'
  }, {
    uri: '/history',
    title: 'History',
    description: 'History'
  }, {
    uri: '/aboutus',
    title: 'About Us',
    description: 'About Us'
  }, {
    uri: '/listing',
    title: 'Listing',
    description: 'Listing'
  }, {
    uri: '/swap',
    title: 'Swap',
    description: 'Swap'
  }, {
    uri: '/feed',
    title: 'Feed',
    description: 'Feed'
  }, {
    uri: '/eth-btc',
    title: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) Decentralized Exchange',
    description: 'Best exchange rate for Ethereum (ETH) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) - Instant Exchange'
  }, {
    uri: '/btc-eth',
    title: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) Cross-Chain Exchange',
    description: 'Looking for best exchange rate to buy Ethereum (ETH) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) - Decentralized Exchange'
  }, {
    uri: '/eth-ltc',
    title: 'Atomic Swap Ethereum (ETH) to Litecoin (LTC) Decentralized Exchange',
    description: 'Best exchange rate for Ethereum (ETH) to Litecoin (LTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Ethereum (ETH) to Litecoin (LTC) - Instant Exchange'
  }, {
    uri: '/ltc-eth',
    title: 'Atomic Swap Litecoin (LTC) to Ethereum (ETH) Cross-Chain Exchange',
    description: 'Looking for best exchange rate to buy Ethereum (ETH) with Litecoin (LTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Litecoin (LTC) to Ethereum (ETH) - Decentralized Exchange'
  }, {
    uri: '/ltc-btc',
    title: 'Atomic Swap Litecoin (LTC) to Bitcoin (BTC) Decentralized Exchange',
    desctption: 'Best exchange rate for Litecoin (LTC) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Litecoin (LTC) to Bitcoin (BTC) - Instant Exchange'
  }, {
    uri: '/btc-ltc',
    title: 'Atomic Swap Bitcoin (BTC) to Litecoin (LTC) Cross-Chain Exchange',
    desctption: 'Looking for best exchange rate to buy Litecoin (LTC) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Bitcoin (BTC) to Litecoin (LTC) - Decentralized Exchange'
  }, {
    uri: '/eos-btc',
    title: 'Atomic Swap EOS to Bitcoin (BTC) Instant Exchange',
    description: 'How to exchange EOS to BTC instantly and safely? Use Swap.Online service to exchange coins with atomic swap algorithm. ',
    h1: 'Best Exchange Rate EOS to Bitcoin (BTC) - Atomic Swap'
  }, {
    uri: '/btc-eos',
    title: 'Atomic Swap Bitcoin (BTC) to EOS Instant Exchange',
    description: 'Atomic Swap Bitcoin (BTC) to EOS is the best way of exchanging cryptocurrencies decenralized. Swap.Online - Multi Currency Wallet.',
    h1: 'Best Exchange Rate Bitcoin (BTC) to EOS - Atomic Swap'
  },
  //  Wallets.
  {
    uri: '/Ethereum-wallet',
    title: 'Ethereum Wallet with Atomic Swap (exchange)',
    description: 'Exchange Ethereum (ETH) & ERC20 token using Swap.Online (hot) wallet with built-in Atomic Swap exchange. (No fees, No registration or KYC)',
    h1: 'Your online Ethereum (ETH) web wallet with Atomic Swap.'
  }, {
    uri: '/Bitcoin-wallet',
    title: 'Bitcoin (BTC) Web Wallet with Atomic Swap.',
    description: 'Swap.Online Bitcoin Wallet will allow you to exchange your coins using Atomic Swap technology.',
    h1: 'Your online Bitcoin (BTC) web wallet with Atomic Swap.'
  }, {
    uri: '/Eos-wallet',
    title: 'Swap.Online - EOS Web Wallet with Atomic Swap (exchange).',
    description: 'Swap.Online multi-currency wallet with built-in Atomic Swap exchange. Store, send, and exchange EOS.',
    h1: 'Your online EOS hot wallet with Atomic Swap exchange.'
  }, {
    uri: '/BitcoinCash-wallet',
    title: 'Swap.Online - Bitcoin Cash (BCH) Wallet with Atomic Swap exchange.',
    description: 'Swap.Online Web Wallet - here you can store, send, receive, and exchange Bitcoin Cash (BCH) using Atomic Swap algorithms.',
    h1: 'Your online Bitcoin Cash (BCH) wallet with Atomic Swap.'
  }, {
    uri: '/Litecoin-wallet',
    title: 'Swap.Online - Litecoin (LTC) Web Wallet with Atomic Swap.',
    description: 'Litecoin (LTC) web wallet with Atomic Swap exchange. Send, receive, store, and swap your cryptocurrency online.',
    h1: 'Your online Litecoin (LTC) web wallet with Atomic Swap.'
  }, {
    uri: '/USDT-wallet',
    title: 'Swap.Online - Tether (USDT) Web Wallet with Atomic Swap.',
    description: 'Atomic Swap web wallet allows you to store and exchange USDT to Bitcoin. Multi-currency wallet with a decentralized exchange (based on Atomic Swap technology)',
    h1: 'Your online Tether (USDT) wallet with Atomic Swap.'
  }]
};

var getSeoPage = exports.getSeoPage = function getSeoPage(uri) {
  return seo.pages.find(function (p) {
    return p.uri === uri;
  });
};

var getUrl = exports.getUrl = function getUrl(uri) {
  return '' + seo.config.mainUrl + uri;
};

exports.default = seo;

/***/ }),

/***/ 370:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Coin = __webpack_require__(1978);

var _Coin2 = _interopRequireDefault(_Coin);

var _CurrencyIcon = __webpack_require__(831);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Coin = function Coin(_ref) {
  var className = _ref.className,
      size = _ref.size,
      name = _ref.name;

  var style = {
    width: size ? size + 'px' : null
  };

  var iconProps = {
    name: name.toLowerCase()
  };

  var isIconExist = _CurrencyIcon.iconNames.includes(name.toLowerCase());

  if (isIconExist) {
    iconProps = (0, _assign2.default)({}, iconProps, {
      styleName: 'icon'
    });
  } else {
    iconProps = (0, _assign2.default)({}, iconProps, {
      styleName: 'letter',
      style: {
        lineHeight: size + 'px',
        fontSize: size / 2 + 'px'
      }
    });
  }

  return _react2.default.createElement(
    'div',
    { styleName: 'coin', className: className, style: style },
    _react2.default.createElement(_CurrencyIcon2.default, iconProps)
  );
};

Coin.defaultProps = {
  size: 40
};

Coin.propTypes = {
  className: _propTypes2.default.string,
  size: _propTypes2.default.number,
  name: _propTypes2.default.string.isRequired
};

exports.default = (0, _reactCssModules2.default)(Coin, _Coin2.default);

/***/ }),

/***/ 371:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Modal = __webpack_require__(1998);

var _Modal2 = _interopRequireDefault(_Modal);

var _WidthContainer = __webpack_require__(283);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _CloseIcon = __webpack_require__(2000);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

var _Overlay = __webpack_require__(517);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(281);

var _Center2 = _interopRequireDefault(_Center);

var _Logo = __webpack_require__(839);

var _Logo2 = _interopRequireDefault(_Logo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Modal = (_dec = (0, _reactCssModules2.default)(_Modal2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Modal, _Component);

  function Modal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Modal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Modal.__proto__ || (0, _getPrototypeOf2.default)(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.close = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data,
          onClose = _this$props.onClose,
          disableClose = _this$props.disableClose;


      if (name === 'OfferModal') {
        _actions2.default.analytics.dataEvent('orderbook-addoffer-click-exit-button');
      }

      if (!disableClose) {
        _actions2.default.modals.close(name);

        if (typeof onClose === 'function') {
          onClose();
        }

        if (typeof data.onClose === 'function') {
          data.onClose();
        }
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Modal, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          whiteLogo = _props.whiteLogo,
          showLogo = _props.showLogo,
          title = _props.title,
          showCloseButton = _props.showCloseButton,
          disableClose = _props.disableClose,
          children = _props.children,
          titleUppercase = _props.titleUppercase,
          name = _props.name,
          shouldCenterHorizontally = _props.shouldCenterHorizontally,
          shouldCenterVertically = _props.shouldCenterVertically;


      var titleStyleName = (0, _classnames2.default)('title', {
        'uppercase': titleUppercase
      });

      return _react2.default.createElement(
        _Overlay2.default,
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'modal', className: className },
          Boolean(title || showCloseButton) && _react2.default.createElement(
            'div',
            { styleName: 'header' },
            _react2.default.createElement(
              _WidthContainer2.default,
              { styleName: 'headerContent' },
              showLogo && _react2.default.createElement(_Logo2.default, { colored: !whiteLogo }),
              _react2.default.createElement(
                'div',
                { styleName: titleStyleName, role: 'title' },
                title
              ),
              showCloseButton && !disableClose && _react2.default.createElement(_CloseIcon2.default, { styleName: 'closeButton', onClick: this.close, 'data-testid': 'modalCloseIcon' })
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'contentContainer' },
            _react2.default.createElement(
              _Center2.default,
              { scrollable: true, centerHorizontally: shouldCenterHorizontally, centerVertically: shouldCenterVertically },
              _react2.default.createElement(
                'div',
                { styleName: 'content' },
                children
              )
            )
          )
        )
      );
    }
  }]);
  return Modal;
}(_react.Component), _class2.propTypes = {
  children: _propTypes2.default.node,
  name: _propTypes2.default.string.isRequired,
  title: _propTypes2.default.any,
  showCloseButton: _propTypes2.default.bool,
  data: _propTypes2.default.object,
  disableClose: _propTypes2.default.bool,
  titleUppercase: _propTypes2.default.bool,
  onClose: _propTypes2.default.func,
  shouldCenterVertically: _propTypes2.default.bool,
  shouldCenterHorizontally: _propTypes2.default.bool,
  whiteLogo: _propTypes2.default.bool,
  showLogo: _propTypes2.default.bool
}, _class2.defaultProps = {
  data: {},
  whiteLogo: false,
  showLogo: true,
  showCloseButton: true,
  fullWidth: false,
  disableClose: false,
  disableCloseOverlay: false,
  uppercase: false,
  shouldCenterVertically: true,
  shouldCenterHorizontally: true
}, _temp2)) || _class);
exports.default = Modal;

/***/ }),

/***/ 438:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapAuth = __webpack_require__(649);

var _SwapAuth2 = _interopRequireDefault(_SwapAuth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapAuth2.default;
module.exports = exports['default'];

/***/ }),

/***/ 456:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.history = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _reactRouterRedux = __webpack_require__(689);

var _history = __webpack_require__(149);

var _redaction = __webpack_require__(47);

var _reduxLogger = __webpack_require__(1340);

var _reducers = __webpack_require__(700);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var history = exports.history = (0, _history.createBrowserHistory)();
var middleware = (0, _reactRouterRedux.routerMiddleware)(history);
var initialState = {}; // (localStorage['redux-store']) ? JSON.parse(localStorage['redux-store']) : {}


var store = (0, _redaction.createStore)({
  reducers: (0, _assign2.default)({}, (0, _redaction.combineReducers)(_reducers2.default, _reactRouterRedux.routerReducer)),
  middleware: [middleware].concat( true ? [] : [(0, _reduxLogger.createLogger)()]),
  initialState: initialState
});

exports.default = store;

/***/ }),

/***/ 492:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _COINS = __webpack_require__(1655);

var _COINS2 = _interopRequireDefault(_COINS);

var _ENV = __webpack_require__(1656);

var _ENV2 = _interopRequireDefault(_ENV);

var _SERVICES = __webpack_require__(1657);

var _SERVICES2 = _interopRequireDefault(_SERVICES);

var _NETWORKS = __webpack_require__(1658);

var _NETWORKS2 = _interopRequireDefault(_NETWORKS);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  COINS: _COINS2.default,
  ENV: _ENV2.default,
  SERVICES: _SERVICES2.default,
  NETWORKS: _NETWORKS2.default
};
module.exports = exports['default'];

/***/ }),

/***/ 510:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Toggle = __webpack_require__(1835);

var _Toggle2 = _interopRequireDefault(_Toggle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Toggle = function Toggle(_ref) {
  var checked = _ref.checked,
      onChange = _ref.onChange;
  return _react2.default.createElement(
    'label',
    { styleName: 'Switch' },
    _react2.default.createElement('input', { type: 'checkbox', onClick: function onClick(_ref2) {
        var target = _ref2.target;
        return onChange(target.checked);
      }, defaultChecked: checked }),
    _react2.default.createElement('span', null),
    ' '
  );
};

Toggle.propTypes = {
  checked: _propTypes2.default.bool.isRequired,
  onChange: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(Toggle, _Toggle2.default);

/***/ }),

/***/ 514:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Title = __webpack_require__(1922);

var _Title2 = _interopRequireDefault(_Title);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Title = function Title(_ref) {
  var children = _ref.children;
  return _react2.default.createElement(
    'div',
    { styleName: 'title' },
    children
  );
};

exports.default = (0, _reactCssModules2.default)(Title, _Title2.default);

/***/ }),

/***/ 515:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencySelect = __webpack_require__(1928);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _Option = __webpack_require__(1929);

var _Option2 = _interopRequireDefault(_Option);

var _DropDown = __webpack_require__(1953);

var _DropDown2 = _interopRequireDefault(_DropDown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencySelect = function CurrencySelect(_ref) {
  var className = _ref.className,
      selectedValue = _ref.selectedValue,
      onSelect = _ref.onSelect,
      currencies = _ref.currencies;

  // remove null values in object map
  var nonNullCurrencies = currencies.filter(function (currency) {
    return !!currency !== false;
  });
  // TODO: Add debug logger message to see if some currency have been dropped

  return _react2.default.createElement(_DropDown2.default, {
    className: className,
    items: nonNullCurrencies,
    selectedValue: selectedValue,
    selectedItemRender: function selectedItemRender(item) {
      return _react2.default.createElement(_Option2.default, item);
    },
    itemRender: function itemRender(item) {
      return _react2.default.createElement(_Option2.default, item);
    },
    onSelect: onSelect
  });
};

exports.default = (0, _reactCssModules2.default)(CurrencySelect, _CurrencySelect2.default);

/***/ }),

/***/ 516:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _jdenticon = __webpack_require__(1966);

var _jdenticon2 = _interopRequireDefault(_jdenticon);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Avatar = __webpack_require__(1967);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Avatar = function Avatar(_ref) {
  var value = _ref.value,
      className = _ref.className,
      size = _ref.size;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement('img', {
      className: className,
      styleName: 'avatar',
      alt: value,
      src: 'data:image/svg+xml,' + encodeURIComponent(_jdenticon2.default.toSvg(value, size)),
      'data-tip': true,
      'data-for': 'gravatar'
    }),
    _react2.default.createElement(
      _reactTooltip2.default,
      { id: 'gravatar', type: 'light', effect: 'solid' },
      _react2.default.createElement(
        'span',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'avatar24', defaultMessage: 'Automatically created gravatar. its unique for every profile. You can see your in the upper right corner' })
      )
    )
  );
};

Avatar.defaultProps = {
  size: 35
};

Avatar.propTypes = {
  value: _propTypes2.default.string.isRequired,
  size: _propTypes2.default.number,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Avatar, _Avatar2.default);

/***/ }),

/***/ 517:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Overlay = __webpack_require__(2002);

var _Overlay2 = _interopRequireDefault(_Overlay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Overlay = function Overlay(_ref) {
  var children = _ref.children,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'div',
    { styleName: 'overlay', onClick: onClick },
    children
  );
};

Overlay.propTypes = {
  children: _propTypes2.default.node,
  onClick: _propTypes2.default.func
};

exports.default = (0, _reactCssModules2.default)(Overlay, _Overlay2.default);

/***/ }),

/***/ 57:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WithdrawButton = exports.RemoveButton = exports.Flip = exports.Button = exports.TimerButton = exports.Toggle = undefined;

var _Toggle = __webpack_require__(510);

var _Toggle2 = _interopRequireDefault(_Toggle);

var _TimerButton = __webpack_require__(176);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _Flip = __webpack_require__(818);

var _Flip2 = _interopRequireDefault(_Flip);

var _RemoveButton = __webpack_require__(1839);

var _RemoveButton2 = _interopRequireDefault(_RemoveButton);

var _WithdrawButton = __webpack_require__(819);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// HOC by timer
exports.Toggle = _Toggle2.default;
exports.TimerButton = _TimerButton2.default;
exports.Button = _Button2.default;
exports.Flip = _Flip2.default;
exports.RemoveButton = _RemoveButton2.default;
exports.WithdrawButton = _WithdrawButton2.default; // constructor buttons

/* Just button */

// input type checkbox

/***/ }),

/***/ 59:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _redaction = __webpack_require__(47);

var _reducers = __webpack_require__(700);

var _reducers2 = _interopRequireDefault(_reducers);

var _store = __webpack_require__(456);

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _redaction.wrapReducers)(_reducers2.default, _store2.default.dispatch);

/***/ }),

/***/ 649:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _privateKeys = void 0;
var getPublicDataMethods = {};

var SwapAuth = function (_ServiceInterface) {
  (0, _inherits3.default)(SwapAuth, _ServiceInterface);
  (0, _createClass3.default)(SwapAuth, null, [{
    key: 'name',
    get: function get() {
      return 'auth';
    }
  }]);

  function SwapAuth(privateKeys) {
    (0, _classCallCheck3.default)(this, SwapAuth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapAuth.__proto__ || (0, _getPrototypeOf2.default)(SwapAuth)).call(this));

    _this._serviceName = 'auth';
    _this.accounts = {};

    _privateKeys = privateKeys;
    return _this;
  }

  (0, _createClass3.default)(SwapAuth, [{
    key: 'initService',
    value: function initService() {
      var _this2 = this;

      (0, _keys2.default)(_privateKeys).forEach(function (name) {
        if ((0, _keys2.default)(_swap.constants.COINS).indexOf(name) < 0) {
          var error = 'SwapAuth._initService(): There is no instance with name "' + name + '".';
          error += 'Only [' + (0, _stringify2.default)((0, _keys2.default)(_swap.constants.COINS)).replace(/"/g, '\'') + '] available';

          throw new Error(error);
        }

        try {
          var instance = __webpack_require__(3155)("./" + name);
          instance = instance.default || instance;
          var account = instance.login(_privateKeys[name]);

          _this2.accounts[name] = account;
          getPublicDataMethods[name] = function () {
            return instance.getPublicData(account);
          };
        } catch (err) {
          throw new Error('SwapAuth._initService(): ' + err);
        }
      });
    }
  }, {
    key: 'getPublicData',
    value: function getPublicData() {
      var data = {
        peer: _swap2.default.services.room.peer
      };

      (0, _keys2.default)(getPublicDataMethods).forEach(function (name) {
        data[name] = getPublicDataMethods[name]();
      });

      return data;
    }
  }]);
  return SwapAuth;
}(_swap.ServiceInterface);

exports.default = SwapAuth;
module.exports = exports['default'];

/***/ }),

/***/ 650:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapRoom = __webpack_require__(3156);

var _SwapRoom2 = _interopRequireDefault(_SwapRoom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapRoom2.default;
module.exports = exports['default'];

/***/ }),

/***/ 655:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Loader = __webpack_require__(3263);

var _Loader2 = _interopRequireDefault(_Loader);

var _helpers = __webpack_require__(20);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Loader = function Loader(_ref) {
  var overlayClassName = _ref.overlayClassName,
      className = _ref.className,
      data = _ref.data,
      showTips = _ref.showTips;
  return _react2.default.createElement(
    'div',
    { styleName: 'overlay', className: overlayClassName },
    _react2.default.createElement(
      'div',
      { styleName: 'loader center', className: className },
      _react2.default.createElement('div', { styleName: 'loader1' }),
      _react2.default.createElement('div', { styleName: 'loader2' }),
      _react2.default.createElement('div', { styleName: 'loader3' })
    ),
    data && data.text && _react2.default.createElement(
      'p',
      { styleName: 'text' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Loader21', defaultMessage: 'Please wait, it takes from 3 to 5 minutes to complete the transaction.' })
    ),
    data && data.txId && _react2.default.createElement(
      'a',
      {
        href: data.txId,
        styleName: 'link',
        target: '_blank',
        rel: 'noopener noreferrer'
      },
      data.txId
    ),
    showTips && _react2.default.createElement(
      'div',
      { styleName: 'tips' },
      (0, _helpers.tips)('loader')
    )
  );
};

Loader.propTypes = {
  overlayClassName: _propTypes2.default.string,
  className: _propTypes2.default.string,
  data: _propTypes2.default.shape({
    text: _propTypes2.default.bool,
    txId: _propTypes2.default.string
  }),
  showTips: _propTypes2.default.bool
};

Loader.deafultProps = {
  data: null,
  showTips: false
};

exports.default = (0, _reactCssModules2.default)(Loader, _Loader2.default, { allowMultiple: true });

/***/ }),

/***/ 656:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3275);

var _Row2 = _interopRequireDefault(_Row);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function Row(_ref) {
  var title = _ref.title,
      children = _ref.children;
  return _react2.default.createElement(
    'div',
    { styleName: 'row' },
    _react2.default.createElement(
      'div',
      { styleName: 'title' },
      title
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'content' },
      children
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default);

/***/ }),

/***/ 657:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Value = __webpack_require__(3276);

var _Value2 = _interopRequireDefault(_Value);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Value = function Value(_ref) {
  var value = _ref.value,
      currency = _ref.currency;
  return _react2.default.createElement(
    'span',
    { styleName: 'value' },
    _react2.default.createElement(
      'span',
      null,
      value,
      ' '
    ),
    _react2.default.createElement(
      'span',
      { styleName: 'currency' },
      ' ',
      currency.toUpperCase()
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Value, _Value2.default);

/***/ }),

/***/ 658:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Notification = __webpack_require__(3327);

var _Notification2 = _interopRequireDefault(_Notification);

var _Sound = __webpack_require__(1246);

var _Sound2 = _interopRequireDefault(_Sound);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Notification = (_dec = (0, _reactCssModules2.default)(_Notification2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Notification, _Component);

  function Notification() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Notification);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Notification.__proto__ || (0, _getPrototypeOf2.default)(Notification)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      mounted: false,
      removed: false
    }, _this.close = function () {
      var name = _this.props.name;


      _this.setState({
        removed: true
      }, function () {
        setTimeout(function () {
          _actions2.default.notifications.hide(name);
        }, 300);
      });
    }, _this.soundClick = function () {
      var audio = new Audio();
      audio.src = _Sound2.default;
      audio.autoplay = true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Notification, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.soundPlay) {
        this.soundClick();
      }
      setTimeout(function () {
        _this2.setState({
          mounted: true
        }, function () {
          setTimeout(_this2.close, 8000);
        });
      }, 0);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          mounted = _state.mounted,
          removed = _state.removed;
      var _props = this.props,
          children = _props.children,
          type = _props.type,
          className = _props.className;


      var containerStyleName = (0, _classnames2.default)('container', {
        'mounted': mounted,
        'removed': removed
      });

      var notificationStyleName = (0, _classnames2.default)('notification', {
        'mounted': mounted,
        'removed': removed,
        'ErrorNotification': type === 'ErrorNotification'
      });

      return _react2.default.createElement(
        'div',
        { styleName: containerStyleName },
        _react2.default.createElement(
          'div',
          { styleName: notificationStyleName, onClick: this.close },
          _react2.default.createElement(
            'div',
            { styleName: 'content', className: className },
            children
          )
        )
      );
    }
  }]);
  return Notification;
}(_react.Component), _class2.defaultProps = {
  soundPlay: true
}, _class2.childContextTypes = {
  close: _propTypes2.default.func
}, _temp2)) || _class);
exports.default = Notification;

/***/ }),

/***/ 700:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _notifications = __webpack_require__(1341);

var notifications = _interopRequireWildcard(_notifications);

var _modals = __webpack_require__(1344);

var modals = _interopRequireWildcard(_modals);

var _history = __webpack_require__(1345);

var history = _interopRequireWildcard(_history);

var _loader = __webpack_require__(1350);

var loader = _interopRequireWildcard(_loader);

var _user = __webpack_require__(1351);

var user = _interopRequireWildcard(_user);

var _feeds = __webpack_require__(1352);

var feeds = _interopRequireWildcard(_feeds);

var _core = __webpack_require__(1353);

var core = _interopRequireWildcard(_core);

var _ipfs = __webpack_require__(1354);

var ipfs = _interopRequireWildcard(_ipfs);

var _api = __webpack_require__(1355);

var api = _interopRequireWildcard(_api);

var _currencies = __webpack_require__(1356);

var currencies = _interopRequireWildcard(_currencies);

var _menu = __webpack_require__(1359);

var menu = _interopRequireWildcard(_menu);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

exports.default = {
  notifications: notifications,
  modals: modals,
  history: history,
  loader: loader,
  core: core,
  user: user,
  feeds: feeds,
  ipfs: ipfs,
  api: api,
  currencies: currencies,
  menu: menu
};

/***/ }),

/***/ 75:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Button = __webpack_require__(1836);

var _Button2 = _interopRequireDefault(_Button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Button = function Button(props) {
  var children = props.children,
      className = props.className,
      fullWidth = props.fullWidth,
      brand = props.brand,
      green = props.green,
      white = props.white,
      gray = props.gray,
      disabled = props.disabled,
      onClick = props.onClick,
      _props$id = props.id,
      id = _props$id === undefined ? '' : _props$id;


  var styleName = (0, _classnames2.default)('button', {
    'fullWidth': fullWidth,
    'brand': brand,
    'green': green,
    'white': white,
    'gray': gray,
    'disabled': disabled
  });

  return _react2.default.createElement(
    'button',
    {
      styleName: styleName,
      className: className,
      onClick: onClick,
      id: id,
      disabled: disabled
    },
    children
  );
};

Button.propTypes = {
  children: _propTypes2.default.any,
  className: _propTypes2.default.string,
  fullWidth: _propTypes2.default.bool,
  brand: _propTypes2.default.bool,
  green: _propTypes2.default.bool,
  white: _propTypes2.default.bool,
  gray: _propTypes2.default.bool,
  disabled: _propTypes2.default.bool,
  onClick: _propTypes2.default.func
};

exports.default = (0, _reactCssModules2.default)(Button, _Button2.default, { allowMultiple: true });

/***/ }),

/***/ 773:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var swap = ['ETH-BTC', 'ETH-LTC', 'LTC-BTC', 'EOS-BTC'];

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  swap.push(key.toUpperCase() + '-BTC');

  swap.push(key.toUpperCase() + '-USDT');
});

exports.default = [].concat(swap);

/***/ }),

/***/ 774:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var decimals = {
  BTC: 8,
  ETH: 18,
  LTC: 8

};

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  decimals[key] = _appConfig2.default.erc20[key].decimals;
});

exports.default = (0, _assign2.default)({}, decimals);

/***/ }),

/***/ 776:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _values = __webpack_require__(355);

var _values2 = _interopRequireDefault(_values);

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _constants = __webpack_require__(492);

var _constants2 = _interopRequireDefault(_constants);

var _StorageFactory = __webpack_require__(1659);

var _StorageFactory2 = _interopRequireDefault(_StorageFactory);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapApp = function () {
  function SwapApp() {
    (0, _classCallCheck3.default)(this, SwapApp);
  }

  (0, _createClass3.default)(SwapApp, [{
    key: 'setup',


    /**
     *
     * @param {object}  options
     * @param {string}  options.network
     * @param {object}  options.env
     * @param {array}   options.services
     * @param {array}   options.swaps
     * @param {array}   options.flows
     */
    value: function setup(options) {
      this.network = options.network || _constants2.default.NETWORKS.TESTNET;
      this.env = {};
      this.services = {};

      this.swaps = {};
      this.flows = {};

      this._addEnv(options.env || {});
      this._addServices(options.services || {});

      this._addSwaps(options.swaps || []);
      this._addFlows(options.flows || []);
    }

    // Configure -------------------------------------------------------- /

  }, {
    key: '_addEnv',
    value: function _addEnv(env) {
      (0, _keys2.default)(env).forEach(function (name) {
        if ((0, _values2.default)(_constants2.default.ENV).indexOf(name) < 0) {
          throw new Error('SwapApp.addEnv(): Only ' + (0, _values2.default)(_constants2.default.ENV) + ' available');
        }
      });

      this.env = env;
      this.env.storage = new _StorageFactory2.default(env.storage);
    }
  }, {
    key: '_addService',
    value: function _addService(service) {
      if (!service._serviceName) {
        throw new Error('SwapApp service should contain "_serviceName" property');
      }

      if (!(0, _values2.default)(_constants2.default.SERVICES).includes(service._serviceName)) {
        throw new Error('SwapApp service should contain "_serviceName" property should be one of ' + (0, _values2.default)(_constants2.default.SERVICES) + ', got "' + service._serviceName + '"');
      }

      this.services[service._serviceName] = service;
    }
  }, {
    key: '_addServices',
    value: function _addServices(services) {
      var _this = this;

      // add service to app by _serviceName
      services.forEach(function (service) {
        return _this._addService(service);
      });
      // spy expects
      (0, _keys2.default)(this.services).forEach(function (serviceName) {
        return _this.services[serviceName]._waitRelationsResolve();
      });
      // init services
      (0, _keys2.default)(this.services).forEach(function (serviceName) {
        return _this.services[serviceName]._tryInitService();
      });
    }
  }, {
    key: '_addSwap',
    value: function _addSwap(swap) {
      if (!swap._swapName) {
        throw new Error('SwapApp swap should contain "_swapName" property');
      }

      if (!(0, _values2.default)(_constants2.default.COINS).includes(swap._swapName.toUpperCase())) {
        throw new Error('SwapApp swap should contain "_swapName" property should be one of ' + (0, _values2.default)(_constants2.default.COINS) + ', got "' + swap._swapName.toUpperCase() + '"');
      }

      this.swaps[swap._swapName] = swap;

      if (typeof swap._initSwap === 'function') {
        swap._initSwap();
      }
    }
  }, {
    key: '_addSwaps',
    value: function _addSwaps(swaps) {
      var _this2 = this;

      swaps.forEach(function (swap) {
        _this2._addSwap(swap);
      });
    }
  }, {
    key: '_addFlow',
    value: function _addFlow(Flow) {
      var flowName = Flow.getName();

      if (!(0, _values2.default)(_constants2.default.COINS).includes(Flow.getFromName()) || !(0, _values2.default)(_constants2.default.COINS).includes(Flow.getToName())) {
        throw new Error('SwapApp flow "_flowName" property should contain only: ' + (0, _values2.default)(_constants2.default.COINS) + '. Got: "' + flowName.toUpperCase() + '"');
      }

      this.flows[flowName] = Flow;
    }
  }, {
    key: '_addFlows',
    value: function _addFlows(flows) {
      var _this3 = this;

      flows.forEach(function (flow) {
        _this3._addFlow(flow);
      });
    }

    // Public methods --------------------------------------------------- /

  }, {
    key: 'isMainNet',
    value: function isMainNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.MAINNET;
    }
  }, {
    key: 'isTestNet',
    value: function isTestNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.TESTNET;
    }
  }, {
    key: 'isLocalNet',
    value: function isLocalNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.LOCALNET;
    }
  }]);
  return SwapApp;
}();

exports.default = new SwapApp();
module.exports = exports['default'];

/***/ }),

/***/ 777:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _swap = __webpack_require__(34);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Room = function () {

  // TODO add destroy method with all events unsubscribe (when swap is finished)

  function Room(_ref) {
    var _this = this;

    var swapId = _ref.swapId,
        participantPeer = _ref.participantPeer;
    (0, _classCallCheck3.default)(this, Room);

    this.getOnlineParticipant = function () {
      var online = _swap2.default.services.room.connection.hasPeer(_this.peer);

      if (!online) {
        _this._events.dispatch('participant is offline', _this.peer);
      }

      return online;
    };

    this.swapId = swapId;
    this.peer = participantPeer;
    this._events = new _swap.Events();
  }

  (0, _createClass3.default)(Room, [{
    key: 'on',
    value: function on(eventName, handler) {
      var _this2 = this;

      _swap2.default.services.room.on(eventName, function (_ref2) {
        var fromPeer = _ref2.fromPeer,
            swapId = _ref2.swapId,
            values = (0, _objectWithoutProperties3.default)(_ref2, ['fromPeer', 'swapId']);

        console.log('on ' + eventName + ' from ' + fromPeer + ' at swap ' + swapId, values);
        if (fromPeer === _this2.peer && swapId === _this2.swapId) {
          handler(values);
        }
      });
    }
  }, {
    key: 'once',
    value: function once(eventName, handler) {
      var self = this;

      _swap2.default.services.room.on(eventName, function (_ref3) {
        var fromPeer = _ref3.fromPeer,
            swapId = _ref3.swapId,
            values = (0, _objectWithoutProperties3.default)(_ref3, ['fromPeer', 'swapId']);

        console.log('once ' + eventName + ' from ' + fromPeer + ' at swap ' + swapId, values);
        if (fromPeer === self.peer && swapId === self.swapId) {
          this.unsubscribe();
          handler(values);
        }
      });
    }
  }, {
    key: 'sendMessage',
    value: function sendMessage(message) {
      var _this3 = this;

      if (!this.getOnlineParticipant()) {
        setTimeout(function () {
          _this3.sendMessage(message);
        }, 3000);
      }

      var event = message.event,
          data = message.data;


      _swap2.default.services.room.sendConfirmation(this.peer, {
        event: event,
        action: 'active',
        data: (0, _extends3.default)({
          swapId: this.swapId
        }, data)
      });
    }
  }]);
  return Room;
}();

exports.default = Room;
module.exports = exports['default'];

/***/ }),

/***/ 781:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _helpers = __webpack_require__(20);

var _urlParse = __webpack_require__(1686);

var _urlParse2 = _interopRequireDefault(_urlParse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var newReferral = function newReferral(ethAddress) {
  var _ref = new _urlParse2.default(window.location.href, 1, true),
      query = _ref.query;

  if (query.ref) {
    _helpers.request.get('https://wiki.swap.online/affiliate.php?referral=' + query.ref + '&action=add_referrer&address=' + ethAddress);
  }
};

exports.default = {
  newReferral: newReferral
};

/***/ }),

/***/ 818:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Flip = __webpack_require__(1838);

var _Flip2 = _interopRequireDefault(_Flip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Flip = function Flip(_ref) {
  var onClick = _ref.onClick;
  return _react2.default.createElement('button', { alt: 'flip currency', onClick: onClick, styleName: 'trade-panel__change' });
};

Flip.propTypes = {
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(Flip, _Flip2.default);

/***/ }),

/***/ 819:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WithdrawButton = __webpack_require__(1841);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var WithdrawButton = function WithdrawButton(props) {
  var onClick = props.onClick,
      children = props.children,
      disable = props.disable,
      rest = (0, _objectWithoutProperties3.default)(props, ['onClick', 'children', 'disable']);


  var styleName = (0, _classnames2.default)('withdrawButton', {
    'disable': disable
  });

  return _react2.default.createElement(
    'button',
    (0, _extends3.default)({ onClick: !disable ? onClick : function () {}, styleName: styleName }, rest),
    children
  );

  WithdrawButton.propTypes = {
    onClick: _propTypes2.default.func.isRequired,
    className: _propTypes2.default.string,
    disabled: _propTypes2.default.bool
  };
};
exports.default = (0, _reactCssModules2.default)(WithdrawButton, _WithdrawButton2.default, { allowMultiple: true });

/***/ }),

/***/ 829:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Href = __webpack_require__(225);

var _Href2 = _interopRequireDefault(_Href);

var _appConfig = __webpack_require__(30);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setApi = function setApi(type, id) {
  switch (type) {
    case 'BTC':
      return _appConfig2.default.link.bitpay + '/tx/' + id;

    case 'ETH':
      return _appConfig2.default.link.etherscan + '/tx/' + id;

    case 'EOS':
      return _appConfig2.default.link.eos + '/tx/' + id;

    default:
      return '' + id;
  }
};

var TransactionLink = function TransactionLink(_ref) {
  var type = _ref.type,
      id = _ref.id;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transactionLink28', defaultMessage: 'Transaction: ' }),
    _react2.default.createElement(
      'strong',
      null,
      _react2.default.createElement(
        _Href2.default,
        { tab: setApi(type, id), rel: 'noopener noreferrer' },
        id
      )
    )
  );
};

TransactionLink.propTypes = {
  type: _propTypes2.default.string.isRequired, // BTC, ETH ...
  id: _propTypes2.default.string.isRequired // transaction id
};

exports.default = TransactionLink;

/***/ }),

/***/ 830:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(46);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(55);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _autosize = __webpack_require__(1911);

var _autosize2 = _interopRequireDefault(_autosize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UPDATE = 'autosize:update';
var DESTROY = 'autosize:destroy';
var RESIZED = 'autosize:resized';

var TextareaAutosize = (_temp2 = _class = function (_Component) {
  (0, _inherits3.default)(TextareaAutosize, _Component);

  function TextareaAutosize() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TextareaAutosize);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TextareaAutosize.__proto__ || (0, _getPrototypeOf2.default)(TextareaAutosize)).call.apply(_ref, [this].concat(args))), _this), _this.dispatchEvent = function (EVENT_TYPE, defer) {
      var event = document.createEvent('Event');

      event.initEvent(EVENT_TYPE, true, false);

      var dispatch = function dispatch() {
        return _this.textareaEl.dispatchEvent(event);
      };

      if (defer) {
        setTimeout(dispatch);
      } else {
        dispatch();
      }
    }, _this.getValue = function (_ref2) {
      var valueLink = _ref2.valueLink,
          value = _ref2.value;
      return valueLink ? valueLink.value : value;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TextareaAutosize, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      (0, _autosize2.default)(this.textareaEl);

      if (this.props.onResize) {
        this.textareaEl.addEventListener(RESIZED, this.props.onResize);
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.props.onResize) {
        this.textareaEl.removeEventListener(RESIZED, this.props.onResize);
      }

      this.dispatchEvent(DESTROY);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.getValue(nextProps) !== this.getValue(this.props)) {
        this.dispatchEvent(UPDATE, true);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          valueLink = _props.valueLink,
          props = (0, _objectWithoutProperties3.default)(_props, ['valueLink']);


      return _react2.default.createElement('textarea', (0, _extends3.default)({
        ref: function ref(el) {
          return _this2.textareaEl = el;
        }
      }, props, {
        value: valueLink.value,
        onChange: valueLink.action(function (x, e) {
          return e.target.value;
        })
      }));
    }
  }]);
  return TextareaAutosize;
}(_react.Component), _class.propTypes = {
  valueLink: _propTypes2.default.object.isRequired,
  onResize: _propTypes2.default.func
}, _class.defaultProps = {
  rows: 1
}, _temp2);
exports.default = TextareaAutosize;

/***/ }),

/***/ 831:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.iconNames = undefined;

var _keys = __webpack_require__(37);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyIcon = __webpack_require__(1931);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

var _images = __webpack_require__(1932);

var _images2 = _interopRequireDefault(_images);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var iconNames = exports.iconNames = (0, _keys2.default)(_images2.default);

var CurrencyIcon = function CurrencyIcon(_ref) {
  var className = _ref.className,
      style = _ref.style,
      name = _ref.name;

  var isIconExist = iconNames.includes(name.toLowerCase());

  if (isIconExist) {
    return _react2.default.createElement('img', {
      className: className,
      src: _images2.default[name],
      alt: name + ' icon',
      role: 'image'
    });
  }

  return _react2.default.createElement(
    'span',
    {
      role: 'letter',
      styleName: 'text',
      className: className,
      style: style
    },
    name.charAt(0).toUpperCase()
  );
};

exports.default = (0, _reactCssModules2.default)(CurrencyIcon, _CurrencyIcon2.default);

/***/ }),

/***/ 832:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(56);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDocumentMeta = __webpack_require__(833);

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _Seo2 = __webpack_require__(835);

var _Seo3 = _interopRequireDefault(_Seo2);

var _JsonLd = __webpack_require__(836);

var _JsonLd2 = _interopRequireDefault(_JsonLd);

var _seo = __webpack_require__(368);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PageSeo = (_temp2 = _class = function (_Seo) {
  (0, _inherits3.default)(PageSeo, _Seo);

  function PageSeo() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PageSeo);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PageSeo.__proto__ || (0, _getPrototypeOf2.default)(PageSeo)).call.apply(_ref, [this].concat(args))), _this), _this.getValues = function () {
      if (!!_this.seoPage) {
        return (0, _assign2.default)({}, _this.seoPage, {
          url: (0, _seo.getUrl)(_this.seoPage.uri)
        });
      } else {
        var _this$props = _this.props,
            defaultTitle = _this$props.defaultTitle,
            defaultDescription = _this$props.defaultDescription;

        return {
          title: defaultTitle,
          description: defaultDescription,
          uri: null,
          url: null
        };
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PageSeo, [{
    key: 'render',
    value: function render() {
      var _getValues = this.getValues(),
          title = _getValues.title,
          description = _getValues.description,
          uri = _getValues.uri,
          url = _getValues.url;

      return _react2.default.createElement(
        _reactDocumentMeta2.default,
        {
          title: title,
          description: description,
          canonical: url,
          meta: {
            property: {
              'og:title': title,
              'og:description': description,
              'og:url': url,
              'og:image': _seo2.default.config.logo
            }
          }
        },
        _react2.default.createElement(_JsonLd2.default, { uri: uri, title: title, description: description })
      );
    }
  }]);
  return PageSeo;
}(_Seo3.default), _class.propTypes = {
  location: _propTypes2.default.object.isRequired,
  defaultTitle: _propTypes2.default.string,
  defaultDescription: _propTypes2.default.string
}, _temp2);
exports.default = PageSeo;

/***/ }),

/***/ 835:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDocumentMeta = __webpack_require__(833);

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _JsonLd = __webpack_require__(836);

var _JsonLd2 = _interopRequireDefault(_JsonLd);

var _seo = __webpack_require__(368);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Seo = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Seo, _Component);

  function Seo(props) {
    (0, _classCallCheck3.default)(this, Seo);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Seo.__proto__ || (0, _getPrototypeOf2.default)(Seo)).call(this, props));

    _this.seoPage = (0, _seo.getSeoPage)(props.location.pathname);
    return _this;
  }

  (0, _createClass3.default)(Seo, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.location.pathname !== this.props.location.pathname) {
        this.seoPage = (0, _seo.getSeoPage)(nextProps.location.pathname);
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props.location.pathname !== nextProps.location.pathname;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.seoPage) {
        return null;
      }
      var _seoPage = this.seoPage,
          uri = _seoPage.uri,
          title = _seoPage.title,
          description = _seoPage.description;


      var url = (0, _seo.getUrl)(uri);
      return _react2.default.createElement(
        _reactDocumentMeta2.default,
        {
          title: title,
          description: description,
          canonical: url,
          meta: {
            property: {
              'og:title': title,
              'og:description': description,
              'og:url': url,
              'og:image': _seo2.default.config.logo
            }
          }
        },
        _react2.default.createElement(_JsonLd2.default, { uri: uri, title: title, description: description })
      );
    }
  }]);
  return Seo;
}(_react.Component), _class.propTypes = {
  location: _propTypes2.default.object.isRequired
}, _temp);
exports.default = Seo;

/***/ }),

/***/ 836:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(121);

var _stringify2 = _interopRequireDefault(_stringify);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _seo = __webpack_require__(368);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var JsonLd = function JsonLd(_ref) {
  var uri = _ref.uri,
      title = _ref.title,
      description = _ref.description;
  return _react2.default.createElement('script', {
    type: 'application/ld+json',
    dangerouslySetInnerHTML: {
      __html: (0, _stringify2.default)({
        '@context': 'http://schema.org',
        '@type': 'Website',
        sameAs: [_seo2.default.config.medium, _seo2.default.config.twitter, _seo2.default.config.facebook, _seo2.default.config.telegram],
        email: _seo2.default.config.email,
        url: (0, _seo.getUrl)(uri),
        name: title,
        description: description,
        logo: _seo2.default.config.logo
      })
    }
  });
};

exports.default = JsonLd;

/***/ }),

/***/ 837:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.parsePair = exports.parseTicker = undefined;

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _bignumber = __webpack_require__(48);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _TOKEN_DECIMALS = __webpack_require__(774);

var _TOKEN_DECIMALS2 = _interopRequireDefault(_TOKEN_DECIMALS);

var _TRADE_TICKERS = __webpack_require__(773);

var _TRADE_TICKERS2 = _interopRequireDefault(_TRADE_TICKERS);

var _PAIR_TYPES = __webpack_require__(354);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('TOKEN_DECIMALS', _TOKEN_DECIMALS2.default);
console.log('TRADE_TICKERS', _TRADE_TICKERS2.default);

var PAIR_BID = _PAIR_TYPES2.default.BID;
var PAIR_ASK = _PAIR_TYPES2.default.ASK;

var _isAsk = function _isAsk(type) {
  return type === _PAIR_TYPES2.default.ASK;
};
var _isBid = function _isBid(type) {
  return type === _PAIR_TYPES2.default.BID;
};

var filteredDecimals = function filteredDecimals(_ref) {
  var amount = _ref.amount,
      currency = _ref.currency;
  return (0, _bignumber2.default)(amount).decimalPlaces(_TOKEN_DECIMALS2.default[currency] || 0).toString();
};

var parseTicker = exports.parseTicker = function parseTicker(order) {
  var buy = order.buyCurrency,
      sell = order.sellCurrency;


  var BS = (buy + '-' + sell).toUpperCase(); // buys ETH, sells BTC, BID
  var SB = (sell + '-' + buy).toUpperCase(); // sells ETH = ASK

  if (_TRADE_TICKERS2.default.includes(BS)) {

    return {
      ticker: BS,
      type: PAIR_BID
    };
  }

  if (_TRADE_TICKERS2.default.includes(SB)) {

    return {
      ticker: SB,
      type: PAIR_ASK
    };
  }

  console.error(new Error('ParseTickerError: No such tickers: ' + BS + ',' + SB));
  return { ticker: 'none', type: PAIR_BID };
};

var parsePair = exports.parsePair = function parsePair(str) {

  if (!str) {
    throw new Error('Empty string: ' + str);
  }

  if (typeof str !== 'string') {
    throw new Error('ParseTickerError: Not a string: ' + str);
  }

  var tokens = str.split('-');

  if (!tokens.length === 2) {
    throw new Error('ParseTickerError: Wrong tokens: ' + str);
  }

  if (!_TRADE_TICKERS2.default.includes(str)) {
    str = tokens.reverse().join('-');
  }

  if (!_TRADE_TICKERS2.default.includes(str)) {
    throw new Error('ParseTickerError: Ticker not found: ' + str);
  }

  var MAIN = tokens[0].toUpperCase();
  var BASE = tokens[1].toUpperCase();

  return {
    MAIN: MAIN,
    BASE: BASE
  };
};

var Pair = function () {
  function Pair(_ref2) {
    var price = _ref2.price,
        amount = _ref2.amount,
        ticker = _ref2.ticker,
        type = _ref2.type;
    (0, _classCallCheck3.default)(this, Pair);

    this.price = (0, _bignumber2.default)(price);
    this.amount = (0, _bignumber2.default)(amount);

    var _parsePair = parsePair(ticker),
        MAIN = _parsePair.MAIN,
        BASE = _parsePair.BASE;

    if (!MAIN || !BASE) throw new Error('CreateOrderError: No currency: ' + MAIN + '-' + BASE);

    this.ticker = ticker;
    this.main = MAIN;
    this.base = BASE;
    this.type = type === _PAIR_TYPES2.default.BID ? _PAIR_TYPES2.default.BID : _PAIR_TYPES2.default.ASK;
    this.total = this.price.times(this.amount);
  }

  /*
  * 10 ETH -> 1 BTC
  *
  * ticker: ETH-BTC
  *
  * So we are on ETH market, thus:
  *   - ASK orders are SELL ETH (for BTC),
  *   - BID orders are BUY ETH (for BTC)
  *
  * This order is SELLING ETH, to it's ASK
  * type: BID = true, ASK = false
  *
  * Price is also calculated in BTC, while amount in ETH
  * price: 0.1
  * amount: 10
  *
  *
  * So, for type = ASK
  *
  * buyCurrency: BTC = base
  * sellCurrency: ETH = main
  * buyAmount: 1 BTC = (0.1 BTC/ETH) * 10 ETH = price * amount
  * sellAmount: 10 ETH = 10 ETH = amount
  *
  */


  (0, _createClass3.default)(Pair, [{
    key: 'toOrder',
    value: function toOrder() {
      var ticker = this.ticker,
          type = this.type,
          price = this.price,
          amount = this.amount;


      console.log('create order ' + this);

      var _parsePair2 = parsePair(ticker),
          MAIN = _parsePair2.MAIN,
          BASE = _parsePair2.BASE;

      if (!MAIN || !BASE) throw new Error('CreateOrderError: No currency: ' + main + '-' + base);

      if (![PAIR_ASK, PAIR_BID].includes(type)) throw new Error('CreateOrderError: Wrong order type: ' + type);

      var base = { currency: BASE, amount: amount.times(price) };
      var main = { currency: MAIN, amount: amount };

      var buy = type === PAIR_ASK ? base : main;
      var sell = type === PAIR_ASK ? main : base;

      return {
        buyCurrency: buy.currency,
        sellCurrency: sell.currency,
        buyAmount: filteredDecimals(buy),
        sellAmount: filteredDecimals(sell),
        exchangeRate: price // isAsk(type) ? price : 1/price
      };
    }
  }, {
    key: 'toString',
    value: function toString() {
      var type = this.type === _PAIR_TYPES2.default.BID ? 'bid' : 'ask';
      return type + ' \t' + this.ticker + ' \t' + this.price.dp(8) + ' \t' + this.amount;
    }
  }, {
    key: 'isBid',
    value: function isBid() {
      return _isBid(this.type);
    }
  }, {
    key: 'isAsk',
    value: function isAsk() {
      return _isAsk(this.type);
    }
  }], [{
    key: 'fromOrder',
    value: function fromOrder(order) {
      var buyCurrency = order.buyCurrency,
          sellCurrency = order.sellCurrency,
          buyAmount = order.buyAmount,
          sellAmount = order.sellAmount;

      var _parseTicker = parseTicker(order),
          ticker = _parseTicker.ticker,
          type = _parseTicker.type;

      if (ticker === 'none') {
        return;
      }

      // ASK means sellCurrency is ETH, then sell is main
      var mainAmount = (0, _bignumber2.default)(type === PAIR_ASK ? sellAmount : buyAmount);
      var baseAmount = (0, _bignumber2.default)(type === PAIR_ASK ? buyAmount : sellAmount);

      return new Pair({
        ticker: ticker,
        type: type,
        price: baseAmount.div(mainAmount),
        amount: mainAmount
      });
    }
  }, {
    key: 'check',
    value: function check(order, ticker) {
      try {
        var pair = Pair.fromOrder(order);

        var _parsePair3 = parsePair(ticker.toUpperCase()),
            MAIN = _parsePair3.MAIN,
            BASE = _parsePair3.BASE;

        return pair.ticker === MAIN + '-' + BASE;
      } catch (err) {
        return false;
      }
    }
  }, {
    key: 'compareOrders',
    value: function compareOrders(order1, order2) {
      var pair1 = Pair.fromOrder(order1);
      var pair2 = Pair.fromOrder(order2);

      return pair1.price.comparedTo(pair2.price);
    }
  }]);
  return Pair;
}();

exports.default = Pair;

/***/ }),

/***/ 838:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(47);

var _actions = __webpack_require__(22);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(101);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PrivateKeysModal = __webpack_require__(1995);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _Field = __webpack_require__(1996);

var _Field2 = _interopRequireDefault(_Field);

var _Modal = __webpack_require__(371);

var _Modal2 = _interopRequireDefault(_Modal);

var _Button = __webpack_require__(75);

var _Button2 = _interopRequireDefault(_Button);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var views = {
  saveKeys: 'saveKeys',
  checkKeys: 'checkKeys'
};

var PrivateKeysModal = (_dec = (0, _redaction.connect)({
  ethData: 'user.ethData',
  btcData: 'user.btcData'
}), _dec2 = (0, _reactCssModules2.default)(_PrivateKeysModal2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$PureComponent) {
  (0, _inherits3.default)(PrivateKeysModal, _React$PureComponent);

  function PrivateKeysModal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PrivateKeysModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PrivateKeysModal.__proto__ || (0, _getPrototypeOf2.default)(PrivateKeysModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: views.saveKeys,
      ethValidated: false,
      btcValidated: false
    }, _this.changeView = function (view) {
      _this.setState({
        view: view
      });
    }, _this.close = function () {
      var name = _this.props.name;


      _helpers.localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      _actions2.default.modals.close(name);
    }, _this.handleDownload = function () {
      _actions2.default.user.downloadPrivateKeys();
      _actions2.default.notifications.show(_helpers.constants.notifications.Message, {
        message: 'Check your browser downloads'
      });

      // this.changeView(views.checkKeys)
    }, _this.handleNext = function () {
      _this.changeView(views.checkKeys);
    }, _this.handleSendByEmail = function () {
      var text = _this.getText();

      window.open('mailto:?subject=Your_Subject&body=' + text);
    }, _this.handleKeysSubmit = function () {
      _helpers.localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      window.location.reload();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PrivateKeysModal, [{
    key: 'render',
    value: function render() {
      var view = this.state.view;
      var _props = this.props,
          name = _props.name,
          ethData = _props.ethData,
          btcData = _props.btcData;


      var ethValidated = _swValuelink2.default.state(this, 'ethValidated');
      var btcValidated = _swValuelink2.default.state(this, 'btcValidated');
      var isValidated = ethValidated.value && btcValidated.value;

      return _react2.default.createElement(
        _Modal2.default,
        {
          styleName: 'modal',
          name: name,
          showCloseButton: false,
          showLogo: false,
          title: 'CAUTION!'
        },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          view === views.saveKeys ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PrivateKeysModal991',
                defaultMessage: 'Before you continue be sure to save your private keys! {br} {br} there is a big chance you will loose your money. '
              }),
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal99', defaultMessage: 'It`s very important because If you don`t ' }),
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal105', defaultMessage: 'there is a big chance you will loose your money. ' })
            ),
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              { id: 'PrivateKeysModal105', defaultMessage: 'We do not store your private keys and will not be able to restore them!' },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  { styleName: 'subTitle' },
                  message
                );
              }
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'buttonContainer' },
              _react2.default.createElement(
                'div',
                { styleName: 'buttonSubContainer' },
                _react2.default.createElement(
                  _reactIntl.FormattedMessage,
                  { id: 'PrivateKeysModal110', defaultMessage: 'Click here' },
                  function (message) {
                    return _react2.default.createElement(
                      'span',
                      { styleName: 'text' },
                      message
                    );
                  }
                ),
                _react2.default.createElement(
                  'span',
                  { styleName: 'button', onClick: this.handleDownload },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal113', defaultMessage: '1. DOWNLOAD KEYS & INSTRUCTION' })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'buttonSubContainer' },
                _react2.default.createElement(
                  _reactIntl.FormattedMessage,
                  { id: 'PrivateKeysModal118', defaultMessage: 'Then click here' },
                  function (message) {
                    return _react2.default.createElement(
                      'span',
                      { styleName: 'text' },
                      message
                    );
                  }
                ),
                _react2.default.createElement(
                  _Button2.default,
                  { brand: true, styleName: 'button', onClick: this.handleNext },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal121', defaultMessage: '2. NEXT STEP' })
                )
              )
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _reactIntl.FormattedMessage,
              {
                id: 'PrivateKeysModal130',
                defaultMessage: 'Please fill information below from instruction.txt file. We`d like to be sure that you saved the private keys before you can continue to the site.'
              },
              function (message) {
                return _react2.default.createElement(
                  'div',
                  { styleName: 'title' },
                  message
                );
              }
            ),
            _react2.default.createElement(_Field2.default, {
              label: ethData.currency,
              privateKey: ethData.privateKey,
              valueLink: ethValidated
            }),
            _react2.default.createElement(_Field2.default, {
              label: btcData.currency,
              privateKey: btcData.privateKey,
              valueLink: btcValidated
            }),
            isValidated && _react2.default.createElement(
              _Button2.default,
              { white: true, styleName: 'button', onClick: this.handleKeysSubmit },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal145', defaultMessage: 'GO TO THE SITE!' })
            )
          )
        )
      );
    }
  }]);
  return PrivateKeysModal;
}(_react2.default.PureComponent), _class2.propTypes = {
  name: _propTypes2.default.string,
  ethData: _propTypes2.default.object.isRequired,
  btcData: _propTypes2.default.object.isRequired
}, _temp2)) || _class) || _class);
exports.default = PrivateKeysModal;

/***/ }),

/***/ 839:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(12);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(62);

var _helpers = __webpack_require__(20);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Logo = __webpack_require__(2003);

var _Logo2 = _interopRequireDefault(_Logo);

var _logo = __webpack_require__(2004);

var _logo2 = _interopRequireDefault(_logo);

var _logoColored = __webpack_require__(2005);

var _logoColored2 = _interopRequireDefault(_logoColored);

var _reactTooltip = __webpack_require__(141);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Logo = function Logo(_ref) {
  var colored = _ref.colored,
      withLink = _ref.withLink,
      mobile = _ref.mobile;


  var imgNode = _react2.default.createElement('img', {
    styleName: !withLink && 'logo',
    src: colored ? _logoColored2.default : _logo2.default,
    alt: 'swap.online logo'
  });

  if (withLink) {
    return _react2.default.createElement(
      _react.Fragment,
      null,
      _react2.default.createElement(
        _reactRouterDom.Link,
        { styleName: mobile ? 'mobile' : 'logo', 'data-tip': true, 'data-for': 'logo', to: _helpers.links.home },
        imgNode,
        _react2.default.createElement(
          _reactTooltip2.default,
          { id: 'logo', type: 'light', effect: 'solid' },
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'logo29', defaultMessage: 'Go Home' },
            function (message) {
              return _react2.default.createElement(
                'span',
                null,
                message
              );
            }
          )
        )
      )
    );
  }

  return imgNode;
};

Logo.propTypes = {
  colored: _propTypes2.default.string,
  withLink: _propTypes2.default.bool,
  mobile: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(Logo, _Logo2.default);

/***/ }),

/***/ 840:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _classnames = __webpack_require__(82);

var _classnames2 = _interopRequireDefault(_classnames);

var _momentWithLocalesEs = __webpack_require__(841);

var _momentWithLocalesEs2 = _interopRequireDefault(_momentWithLocalesEs);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2014);

var _Row2 = _interopRequireDefault(_Row);

var _Coin = __webpack_require__(370);

var _Coin2 = _interopRequireDefault(_Coin);

var _LinkTransaction = __webpack_require__(2015);

var _LinkTransaction2 = _interopRequireDefault(_LinkTransaction);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function (_React$PureComponent) {
  (0, _inherits3.default)(Row, _React$PureComponent);

  function Row() {
    (0, _classCallCheck3.default)(this, Row);
    return (0, _possibleConstructorReturn3.default)(this, (Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).apply(this, arguments));
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          type = _props.type,
          date = _props.date,
          direction = _props.direction,
          hash = _props.hash,
          value = _props.value,
          confirmations = _props.confirmations;


      var statusStyleName = (0, _classnames2.default)('status', {
        'in': direction === 'in',
        'out': direction !== 'in'
      });

      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coin2.default, { name: type, size: 40 })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: statusStyleName },
            direction === 'in' ? 'Received ' : 'Sent '
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'date' },
            (0, _momentWithLocalesEs2.default)(date).format('LLLL')
          ),
          _react2.default.createElement(
            _LinkTransaction2.default,
            { type: type, styleName: 'address', hash: hash },
            hash
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: confirmations > 0 ? 'confirm cell' : 'unconfirmed cell' },
            confirmations > 0 ? confirmations > 6 ? 'Confirmed' : 'Confirm ' + confirmations : 'Unconfirmed'
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'amount' },
            value,
            ' ',
            type.toUpperCase()
          )
        )
      );
    }
  }]);
  return Row;
}(_react2.default.PureComponent);

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default, { allowMultiple: true });

/***/ }),

/***/ 842:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(8);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(3);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(4);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Table = __webpack_require__(178);

var _Table2 = _interopRequireDefault(_Table);

var _Table3 = __webpack_require__(227);

var _Table4 = _interopRequireDefault(_Table3);

var _RowHistory = __webpack_require__(2016);

var _RowHistory2 = _interopRequireDefault(_RowHistory);

var _reactIntl = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapsHistory = function (_PureComponent) {
  (0, _inherits3.default)(SwapsHistory, _PureComponent);

  function SwapsHistory() {
    (0, _classCallCheck3.default)(this, SwapsHistory);
    return (0, _possibleConstructorReturn3.default)(this, (SwapsHistory.__proto__ || (0, _getPrototypeOf2.default)(SwapsHistory)).apply(this, arguments));
  }

  (0, _createClass3.default)(SwapsHistory, [{
    key: 'render',
    value: function render() {
      var orders = this.props.orders;

      var titles = ['Avatar', 'Exchange', 'You buy', 'You sell', 'Exchange rate', 'Status refund', 'Status order', 'Lock time', 'Link'];

      if (orders === null || orders.length === 0) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { style: { marginBottom: '50px' } },
        _react2.default.createElement(
          _reactIntl.FormattedMessage,
          { id: 'SwapHisrory21', defaultMessage: 'Swaps history' },
          function (message) {
            return _react2.default.createElement(
              'h3',
              null,
              message
            );
          }
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table-history',
          className: _Table4.default.historySwap,
          titles: titles,
          rows: orders.reverse(),
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_RowHistory2.default, {
              key: index,
              row: row
            });
          }
        })
      );
    }
  }]);
  return SwapsHistory;
}(_react.PureComponent);

exports.default = SwapsHistory;

/***/ }),

/***/ 86:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(9);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _InlineLoader = __webpack_require__(1834);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InlineLoader = function InlineLoader() {
  return _react2.default.createElement(
    'div',
    { styleName: 'ellipsis' },
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null)
  );
};

exports.default = (0, _reactCssModules2.default)(InlineLoader, _InlineLoader2.default);

/***/ }),

/***/ 91:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getState = exports.reducers = undefined;

var _store = __webpack_require__(456);

var _store2 = _interopRequireDefault(_store);

var _reducers = __webpack_require__(59);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getState = function getState() {
  return _store2.default.getState();
};

exports.reducers = _reducers2.default;
exports.getState = getState;

/***/ }),

/***/ 938:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 99:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Flow = undefined;

var _Swap = __webpack_require__(1651);

var _Swap2 = _interopRequireDefault(_Swap);

var _Flow = __webpack_require__(1668);

var _Flow2 = _interopRequireDefault(_Flow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Swap2.default;
exports.Flow = _Flow2.default;

/***/ })

},[1254]);